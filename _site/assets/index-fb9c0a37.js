var Lh=Object.defineProperty;var $h=(i,t,e)=>t in i?Lh(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Lt=(i,t,e)=>($h(i,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(i,t){t=t||window;for(var e=0;e<this.length;e++)i.call(t,this[e],e,this)});window.history.scrollRestoration&&(window.history.scrollRestoration="manual");const zh=i=>{const t=new Set;do for(const e of Reflect.ownKeys(i))t.add([i,e]);while((i=Reflect.getPrototypeOf(i))&&i!==Object.prototype);return t};function Zi(i,{include:t,exclude:e}={}){const s=r=>{const n=a=>typeof a=="string"?r===a:a.test(r);return t?t.some(n):e?!e.some(n):!0};for(const[r,n]of zh(i.constructor.prototype)){if(n==="constructor"||!s(n))continue;const a=Reflect.getOwnPropertyDescriptor(r,n);a&&typeof a.value=="function"&&(i[n]=i[n].bind(i))}return i}var Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oe(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pa={exports:{}};(function(i,t){(function(e,s){i.exports=s()})(Se,function(){var e=function(){function s(p){return a.appendChild(p.dom),p}function r(p){for(var f=0;f<a.children.length;f++)a.children[f].style.display=f===p?"block":"none";n=p}var n=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(p){p.preventDefault(),r(++n%a.children.length)},!1);var o=(performance||Date).now(),h=o,l=0,c=s(new e.Panel("FPS","#0ff","#002")),m=s(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=s(new e.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:a,addPanel:s,showPanel:r,begin:function(){o=(performance||Date).now()},end:function(){l++;var p=(performance||Date).now();if(m.update(p-o,200),p>h+1e3&&(c.update(1e3*l/(p-h),100),h=p,l=0,d)){var f=performance.memory;d.update(f.usedJSHeapSize/1048576,f.jsHeapSizeLimit/1048576)}return p},update:function(){o=this.end()},domElement:a,setMode:r}};return e.Panel=function(s,r,n){var a=1/0,o=0,h=Math.round,l=h(window.devicePixelRatio||1),c=80*l,m=48*l,d=3*l,p=2*l,f=3*l,u=15*l,g=74*l,_=30*l,y=document.createElement("canvas");y.width=c,y.height=m,y.style.cssText="width:80px;height:48px";var v=y.getContext("2d");return v.font="bold "+9*l+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,c,m),v.fillStyle=r,v.fillText(s,d,p),v.fillRect(f,u,g,_),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f,u,g,_),{dom:y,update:function(w,b){a=Math.min(a,w),o=Math.max(o,w),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,c,u),v.fillStyle=r,v.fillText(h(w)+" "+s+" ("+h(a)+"-"+h(o)+")",d,p),v.drawImage(y,f+l,u,g-l,_,f,u,g-l,_),v.fillRect(f+g-l,u,l,_),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f+g-l,u,l,h((1-w/b)*_))}}},e})})(Pa);var Dh=Pa.exports;const Rh=oe(Dh);var Xr=!1,pe,Rs,Is,$i,zi,La,Di,ks,Fs,Ns,$a,Bs,Us,za,Da;function yt(){if(!Xr){Xr=!0;var i=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(i),e=/(Mac OS X)|(Windows)|(Linux)/.exec(i);if(Bs=/\b(iPhone|iP[ao]d)/.exec(i),Us=/\b(iP[ao]d)/.exec(i),Ns=/Android/i.exec(i),za=/FBAN\/\w+;/i.exec(i),Da=/Mobile/i.exec(i),$a=!!/Win64/.exec(i),t){pe=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,pe&&document&&document.documentMode&&(pe=document.documentMode);var s=/(?:Trident\/(\d+.\d+))/.exec(i);La=s?parseFloat(s[1])+4:pe,Rs=t[2]?parseFloat(t[2]):NaN,Is=t[3]?parseFloat(t[3]):NaN,$i=t[4]?parseFloat(t[4]):NaN,$i?(t=/(?:Chrome\/(\d+\.\d+))/.exec(i),zi=t&&t[1]?parseFloat(t[1]):NaN):zi=NaN}else pe=Rs=Is=zi=$i=NaN;if(e){if(e[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(i);Di=r?parseFloat(r[1].replace("_",".")):!0}else Di=!1;ks=!!e[2],Fs=!!e[3]}else Di=ks=Fs=!1}}var Vs={ie:function(){return yt()||pe},ieCompatibilityMode:function(){return yt()||La>pe},ie64:function(){return Vs.ie()&&$a},firefox:function(){return yt()||Rs},opera:function(){return yt()||Is},webkit:function(){return yt()||$i},safari:function(){return Vs.webkit()},chrome:function(){return yt()||zi},windows:function(){return yt()||ks},osx:function(){return yt()||Di},linux:function(){return yt()||Fs},iphone:function(){return yt()||Bs},mobile:function(){return yt()||Bs||Us||Ns||Da},nativeApp:function(){return yt()||za},android:function(){return yt()||Ns},ipad:function(){return yt()||Us}},Ih=Vs,Mi=!!(typeof window<"u"&&window.document&&window.document.createElement),kh={canUseDOM:Mi,canUseWorkers:typeof Worker<"u",canUseEventListeners:Mi&&!!(window.addEventListener||window.attachEvent),canUseViewport:Mi&&!!window.screen,isInWorker:!Mi},Fh=kh,Ra=Fh,Ia;Ra.canUseDOM&&(Ia=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Nh(i,t){if(!Ra.canUseDOM||t&&!("addEventListener"in document))return!1;var e="on"+i,s=e in document;if(!s){var r=document.createElement("div");r.setAttribute(e,"return;"),s=typeof r[e]=="function"}return!s&&Ia&&i==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var Bh=Nh,Uh=Ih,Vh=Bh,Kr=10,Zr=40,Qr=800;function ka(i){var t=0,e=0,s=0,r=0;return"detail"in i&&(e=i.detail),"wheelDelta"in i&&(e=-i.wheelDelta/120),"wheelDeltaY"in i&&(e=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(t=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(t=e,e=0),s=t*Kr,r=e*Kr,"deltaY"in i&&(r=i.deltaY),"deltaX"in i&&(s=i.deltaX),(s||r)&&i.deltaMode&&(i.deltaMode==1?(s*=Zr,r*=Zr):(s*=Qr,r*=Qr)),s&&!t&&(t=s<1?-1:1),r&&!e&&(e=r<1?-1:1),{spinX:t,spinY:e,pixelX:s,pixelY:r}}ka.getEventType=function(){return Uh.firefox()?"DOMMouseScroll":Vh("wheel")?"wheel":"mousewheel"};var Gh=ka,qh=Gh;const jh=oe(qh);function Hh(i,t){for(var e=-1,s=i==null?0:i.length;++e<s&&t(i[e],e,i)!==!1;);return i}var Yh=Hh;function Wh(i){return function(t,e,s){for(var r=-1,n=Object(t),a=s(t),o=a.length;o--;){var h=a[i?o:++r];if(e(n[h],h,n)===!1)break}return t}}var Xh=Wh,Kh=Xh,Zh=Kh(),Qh=Zh;function Jh(i,t){for(var e=-1,s=Array(i);++e<i;)s[e]=t(e);return s}var tl=Jh,el=typeof Se=="object"&&Se&&Se.Object===Object&&Se,Fa=el,il=Fa,sl=typeof self=="object"&&self&&self.Object===Object&&self,rl=il||sl||Function("return this")(),Zt=rl,nl=Zt,al=nl.Symbol,Qi=al,Jr=Qi,Na=Object.prototype,ol=Na.hasOwnProperty,hl=Na.toString,Qe=Jr?Jr.toStringTag:void 0;function ll(i){var t=ol.call(i,Qe),e=i[Qe];try{i[Qe]=void 0;var s=!0}catch{}var r=hl.call(i);return s&&(t?i[Qe]=e:delete i[Qe]),r}var cl=ll,ul=Object.prototype,dl=ul.toString;function fl(i){return dl.call(i)}var pl=fl,tn=Qi,ml=cl,gl=pl,_l="[object Null]",vl="[object Undefined]",en=tn?tn.toStringTag:void 0;function yl(i){return i==null?i===void 0?vl:_l:en&&en in Object(i)?ml(i):gl(i)}var _i=yl;function wl(i){return i!=null&&typeof i=="object"}var vi=wl,bl=_i,xl=vi,Al="[object Arguments]";function El(i){return xl(i)&&bl(i)==Al}var Tl=El,sn=Tl,Ml=vi,Ba=Object.prototype,Sl=Ba.hasOwnProperty,Cl=Ba.propertyIsEnumerable,Ol=sn(function(){return arguments}())?sn:function(i){return Ml(i)&&Sl.call(i,"callee")&&!Cl.call(i,"callee")},Ua=Ol,Pl=Array.isArray,jt=Pl,Ni={exports:{}};function Ll(){return!1}var $l=Ll;Ni.exports;(function(i,t){var e=Zt,s=$l,r=t&&!t.nodeType&&t,n=r&&!0&&i&&!i.nodeType&&i,a=n&&n.exports===r,o=a?e.Buffer:void 0,h=o?o.isBuffer:void 0,l=h||s;i.exports=l})(Ni,Ni.exports);var Va=Ni.exports,zl=9007199254740991,Dl=/^(?:0|[1-9]\d*)$/;function Rl(i,t){var e=typeof i;return t=t??zl,!!t&&(e=="number"||e!="symbol"&&Dl.test(i))&&i>-1&&i%1==0&&i<t}var Ga=Rl,Il=9007199254740991;function kl(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Il}var mr=kl,Fl=_i,Nl=mr,Bl=vi,Ul="[object Arguments]",Vl="[object Array]",Gl="[object Boolean]",ql="[object Date]",jl="[object Error]",Hl="[object Function]",Yl="[object Map]",Wl="[object Number]",Xl="[object Object]",Kl="[object RegExp]",Zl="[object Set]",Ql="[object String]",Jl="[object WeakMap]",tc="[object ArrayBuffer]",ec="[object DataView]",ic="[object Float32Array]",sc="[object Float64Array]",rc="[object Int8Array]",nc="[object Int16Array]",ac="[object Int32Array]",oc="[object Uint8Array]",hc="[object Uint8ClampedArray]",lc="[object Uint16Array]",cc="[object Uint32Array]",K={};K[ic]=K[sc]=K[rc]=K[nc]=K[ac]=K[oc]=K[hc]=K[lc]=K[cc]=!0;K[Ul]=K[Vl]=K[tc]=K[Gl]=K[ec]=K[ql]=K[jl]=K[Hl]=K[Yl]=K[Wl]=K[Xl]=K[Kl]=K[Zl]=K[Ql]=K[Jl]=!1;function uc(i){return Bl(i)&&Nl(i.length)&&!!K[Fl(i)]}var dc=uc;function fc(i){return function(t){return i(t)}}var pc=fc,Bi={exports:{}};Bi.exports;(function(i,t){var e=Fa,s=t&&!t.nodeType&&t,r=s&&!0&&i&&!i.nodeType&&i,n=r&&r.exports===s,a=n&&e.process,o=function(){try{var h=r&&r.require&&r.require("util").types;return h||a&&a.binding&&a.binding("util")}catch{}}();i.exports=o})(Bi,Bi.exports);var mc=Bi.exports,gc=dc,_c=pc,rn=mc,nn=rn&&rn.isTypedArray,vc=nn?_c(nn):gc,qa=vc,yc=tl,wc=Ua,bc=jt,xc=Va,Ac=Ga,Ec=qa,Tc=Object.prototype,Mc=Tc.hasOwnProperty;function Sc(i,t){var e=bc(i),s=!e&&wc(i),r=!e&&!s&&xc(i),n=!e&&!s&&!r&&Ec(i),a=e||s||r||n,o=a?yc(i.length,String):[],h=o.length;for(var l in i)(t||Mc.call(i,l))&&!(a&&(l=="length"||r&&(l=="offset"||l=="parent")||n&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Ac(l,h)))&&o.push(l);return o}var Cc=Sc,Oc=Object.prototype;function Pc(i){var t=i&&i.constructor,e=typeof t=="function"&&t.prototype||Oc;return i===e}var Lc=Pc;function $c(i,t){return function(e){return i(t(e))}}var zc=$c,Dc=zc,Rc=Dc(Object.keys,Object),Ic=Rc,kc=Lc,Fc=Ic,Nc=Object.prototype,Bc=Nc.hasOwnProperty;function Uc(i){if(!kc(i))return Fc(i);var t=[];for(var e in Object(i))Bc.call(i,e)&&e!="constructor"&&t.push(e);return t}var Vc=Uc;function Gc(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var gr=Gc,qc=_i,jc=gr,Hc="[object AsyncFunction]",Yc="[object Function]",Wc="[object GeneratorFunction]",Xc="[object Proxy]";function Kc(i){if(!jc(i))return!1;var t=qc(i);return t==Yc||t==Wc||t==Hc||t==Xc}var ja=Kc,Zc=ja,Qc=mr;function Jc(i){return i!=null&&Qc(i.length)&&!Zc(i)}var _r=Jc,tu=Cc,eu=Vc,iu=_r;function su(i){return iu(i)?tu(i):eu(i)}var vr=su,ru=Qh,nu=vr;function au(i,t){return i&&ru(i,t,nu)}var ou=au,hu=_r;function lu(i,t){return function(e,s){if(e==null)return e;if(!hu(e))return i(e,s);for(var r=e.length,n=t?r:-1,a=Object(e);(t?n--:++n<r)&&s(a[n],n,a)!==!1;);return e}}var cu=lu,uu=ou,du=cu,fu=du(uu),Ha=fu;function pu(i){return i}var Ya=pu,mu=Ya;function gu(i){return typeof i=="function"?i:mu}var _u=gu,vu=Yh,yu=Ha,wu=_u,bu=jt;function xu(i,t){var e=bu(i)?vu:yu;return e(i,wu(t))}var Au=xu,Eu=Au;const at=oe(Eu);var Wa={exports:{}};(function(i){(function(){function t(u,g){document.addEventListener?u.addEventListener("scroll",g,!1):u.attachEvent("scroll",g)}function e(u){document.body?u():document.addEventListener?document.addEventListener("DOMContentLoaded",function g(){document.removeEventListener("DOMContentLoaded",g),u()}):document.attachEvent("onreadystatechange",function g(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",g),u())})}function s(u){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(u)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function r(u,g){u.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+g+";"}function n(u){var g=u.g.offsetWidth,_=g+100;return u.j.style.width=_+"px",u.i.scrollLeft=_,u.h.scrollLeft=u.h.scrollWidth+100,u.l!==g?(u.l=g,!0):!1}function a(u,g){function _(){var v=y;n(v)&&v.g.parentNode!==null&&g(v.l)}var y=u;t(u.h,_),t(u.i,_),n(u)}function o(u,g,_){g=g||{},_=_||window,this.family=u,this.style=g.style||"normal",this.weight=g.weight||"normal",this.stretch=g.stretch||"normal",this.context=_}var h=null,l=null,c=null,m=null;function d(u){return l===null&&(p(u)&&/Apple/.test(window.navigator.vendor)?(u=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!u&&603>parseInt(u[1],10)):l=!1),l}function p(u){return m===null&&(m=!!u.document.fonts),m}function f(u,g){var _=u.style,y=u.weight;if(c===null){var v=document.createElement("div");try{v.style.font="condensed 100px sans-serif"}catch{}c=v.style.font!==""}return[_,y,c?u.stretch:"","100px",g].join(" ")}o.prototype.load=function(u,g){var _=this,y=u||"BESbswy",v=0,w=g||3e3,b=new Date().getTime();return new Promise(function(x,E){if(p(_.context)&&!d(_.context)){var T=new Promise(function(M,P){function S(){new Date().getTime()-b>=w?P(Error(""+w+"ms timeout exceeded")):_.context.document.fonts.load(f(_,'"'+_.family+'"'),y).then(function(O){1<=O.length?M():setTimeout(S,25)},P)}S()}),A=new Promise(function(M,P){v=setTimeout(function(){P(Error(""+w+"ms timeout exceeded"))},w)});Promise.race([A,T]).then(function(){clearTimeout(v),x(_)},E)}else e(function(){function M(){var k;(k=$!=-1&&z!=-1||$!=-1&&R!=-1||z!=-1&&R!=-1)&&((k=$!=z&&$!=R&&z!=R)||(h===null&&(k=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!k&&(536>parseInt(k[1],10)||parseInt(k[1],10)===536&&11>=parseInt(k[2],10))),k=h&&($==U&&z==U&&R==U||$==ot&&z==ot&&R==ot||$==st&&z==st&&R==st)),k=!k),k&&(V.parentNode!==null&&V.parentNode.removeChild(V),clearTimeout(v),x(_))}function P(){if(new Date().getTime()-b>=w)V.parentNode!==null&&V.parentNode.removeChild(V),E(Error(""+w+"ms timeout exceeded"));else{var k=_.context.document.hidden;(k===!0||k===void 0)&&($=S.g.offsetWidth,z=O.g.offsetWidth,R=C.g.offsetWidth,M()),v=setTimeout(P,50)}}var S=new s(y),O=new s(y),C=new s(y),$=-1,z=-1,R=-1,U=-1,ot=-1,st=-1,V=document.createElement("div");V.dir="ltr",r(S,f(_,"sans-serif")),r(O,f(_,"serif")),r(C,f(_,"monospace")),V.appendChild(S.g),V.appendChild(O.g),V.appendChild(C.g),_.context.document.body.appendChild(V),U=S.g.offsetWidth,ot=O.g.offsetWidth,st=C.g.offsetWidth,P(),a(S,function(k){$=k,M()}),r(S,f(_,'"'+_.family+'",sans-serif')),a(O,function(k){z=k,M()}),r(O,f(_,'"'+_.family+'",serif')),a(C,function(k){R=k,M()}),r(C,f(_,'"'+_.family+'",monospace'))})})},i.exports=o})()})(Wa);var Tu=Wa.exports;const Xa=oe(Tu);var Gs={exports:{}};(function(i,t){(function(e,s){var r="1.0.37",n="",a="?",o="function",h="undefined",l="object",c="string",m="major",d="model",p="name",f="type",u="vendor",g="version",_="architecture",y="console",v="mobile",w="tablet",b="smarttv",x="wearable",E="embedded",T=500,A="Amazon",M="Apple",P="ASUS",S="BlackBerry",O="Browser",C="Chrome",$="Edge",z="Firefox",R="Google",U="Huawei",ot="LG",st="Microsoft",V="Motorola",k="Opera",ut="Samsung",dt="Sharp",ft="Sony",We="Xiaomi",Xe="Zebra",xi="Facebook",Ai="Chromium OS",pt="Mac OS",Ch=function(N,q){var I={};for(var W in N)q[W]&&q[W].length%2===0?I[W]=q[W].concat(N[W]):I[W]=N[W];return I},Ei=function(N){for(var q={},I=0;I<N.length;I++)q[N[I].toUpperCase()]=N[I];return q},jr=function(N,q){return typeof N===c?Ke(q).indexOf(Ke(N))!==-1:!1},Ke=function(N){return N.toLowerCase()},Oh=function(N){return typeof N===c?N.replace(/[^\d\.]/g,n).split(".")[0]:s},ls=function(N,q){if(typeof N===c)return N=N.replace(/^\s\s*/,n),typeof q===h?N:N.substring(0,T)},Ze=function(N,q){for(var I=0,W,Qt,kt,G,D,Ft;I<q.length&&!D;){var us=q[I],Wr=q[I+1];for(W=Qt=0;W<us.length&&!D&&us[W];)if(D=us[W++].exec(N),D)for(kt=0;kt<Wr.length;kt++)Ft=D[++Qt],G=Wr[kt],typeof G===l&&G.length>0?G.length===2?typeof G[1]==o?this[G[0]]=G[1].call(this,Ft):this[G[0]]=G[1]:G.length===3?typeof G[1]===o&&!(G[1].exec&&G[1].test)?this[G[0]]=Ft?G[1].call(this,Ft,G[2]):s:this[G[0]]=Ft?Ft.replace(G[1],G[2]):s:G.length===4&&(this[G[0]]=Ft?G[3].call(this,Ft.replace(G[1],G[2])):s):this[G]=Ft||s;I+=2}},cs=function(N,q){for(var I in q)if(typeof q[I]===l&&q[I].length>0){for(var W=0;W<q[I].length;W++)if(jr(q[I][W],N))return I===a?s:I}else if(jr(q[I],N))return I===a?s:I;return N},Ph={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Hr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Yr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,k+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[p,k]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[p,"Smart Lenovo "+O]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+O],g],[/\bfocus\/([\w\.]+)/i],[g,[p,z+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,k+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,k+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[g,[p,z]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+O]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+O],g],[/samsungbrowser\/([\w\.]+)/i],[g,[p,ut+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,xi],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,C+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,cs,Ph]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,z+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,g],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,Ke]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,n,Ke]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,Ke]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[u,ut],[f,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[u,ut],[f,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[u,M],[f,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[u,M],[f,w]],[/(macintosh);/i],[d,[u,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[u,dt],[f,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[u,U],[f,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[u,U],[f,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[u,We],[f,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[u,We],[f,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[u,"OPPO"],[f,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[u,"Vivo"],[f,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[u,"Realme"],[f,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[u,V],[f,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[u,V],[f,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[u,ot],[f,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[u,ot],[f,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[u,"Lenovo"],[f,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[u,"Nokia"],[f,v]],[/(pixel c)\b/i],[d,[u,R],[f,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[u,R],[f,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[u,ft],[f,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[u,ft],[f,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[u,"OnePlus"],[f,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[u,A],[f,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[u,A],[f,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,u,[f,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[u,S],[f,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[u,P],[f,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[u,P],[f,v]],[/(nexus 9)/i],[d,[u,"HTC"],[f,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[u,[d,/_/g," "],[f,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[u,"Acer"],[f,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[u,"Meizu"],[f,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[u,"Ulefone"],[f,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,d,[f,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,d,[f,w]],[/(surface duo)/i],[d,[u,st],[f,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[u,"Fairphone"],[f,v]],[/(u304aa)/i],[d,[u,"AT&T"],[f,v]],[/\bsie-(\w*)/i],[d,[u,"Siemens"],[f,v]],[/\b(rct\w+) b/i],[d,[u,"RCA"],[f,w]],[/\b(venue[\d ]{2,7}) b/i],[d,[u,"Dell"],[f,w]],[/\b(q(?:mv|ta)\w+) b/i],[d,[u,"Verizon"],[f,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[u,"Barnes & Noble"],[f,w]],[/\b(tm\d{3}\w+) b/i],[d,[u,"NuVision"],[f,w]],[/\b(k88) b/i],[d,[u,"ZTE"],[f,w]],[/\b(nx\d{3}j) b/i],[d,[u,"ZTE"],[f,v]],[/\b(gen\d{3}) b.+49h/i],[d,[u,"Swiss"],[f,v]],[/\b(zur\d{3}) b/i],[d,[u,"Swiss"],[f,w]],[/\b((zeki)?tb.*\b) b/i],[d,[u,"Zeki"],[f,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],d,[f,w]],[/\b(ns-?\w{0,9}) b/i],[d,[u,"Insignia"],[f,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[u,"NextBook"],[f,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],d,[f,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],d,[f,v]],[/\b(ph-1) /i],[d,[u,"Essential"],[f,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[u,"Envizen"],[f,w]],[/\b(trio[-\w\. ]+) b/i],[d,[u,"MachSpeed"],[f,w]],[/\btu_(1491) b/i],[d,[u,"Rotor"],[f,w]],[/(shield[\w ]+) b/i],[d,[u,"Nvidia"],[f,w]],[/(sprint) (\w+)/i],[u,d,[f,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[u,st],[f,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[u,Xe],[f,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[u,Xe],[f,v]],[/smart-tv.+(samsung)/i],[u,[f,b]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[u,ut],[f,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,ot],[f,b]],[/(apple) ?tv/i],[u,[d,M+" TV"],[f,b]],[/crkey/i],[[d,C+"cast"],[u,R],[f,b]],[/droid.+aft(\w+)( bui|\))/i],[d,[u,A],[f,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[u,dt],[f,b]],[/(bravia[\w ]+)( bui|\))/i],[d,[u,ft],[f,b]],[/(mitv-\w{5}) bui/i],[d,[u,We],[f,b]],[/Hbbtv.*(technisat) (.*);/i],[u,d,[f,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[u,ls],[d,ls],[f,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,d,[f,y]],[/droid.+; (shield) bui/i],[d,[u,"Nvidia"],[f,y]],[/(playstation [345portablevi]+)/i],[d,[u,ft],[f,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[u,st],[f,y]],[/((pebble))app/i],[u,d,[f,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[u,M],[f,x]],[/droid.+; (glass) \d/i],[d,[u,R],[f,x]],[/droid.+; (wt63?0{2,3})\)/i],[d,[u,Xe],[f,x]],[/(quest( 2| pro)?)/i],[d,[u,xi],[f,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[f,E]],[/(aeobc)\b/i],[d,[u,A],[f,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[f,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[f,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,v]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,$+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[g,cs,Hr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,cs,Hr],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,pt],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,z+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Ai],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},It=function(N,q){if(typeof N===l&&(q=N,N=s),!(this instanceof It))return new It(N,q).getResult();var I=typeof e!==h&&e.navigator?e.navigator:s,W=N||(I&&I.userAgent?I.userAgent:n),Qt=I&&I.userAgentData?I.userAgentData:s,kt=q?Ch(Yr,q):Yr,G=I&&I.userAgent==W;return this.getBrowser=function(){var D={};return D[p]=s,D[g]=s,Ze.call(D,W,kt.browser),D[m]=Oh(D[g]),G&&I&&I.brave&&typeof I.brave.isBrave==o&&(D[p]="Brave"),D},this.getCPU=function(){var D={};return D[_]=s,Ze.call(D,W,kt.cpu),D},this.getDevice=function(){var D={};return D[u]=s,D[d]=s,D[f]=s,Ze.call(D,W,kt.device),G&&!D[f]&&Qt&&Qt.mobile&&(D[f]=v),G&&D[d]=="Macintosh"&&I&&typeof I.standalone!==h&&I.maxTouchPoints&&I.maxTouchPoints>2&&(D[d]="iPad",D[f]=w),D},this.getEngine=function(){var D={};return D[p]=s,D[g]=s,Ze.call(D,W,kt.engine),D},this.getOS=function(){var D={};return D[p]=s,D[g]=s,Ze.call(D,W,kt.os),G&&!D[p]&&Qt&&Qt.platform!="Unknown"&&(D[p]=Qt.platform.replace(/chrome os/i,Ai).replace(/macos/i,pt)),D},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return W},this.setUA=function(D){return W=typeof D===c&&D.length>T?ls(D,T):D,this},this.setUA(W),this};It.VERSION=r,It.BROWSER=Ei([p,g,m]),It.CPU=Ei([_]),It.DEVICE=Ei([d,u,f,y,v,b,w,x,E]),It.ENGINE=It.OS=Ei([p,g]),i.exports&&(t=i.exports=It),t.UAParser=It;var Te=typeof e!==h&&(e.jQuery||e.Zepto);if(Te&&!Te.ua){var Ti=new It;Te.ua=Ti.getResult(),Te.ua.get=function(){return Ti.getUA()},Te.ua.set=function(N){Ti.setUA(N);var q=Ti.getResult();for(var I in q)Te.ua[I]=q[I]}}})(typeof window=="object"?window:Se)})(Gs,Gs.exports);var Mu=Gs.exports;const Su=oe(Mu);var Ka=(i=>(i.Desktop="desktop",i.Phone="phone",i.Tablet="tablet",i))(Ka||{});class Cu{constructor(){Lt(this,"parser");Lt(this,"type");Lt(this,"webGLAvailable",!1);Lt(this,"webPSupported",!1);Lt(this,"isMobile");Lt(this,"isPhone");Lt(this,"isTablet");Lt(this,"isDesktop");Lt(this,"isMixBlendModeUnsupported");this.parser=new Su,this.type=this.determineDeviceType(this.parser.getDevice().type),this.isMobile=this.type!=="desktop",this.isPhone=this.type==="phone",this.isTablet=this.type==="tablet",this.isDesktop=this.type==="desktop",this.isMixBlendModeUnsupported=typeof window.getComputedStyle(document.body).mixBlendMode>"u",this.setHTMLClass()}determineDeviceType(t){return t==="mobile"?"phone":Object.values(Ka).includes(t)?t:"desktop"}setHTMLClass(){document.documentElement.classList.add(this.isMobile?"mobile":"desktop")}isWebGLAvailable(){if(!this.webGLAvailable){const t=document.createElement("canvas");this.webGLAvailable=!!window.WebGLRenderingContext&&!!(t.getContext("webgl")||t.getContext("experimental-webgl"))}return this.webGLAvailable}isWebPSupported(){if(this.webPSupported===!1){const t=document.createElement("canvas");t.getContext("2d")?this.webPSupported=t.toDataURL("image/webp").startsWith("data:image/webp"):this.webPSupported=!1}return this.webPSupported}isAppBrowser(){const t=navigator.userAgent;return/FBAN|FBAV|Twitter/.test(t)}check({onErrorWebGL:t,onSuccess:e}){this.isWebGLAvailable()?e():t()}}const ri=new Cu;function an(i){let t=i[0],e=i[1],s=i[2];return Math.sqrt(t*t+e*e+s*s)}function qs(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i}function Ou(i,t,e,s){return i[0]=t,i[1]=e,i[2]=s,i}function on(i,t,e){return i[0]=t[0]+e[0],i[1]=t[1]+e[1],i[2]=t[2]+e[2],i}function hn(i,t,e){return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i[2]=t[2]-e[2],i}function Pu(i,t,e){return i[0]=t[0]*e[0],i[1]=t[1]*e[1],i[2]=t[2]*e[2],i}function Lu(i,t,e){return i[0]=t[0]/e[0],i[1]=t[1]/e[1],i[2]=t[2]/e[2],i}function ds(i,t,e){return i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e,i}function $u(i,t){let e=t[0]-i[0],s=t[1]-i[1],r=t[2]-i[2];return Math.sqrt(e*e+s*s+r*r)}function zu(i,t){let e=t[0]-i[0],s=t[1]-i[1],r=t[2]-i[2];return e*e+s*s+r*r}function ln(i){let t=i[0],e=i[1],s=i[2];return t*t+e*e+s*s}function Du(i,t){return i[0]=-t[0],i[1]=-t[1],i[2]=-t[2],i}function Ru(i,t){return i[0]=1/t[0],i[1]=1/t[1],i[2]=1/t[2],i}function js(i,t){let e=t[0],s=t[1],r=t[2],n=e*e+s*s+r*r;return n>0&&(n=1/Math.sqrt(n)),i[0]=t[0]*n,i[1]=t[1]*n,i[2]=t[2]*n,i}function Za(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]}function cn(i,t,e){let s=t[0],r=t[1],n=t[2],a=e[0],o=e[1],h=e[2];return i[0]=r*h-n*o,i[1]=n*a-s*h,i[2]=s*o-r*a,i}function Iu(i,t,e,s){let r=t[0],n=t[1],a=t[2];return i[0]=r+s*(e[0]-r),i[1]=n+s*(e[1]-n),i[2]=a+s*(e[2]-a),i}function ku(i,t,e){let s=t[0],r=t[1],n=t[2],a=e[3]*s+e[7]*r+e[11]*n+e[15];return a=a||1,i[0]=(e[0]*s+e[4]*r+e[8]*n+e[12])/a,i[1]=(e[1]*s+e[5]*r+e[9]*n+e[13])/a,i[2]=(e[2]*s+e[6]*r+e[10]*n+e[14])/a,i}function Fu(i,t,e){let s=t[0],r=t[1],n=t[2],a=e[3]*s+e[7]*r+e[11]*n+e[15];return a=a||1,i[0]=(e[0]*s+e[4]*r+e[8]*n)/a,i[1]=(e[1]*s+e[5]*r+e[9]*n)/a,i[2]=(e[2]*s+e[6]*r+e[10]*n)/a,i}function Nu(i,t,e){let s=t[0],r=t[1],n=t[2];return i[0]=s*e[0]+r*e[3]+n*e[6],i[1]=s*e[1]+r*e[4]+n*e[7],i[2]=s*e[2]+r*e[5]+n*e[8],i}function Bu(i,t,e){let s=t[0],r=t[1],n=t[2],a=e[0],o=e[1],h=e[2],l=e[3],c=o*n-h*r,m=h*s-a*n,d=a*r-o*s,p=o*d-h*m,f=h*c-a*d,u=a*m-o*c,g=l*2;return c*=g,m*=g,d*=g,p*=2,f*=2,u*=2,i[0]=s+c+p,i[1]=r+m+f,i[2]=n+d+u,i}const Uu=function(){const i=[0,0,0],t=[0,0,0];return function(e,s){qs(i,e),qs(t,s),js(i,i),js(t,t);let r=Za(i,t);return r>1?0:r<-1?Math.PI:Math.acos(r)}}();function Vu(i,t){return i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]}class F extends Array{constructor(t=0,e=t,s=t){return super(t,e,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,s=t){return t.length?this.copy(t):(Ou(this,t,e,s),this)}copy(t){return qs(this,t),this}add(t,e){return e?on(this,t,e):on(this,this,t),this}sub(t,e){return e?hn(this,t,e):hn(this,this,t),this}multiply(t){return t.length?Pu(this,this,t):ds(this,this,t),this}divide(t){return t.length?Lu(this,this,t):ds(this,this,1/t),this}inverse(t=this){return Ru(this,t),this}len(){return an(this)}distance(t){return t?$u(this,t):an(this)}squaredLen(){return ln(this)}squaredDistance(t){return t?zu(this,t):ln(this)}negate(t=this){return Du(this,t),this}cross(t,e){return e?cn(this,t,e):cn(this,this,t),this}scale(t){return ds(this,this,t),this}normalize(){return js(this,this),this}dot(t){return Za(this,t)}equals(t){return Vu(this,t)}applyMatrix3(t){return Nu(this,this,t),this}applyMatrix4(t){return ku(this,this,t),this}scaleRotateMatrix4(t){return Fu(this,this,t),this}applyQuaternion(t){return Bu(this,this,t),this}angle(t){return Uu(this,t)}lerp(t,e){return Iu(this,this,t,e),this}clone(){return new F(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){const e=this[0],s=this[1],r=this[2];return this[0]=t[0]*e+t[4]*s+t[8]*r,this[1]=t[1]*e+t[5]*s+t[9]*r,this[2]=t[2]*e+t[6]*s+t[10]*r,this.normalize()}}const un=new F;let Gu=1,qu=1,dn=!1;class ju{constructor(t,e={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=Gu++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let s in e)this.addAttribute(s,e[s])}addAttribute(t,e){if(this.attributes[t]=e,e.id=qu++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else t==="index"?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){const e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((e,{name:s,type:r})=>{if(!this.attributes[s]){console.warn(`active attribute ${s} not being supplied`);return}const n=this.attributes[s];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let a=1;r===35674&&(a=2),r===35675&&(a=3),r===35676&&(a=4);const o=n.size/a,h=a===1?0:a*a*4,l=a===1?0:a*4;for(let c=0;c<a;c++)this.gl.vertexAttribPointer(e+c,o,n.type,n.normalized,n.stride+h,n.offset+c*l),this.gl.enableVertexAttribArray(e+c),this.gl.renderer.vertexAttribDivisor(e+c,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){var r;this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((n,{name:a})=>{const o=this.attributes[a];o.needsUpdate&&this.updateAttribute(o)});let s=2;((r=this.attributes.index)==null?void 0:r.type)===this.gl.UNSIGNED_INT&&(s=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!dn)return console.warn("No position buffer data found to compute bounds"),dn=!0}computeBoundingBox(t){t||(t=this.getPosition());const e=t.data,s=t.size;this.bounds||(this.bounds={min:new F,max:new F,center:new F,scale:new F,radius:1/0});const r=this.bounds.min,n=this.bounds.max,a=this.bounds.center,o=this.bounds.scale;r.set(1/0),n.set(-1/0);for(let h=0,l=e.length;h<l;h+=s){const c=e[h],m=e[h+1],d=e[h+2];r.x=Math.min(c,r.x),r.y=Math.min(m,r.y),r.z=Math.min(d,r.z),n.x=Math.max(c,n.x),n.y=Math.max(m,n.y),n.z=Math.max(d,n.z)}o.sub(n,r),a.add(r,n).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const e=t.data,s=t.size;this.bounds||this.computeBoundingBox(t);let r=0;for(let n=0,a=e.length;n<a;n+=s)un.fromArray(e,n),r=Math.max(r,this.bounds.center.squaredDistance(un));this.bounds.radius=Math.sqrt(r)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let Hu=1;const fn={};class Ui{constructor(t,{vertex:e,fragment:s,uniforms:r={},transparent:n=!1,cullFace:a=t.BACK,frontFace:o=t.CCW,depthTest:h=!0,depthWrite:l=!0,depthFunc:c=t.LESS}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=r,this.id=Hu++,e||console.warn("vertex shader not supplied"),s||console.warn("fragment shader not supplied"),this.transparent=n,this.cullFace=a,this.frontFace=o,this.depthTest=h,this.depthWrite=l,this.depthFunc=c,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:e,fragment:s})}setShaders({vertex:t,fragment:e}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${pn(t)}`)),e&&(this.gl.shaderSource(this.fragmentShader,e),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${pn(e)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let a=0;a<s;a++){let o=this.gl.getActiveUniform(this.program,a);this.uniformLocations.set(o,this.gl.getUniformLocation(this.program,o.name));const h=o.name.match(/(\w+)/g);o.uniformName=h[0],o.nameComponents=h.slice(1)}this.attributeLocations=new Map;const r=[],n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<n;a++){const o=this.gl.getActiveAttrib(this.program,a),h=this.gl.getAttribLocation(this.program,o.name);h!==-1&&(r[h]=o.name,this.attributeLocations.set(o,h))}this.attributeOrder=r.join("")}setBlendFunc(t,e,s,r){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=s,this.blendFunc.dstAlpha=r,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,n)=>{let a=this.uniforms[n.uniformName];for(const o of n.nameComponents){if(!a)break;if(o in a)a=a[o];else{if(Array.isArray(a.value))break;a=void 0;break}}if(!a)return mn(`Active uniform ${n.name} has not been supplied`);if(a&&a.value===void 0)return mn(`${n.name} uniform is missing a value parameter`);if(a.value.texture)return e=e+1,a.value.update(e),fs(this.gl,n.type,r,e);if(a.value.length&&a.value[0].texture){const o=[];return a.value.forEach(h=>{e=e+1,h.update(e),o.push(e)}),fs(this.gl,n.type,r,o)}fs(this.gl,n.type,r,a.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function fs(i,t,e,s){s=s.length?Yu(s):s;const r=i.renderer.state.uniformLocations.get(e);if(s.length)if(r===void 0||r.length!==s.length)i.renderer.state.uniformLocations.set(e,s.slice(0));else{if(Wu(r,s))return;r.set?r.set(s):Xu(r,s),i.renderer.state.uniformLocations.set(e,r)}else{if(r===s)return;i.renderer.state.uniformLocations.set(e,s)}switch(t){case 5126:return s.length?i.uniform1fv(e,s):i.uniform1f(e,s);case 35664:return i.uniform2fv(e,s);case 35665:return i.uniform3fv(e,s);case 35666:return i.uniform4fv(e,s);case 35670:case 5124:case 35678:case 35680:return s.length?i.uniform1iv(e,s):i.uniform1i(e,s);case 35671:case 35667:return i.uniform2iv(e,s);case 35672:case 35668:return i.uniform3iv(e,s);case 35673:case 35669:return i.uniform4iv(e,s);case 35674:return i.uniformMatrix2fv(e,!1,s);case 35675:return i.uniformMatrix3fv(e,!1,s);case 35676:return i.uniformMatrix4fv(e,!1,s)}}function pn(i){let t=i.split(`
`);for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join(`
`)}function Yu(i){const t=i.length,e=i[0].length;if(e===void 0)return i;const s=t*e;let r=fn[s];r||(fn[s]=r=new Float32Array(s));for(let n=0;n<t;n++)r.set(i[n],n*e);return r}function Wu(i,t){if(i.length!==t.length)return!1;for(let e=0,s=i.length;e<s;e++)if(i[e]!==t[e])return!1;return!0}function Xu(i,t){for(let e=0,s=i.length;e<s;e++)i[e]=t[e]}let ps=0;function mn(i){ps>100||(console.warn(i),ps++,ps>100&&console.warn("More than 100 program warnings - stopping logs."))}const ms=new F;let Ku=1;class Zu{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:s=150,dpr:r=1,alpha:n=!1,depth:a=!0,stencil:o=!1,antialias:h=!1,premultipliedAlpha:l=!1,preserveDrawingBuffer:c=!1,powerPreference:m="default",autoClear:d=!0,webgl:p=2}={}){const f={alpha:n,depth:a,stencil:o,antialias:h,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:m};this.dpr=r,this.alpha=n,this.color=!0,this.depth=a,this.stencil=o,this.premultipliedAlpha=l,this.autoClear=d,this.id=Ku++,p===2&&(this.gl=t.getContext("webgl2",f)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",f)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,s),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e,s=0,r=0){this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=s,this.state.viewport.y=r,this.gl.viewport(s,r,t,e))}setScissor(t,e,s=0,r=0){this.gl.scissor(s,r,t,e)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,s,r){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===s&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=s,this.state.blendFunc.dstAlpha=r,s!==void 0?this.gl.blendFuncSeparate(t,e,s,r):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,e!==void 0?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,s){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][s].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:s,sort:r}){let n=[];if(e&&s&&e.updateFrustum(),t.traverse(a=>{if(!a.visible)return!0;a.draw&&(s&&a.frustumCulled&&e&&!e.frustumIntersectsMesh(a)||n.push(a))}),r){const a=[],o=[],h=[];n.forEach(l=>{l.program.transparent?l.program.depthTest?o.push(l):h.push(l):a.push(l),l.zDepth=0,!(l.renderOrder!==0||!l.program.depthTest||!e)&&(l.worldMatrix.getTranslation(ms),ms.applyMatrix4(e.projectionViewMatrix),l.zDepth=ms.z)}),a.sort(this.sortOpaque),o.sort(this.sortTransparent),h.sort(this.sortUI),n=a.concat(o,h)}return n}render({scene:t,camera:e,target:s=null,update:r=!0,sort:n=!0,frustumCull:a=!0,clear:o}){s===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(s),this.setViewport(s.width,s.height)),(o||this.autoClear&&o!==!1)&&(this.depth&&(!s||s.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&t.updateMatrixWorld(),e&&e.updateMatrixWorld(),this.getRenderList({scene:t,camera:e,frustumCull:a,sort:n}).forEach(l=>{l.draw({camera:e})})}}function Qu(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i}function Ju(i,t,e,s,r){return i[0]=t,i[1]=e,i[2]=s,i[3]=r,i}function td(i,t){let e=t[0],s=t[1],r=t[2],n=t[3],a=e*e+s*s+r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),i[0]=e*a,i[1]=s*a,i[2]=r*a,i[3]=n*a,i}function ed(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]+i[3]*t[3]}function id(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function sd(i,t,e){e=e*.5;let s=Math.sin(e);return i[0]=s*t[0],i[1]=s*t[1],i[2]=s*t[2],i[3]=Math.cos(e),i}function gn(i,t,e){let s=t[0],r=t[1],n=t[2],a=t[3],o=e[0],h=e[1],l=e[2],c=e[3];return i[0]=s*c+a*o+r*l-n*h,i[1]=r*c+a*h+n*o-s*l,i[2]=n*c+a*l+s*h-r*o,i[3]=a*c-s*o-r*h-n*l,i}function rd(i,t,e){e*=.5;let s=t[0],r=t[1],n=t[2],a=t[3],o=Math.sin(e),h=Math.cos(e);return i[0]=s*h+a*o,i[1]=r*h+n*o,i[2]=n*h-r*o,i[3]=a*h-s*o,i}function nd(i,t,e){e*=.5;let s=t[0],r=t[1],n=t[2],a=t[3],o=Math.sin(e),h=Math.cos(e);return i[0]=s*h-n*o,i[1]=r*h+a*o,i[2]=n*h+s*o,i[3]=a*h-r*o,i}function ad(i,t,e){e*=.5;let s=t[0],r=t[1],n=t[2],a=t[3],o=Math.sin(e),h=Math.cos(e);return i[0]=s*h+r*o,i[1]=r*h-s*o,i[2]=n*h+a*o,i[3]=a*h-n*o,i}function od(i,t,e,s){let r=t[0],n=t[1],a=t[2],o=t[3],h=e[0],l=e[1],c=e[2],m=e[3],d,p,f,u,g;return p=r*h+n*l+a*c+o*m,p<0&&(p=-p,h=-h,l=-l,c=-c,m=-m),1-p>1e-6?(d=Math.acos(p),f=Math.sin(d),u=Math.sin((1-s)*d)/f,g=Math.sin(s*d)/f):(u=1-s,g=s),i[0]=u*r+g*h,i[1]=u*n+g*l,i[2]=u*a+g*c,i[3]=u*o+g*m,i}function hd(i,t){let e=t[0],s=t[1],r=t[2],n=t[3],a=e*e+s*s+r*r+n*n,o=a?1/a:0;return i[0]=-e*o,i[1]=-s*o,i[2]=-r*o,i[3]=n*o,i}function ld(i,t){return i[0]=-t[0],i[1]=-t[1],i[2]=-t[2],i[3]=t[3],i}function cd(i,t){let e=t[0]+t[4]+t[8],s;if(e>0)s=Math.sqrt(e+1),i[3]=.5*s,s=.5/s,i[0]=(t[5]-t[7])*s,i[1]=(t[6]-t[2])*s,i[2]=(t[1]-t[3])*s;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[r*3+r]&&(r=2);let n=(r+1)%3,a=(r+2)%3;s=Math.sqrt(t[r*3+r]-t[n*3+n]-t[a*3+a]+1),i[r]=.5*s,s=.5/s,i[3]=(t[n*3+a]-t[a*3+n])*s,i[n]=(t[n*3+r]+t[r*3+n])*s,i[a]=(t[a*3+r]+t[r*3+a])*s}return i}function ud(i,t,e="YXZ"){let s=Math.sin(t[0]*.5),r=Math.cos(t[0]*.5),n=Math.sin(t[1]*.5),a=Math.cos(t[1]*.5),o=Math.sin(t[2]*.5),h=Math.cos(t[2]*.5);return e==="XYZ"?(i[0]=s*a*h+r*n*o,i[1]=r*n*h-s*a*o,i[2]=r*a*o+s*n*h,i[3]=r*a*h-s*n*o):e==="YXZ"?(i[0]=s*a*h+r*n*o,i[1]=r*n*h-s*a*o,i[2]=r*a*o-s*n*h,i[3]=r*a*h+s*n*o):e==="ZXY"?(i[0]=s*a*h-r*n*o,i[1]=r*n*h+s*a*o,i[2]=r*a*o+s*n*h,i[3]=r*a*h-s*n*o):e==="ZYX"?(i[0]=s*a*h-r*n*o,i[1]=r*n*h+s*a*o,i[2]=r*a*o-s*n*h,i[3]=r*a*h+s*n*o):e==="YZX"?(i[0]=s*a*h+r*n*o,i[1]=r*n*h+s*a*o,i[2]=r*a*o-s*n*h,i[3]=r*a*h-s*n*o):e==="XZY"&&(i[0]=s*a*h-r*n*o,i[1]=r*n*h-s*a*o,i[2]=r*a*o+s*n*h,i[3]=r*a*h+s*n*o),i}const dd=Qu,fd=Ju,pd=ed,md=td;class gd extends Array{constructor(t=0,e=0,s=0,r=1){return super(t,e,s,r),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set w(t){this[3]=t,this.onChange()}identity(){return id(this),this.onChange(),this}set(t,e,s,r){return t.length?this.copy(t):(fd(this,t,e,s,r),this.onChange(),this)}rotateX(t){return rd(this,this,t),this.onChange(),this}rotateY(t){return nd(this,this,t),this.onChange(),this}rotateZ(t){return ad(this,this,t),this.onChange(),this}inverse(t=this){return hd(this,t),this.onChange(),this}conjugate(t=this){return ld(this,t),this.onChange(),this}copy(t){return dd(this,t),this.onChange(),this}normalize(t=this){return md(this,t),this.onChange(),this}multiply(t,e){return e?gn(this,t,e):gn(this,this,t),this.onChange(),this}dot(t){return pd(this,t)}fromMatrix3(t){return cd(this,t),this.onChange(),this}fromEuler(t){return ud(this,t,t.order),this}fromAxisAngle(t,e){return sd(this,t,e),this.onChange(),this}slerp(t,e){return od(this,this,t,e),this.onChange(),this}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this.onChange(),this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}const _d=1e-6;function vd(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}function yd(i,t,e,s,r,n,a,o,h,l,c,m,d,p,f,u,g){return i[0]=t,i[1]=e,i[2]=s,i[3]=r,i[4]=n,i[5]=a,i[6]=o,i[7]=h,i[8]=l,i[9]=c,i[10]=m,i[11]=d,i[12]=p,i[13]=f,i[14]=u,i[15]=g,i}function wd(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function bd(i,t){let e=t[0],s=t[1],r=t[2],n=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8],m=t[9],d=t[10],p=t[11],f=t[12],u=t[13],g=t[14],_=t[15],y=e*o-s*a,v=e*h-r*a,w=e*l-n*a,b=s*h-r*o,x=s*l-n*o,E=r*l-n*h,T=c*u-m*f,A=c*g-d*f,M=c*_-p*f,P=m*g-d*u,S=m*_-p*u,O=d*_-p*g,C=y*O-v*S+w*P+b*M-x*A+E*T;return C?(C=1/C,i[0]=(o*O-h*S+l*P)*C,i[1]=(r*S-s*O-n*P)*C,i[2]=(u*E-g*x+_*b)*C,i[3]=(d*x-m*E-p*b)*C,i[4]=(h*M-a*O-l*A)*C,i[5]=(e*O-r*M+n*A)*C,i[6]=(g*w-f*E-_*v)*C,i[7]=(c*E-d*w+p*v)*C,i[8]=(a*S-o*M+l*T)*C,i[9]=(s*M-e*S-n*T)*C,i[10]=(f*x-u*w+_*y)*C,i[11]=(m*w-c*x-p*y)*C,i[12]=(o*A-a*P-h*T)*C,i[13]=(e*P-s*A+r*T)*C,i[14]=(u*v-f*b-g*y)*C,i[15]=(c*b-m*v+d*y)*C,i):null}function xd(i){let t=i[0],e=i[1],s=i[2],r=i[3],n=i[4],a=i[5],o=i[6],h=i[7],l=i[8],c=i[9],m=i[10],d=i[11],p=i[12],f=i[13],u=i[14],g=i[15],_=t*a-e*n,y=t*o-s*n,v=t*h-r*n,w=e*o-s*a,b=e*h-r*a,x=s*h-r*o,E=l*f-c*p,T=l*u-m*p,A=l*g-d*p,M=c*u-m*f,P=c*g-d*f,S=m*g-d*u;return _*S-y*P+v*M+w*A-b*T+x*E}function _n(i,t,e){let s=t[0],r=t[1],n=t[2],a=t[3],o=t[4],h=t[5],l=t[6],c=t[7],m=t[8],d=t[9],p=t[10],f=t[11],u=t[12],g=t[13],_=t[14],y=t[15],v=e[0],w=e[1],b=e[2],x=e[3];return i[0]=v*s+w*o+b*m+x*u,i[1]=v*r+w*h+b*d+x*g,i[2]=v*n+w*l+b*p+x*_,i[3]=v*a+w*c+b*f+x*y,v=e[4],w=e[5],b=e[6],x=e[7],i[4]=v*s+w*o+b*m+x*u,i[5]=v*r+w*h+b*d+x*g,i[6]=v*n+w*l+b*p+x*_,i[7]=v*a+w*c+b*f+x*y,v=e[8],w=e[9],b=e[10],x=e[11],i[8]=v*s+w*o+b*m+x*u,i[9]=v*r+w*h+b*d+x*g,i[10]=v*n+w*l+b*p+x*_,i[11]=v*a+w*c+b*f+x*y,v=e[12],w=e[13],b=e[14],x=e[15],i[12]=v*s+w*o+b*m+x*u,i[13]=v*r+w*h+b*d+x*g,i[14]=v*n+w*l+b*p+x*_,i[15]=v*a+w*c+b*f+x*y,i}function Ad(i,t,e){let s=e[0],r=e[1],n=e[2],a,o,h,l,c,m,d,p,f,u,g,_;return t===i?(i[12]=t[0]*s+t[4]*r+t[8]*n+t[12],i[13]=t[1]*s+t[5]*r+t[9]*n+t[13],i[14]=t[2]*s+t[6]*r+t[10]*n+t[14],i[15]=t[3]*s+t[7]*r+t[11]*n+t[15]):(a=t[0],o=t[1],h=t[2],l=t[3],c=t[4],m=t[5],d=t[6],p=t[7],f=t[8],u=t[9],g=t[10],_=t[11],i[0]=a,i[1]=o,i[2]=h,i[3]=l,i[4]=c,i[5]=m,i[6]=d,i[7]=p,i[8]=f,i[9]=u,i[10]=g,i[11]=_,i[12]=a*s+c*r+f*n+t[12],i[13]=o*s+m*r+u*n+t[13],i[14]=h*s+d*r+g*n+t[14],i[15]=l*s+p*r+_*n+t[15]),i}function Ed(i,t,e){let s=e[0],r=e[1],n=e[2];return i[0]=t[0]*s,i[1]=t[1]*s,i[2]=t[2]*s,i[3]=t[3]*s,i[4]=t[4]*r,i[5]=t[5]*r,i[6]=t[6]*r,i[7]=t[7]*r,i[8]=t[8]*n,i[9]=t[9]*n,i[10]=t[10]*n,i[11]=t[11]*n,i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}function Td(i,t,e,s){let r=s[0],n=s[1],a=s[2],o=Math.hypot(r,n,a),h,l,c,m,d,p,f,u,g,_,y,v,w,b,x,E,T,A,M,P,S,O,C,$;return Math.abs(o)<_d?null:(o=1/o,r*=o,n*=o,a*=o,h=Math.sin(e),l=Math.cos(e),c=1-l,m=t[0],d=t[1],p=t[2],f=t[3],u=t[4],g=t[5],_=t[6],y=t[7],v=t[8],w=t[9],b=t[10],x=t[11],E=r*r*c+l,T=n*r*c+a*h,A=a*r*c-n*h,M=r*n*c-a*h,P=n*n*c+l,S=a*n*c+r*h,O=r*a*c+n*h,C=n*a*c-r*h,$=a*a*c+l,i[0]=m*E+u*T+v*A,i[1]=d*E+g*T+w*A,i[2]=p*E+_*T+b*A,i[3]=f*E+y*T+x*A,i[4]=m*M+u*P+v*S,i[5]=d*M+g*P+w*S,i[6]=p*M+_*P+b*S,i[7]=f*M+y*P+x*S,i[8]=m*O+u*C+v*$,i[9]=d*O+g*C+w*$,i[10]=p*O+_*C+b*$,i[11]=f*O+y*C+x*$,t!==i&&(i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i)}function Md(i,t){return i[0]=t[12],i[1]=t[13],i[2]=t[14],i}function Qa(i,t){let e=t[0],s=t[1],r=t[2],n=t[4],a=t[5],o=t[6],h=t[8],l=t[9],c=t[10];return i[0]=Math.hypot(e,s,r),i[1]=Math.hypot(n,a,o),i[2]=Math.hypot(h,l,c),i}function Sd(i){let t=i[0],e=i[1],s=i[2],r=i[4],n=i[5],a=i[6],o=i[8],h=i[9],l=i[10];const c=t*t+e*e+s*s,m=r*r+n*n+a*a,d=o*o+h*h+l*l;return Math.sqrt(Math.max(c,m,d))}const Cd=function(){const i=[1,1,1];return function(t,e){let s=i;Qa(s,e);let r=1/s[0],n=1/s[1],a=1/s[2],o=e[0]*r,h=e[1]*n,l=e[2]*a,c=e[4]*r,m=e[5]*n,d=e[6]*a,p=e[8]*r,f=e[9]*n,u=e[10]*a,g=o+m+u,_=0;return g>0?(_=Math.sqrt(g+1)*2,t[3]=.25*_,t[0]=(d-f)/_,t[1]=(p-l)/_,t[2]=(h-c)/_):o>m&&o>u?(_=Math.sqrt(1+o-m-u)*2,t[3]=(d-f)/_,t[0]=.25*_,t[1]=(h+c)/_,t[2]=(p+l)/_):m>u?(_=Math.sqrt(1+m-o-u)*2,t[3]=(p-l)/_,t[0]=(h+c)/_,t[1]=.25*_,t[2]=(d+f)/_):(_=Math.sqrt(1+u-o-m)*2,t[3]=(h-c)/_,t[0]=(p+l)/_,t[1]=(d+f)/_,t[2]=.25*_),t}}();function Od(i,t,e,s){let r=t[0],n=t[1],a=t[2],o=t[3],h=r+r,l=n+n,c=a+a,m=r*h,d=r*l,p=r*c,f=n*l,u=n*c,g=a*c,_=o*h,y=o*l,v=o*c,w=s[0],b=s[1],x=s[2];return i[0]=(1-(f+g))*w,i[1]=(d+v)*w,i[2]=(p-y)*w,i[3]=0,i[4]=(d-v)*b,i[5]=(1-(m+g))*b,i[6]=(u+_)*b,i[7]=0,i[8]=(p+y)*x,i[9]=(u-_)*x,i[10]=(1-(m+f))*x,i[11]=0,i[12]=e[0],i[13]=e[1],i[14]=e[2],i[15]=1,i}function Pd(i,t){let e=t[0],s=t[1],r=t[2],n=t[3],a=e+e,o=s+s,h=r+r,l=e*a,c=s*a,m=s*o,d=r*a,p=r*o,f=r*h,u=n*a,g=n*o,_=n*h;return i[0]=1-m-f,i[1]=c+_,i[2]=d-g,i[3]=0,i[4]=c-_,i[5]=1-l-f,i[6]=p+u,i[7]=0,i[8]=d+g,i[9]=p-u,i[10]=1-l-m,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Ld(i,t,e,s,r){let n=1/Math.tan(t/2),a=1/(s-r);return i[0]=n/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=n,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(r+s)*a,i[11]=-1,i[12]=0,i[13]=0,i[14]=2*r*s*a,i[15]=0,i}function $d(i,t,e,s,r,n,a){let o=1/(t-e),h=1/(s-r),l=1/(n-a);return i[0]=-2*o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*h,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*l,i[11]=0,i[12]=(t+e)*o,i[13]=(r+s)*h,i[14]=(a+n)*l,i[15]=1,i}function zd(i,t,e,s){let r=t[0],n=t[1],a=t[2],o=s[0],h=s[1],l=s[2],c=r-e[0],m=n-e[1],d=a-e[2],p=c*c+m*m+d*d;p===0?d=1:(p=1/Math.sqrt(p),c*=p,m*=p,d*=p);let f=h*d-l*m,u=l*c-o*d,g=o*m-h*c;return p=f*f+u*u+g*g,p===0&&(l?o+=1e-6:h?l+=1e-6:h+=1e-6,f=h*d-l*m,u=l*c-o*d,g=o*m-h*c,p=f*f+u*u+g*g),p=1/Math.sqrt(p),f*=p,u*=p,g*=p,i[0]=f,i[1]=u,i[2]=g,i[3]=0,i[4]=m*g-d*u,i[5]=d*f-c*g,i[6]=c*u-m*f,i[7]=0,i[8]=c,i[9]=m,i[10]=d,i[11]=0,i[12]=r,i[13]=n,i[14]=a,i[15]=1,i}function vn(i,t,e){return i[0]=t[0]+e[0],i[1]=t[1]+e[1],i[2]=t[2]+e[2],i[3]=t[3]+e[3],i[4]=t[4]+e[4],i[5]=t[5]+e[5],i[6]=t[6]+e[6],i[7]=t[7]+e[7],i[8]=t[8]+e[8],i[9]=t[9]+e[9],i[10]=t[10]+e[10],i[11]=t[11]+e[11],i[12]=t[12]+e[12],i[13]=t[13]+e[13],i[14]=t[14]+e[14],i[15]=t[15]+e[15],i}function yn(i,t,e){return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i[2]=t[2]-e[2],i[3]=t[3]-e[3],i[4]=t[4]-e[4],i[5]=t[5]-e[5],i[6]=t[6]-e[6],i[7]=t[7]-e[7],i[8]=t[8]-e[8],i[9]=t[9]-e[9],i[10]=t[10]-e[10],i[11]=t[11]-e[11],i[12]=t[12]-e[12],i[13]=t[13]-e[13],i[14]=t[14]-e[14],i[15]=t[15]-e[15],i}function Dd(i,t,e){return i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e,i[3]=t[3]*e,i[4]=t[4]*e,i[5]=t[5]*e,i[6]=t[6]*e,i[7]=t[7]*e,i[8]=t[8]*e,i[9]=t[9]*e,i[10]=t[10]*e,i[11]=t[11]*e,i[12]=t[12]*e,i[13]=t[13]*e,i[14]=t[14]*e,i[15]=t[15]*e,i}class Wt extends Array{constructor(t=1,e=0,s=0,r=0,n=0,a=1,o=0,h=0,l=0,c=0,m=1,d=0,p=0,f=0,u=0,g=1){return super(t,e,s,r,n,a,o,h,l,c,m,d,p,f,u,g),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,s,r,n,a,o,h,l,c,m,d,p,f,u,g){return t.length?this.copy(t):(yd(this,t,e,s,r,n,a,o,h,l,c,m,d,p,f,u,g),this)}translate(t,e=this){return Ad(this,e,t),this}rotate(t,e,s=this){return Td(this,s,t,e),this}scale(t,e=this){return Ed(this,e,typeof t=="number"?[t,t,t]:t),this}add(t,e){return e?vn(this,t,e):vn(this,this,t),this}sub(t,e){return e?yn(this,t,e):yn(this,this,t),this}multiply(t,e){return t.length?e?_n(this,t,e):_n(this,this,t):Dd(this,this,t),this}identity(){return wd(this),this}copy(t){return vd(this,t),this}fromPerspective({fov:t,aspect:e,near:s,far:r}={}){return Ld(this,t,e,s,r),this}fromOrthogonal({left:t,right:e,bottom:s,top:r,near:n,far:a}){return $d(this,t,e,s,r,n,a),this}fromQuaternion(t){return Pd(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return bd(this,t),this}compose(t,e,s){return Od(this,t,e,s),this}getRotation(t){return Cd(t,this),this}getTranslation(t){return Md(t,this),this}getScaling(t){return Qa(t,this),this}getMaxScaleOnAxis(){return Sd(this)}lookAt(t,e,s){return zd(this,t,e,s),this}determinant(){return xd(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}function Rd(i,t,e="YXZ"){return e==="XYZ"?(i[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(i[0]=Math.atan2(-t[9],t[10]),i[2]=Math.atan2(-t[4],t[0])):(i[0]=Math.atan2(t[6],t[5]),i[2]=0)):e==="YXZ"?(i[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(i[1]=Math.atan2(t[8],t[10]),i[2]=Math.atan2(t[1],t[5])):(i[1]=Math.atan2(-t[2],t[0]),i[2]=0)):e==="ZXY"?(i[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(i[1]=Math.atan2(-t[2],t[10]),i[2]=Math.atan2(-t[4],t[5])):(i[1]=0,i[2]=Math.atan2(t[1],t[0]))):e==="ZYX"?(i[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(i[0]=Math.atan2(t[6],t[10]),i[2]=Math.atan2(t[1],t[0])):(i[0]=0,i[2]=Math.atan2(-t[4],t[5]))):e==="YZX"?(i[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(i[0]=Math.atan2(-t[9],t[5]),i[1]=Math.atan2(-t[2],t[0])):(i[0]=0,i[1]=Math.atan2(t[8],t[10]))):e==="XZY"&&(i[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(i[0]=Math.atan2(t[6],t[5]),i[1]=Math.atan2(t[8],t[0])):(i[0]=Math.atan2(-t[9],t[10]),i[1]=0)),i}const wn=new Wt;class Id extends Array{constructor(t=0,e=t,s=t,r="YXZ"){return super(t,e,s),this.order=r,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set(t,e=t,s=t){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=s,this.onChange(),this)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.onChange(),this}reorder(t){return this.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return Rd(this,t,e),this.onChange(),this}fromQuaternion(t,e=this.order){return wn.fromQuaternion(t),this.fromRotationMatrix(wn,e)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}}class he{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Wt,this.worldMatrix=new Wt,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new F,this.quaternion=new gd,this.scale=new F(1),this.rotation=new Id,this.up=new F(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,s=this.children.length;e<s;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,s=this.children.length;e<s;e++)this.children[e].traverse(t)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}const kd=new Wt,Fd=new F,Nd=new F;class Bd extends he{constructor(t,{near:e=.1,far:s=100,fov:r=45,aspect:n=1,left:a,right:o,bottom:h,top:l,zoom:c=1}={}){super(),Object.assign(this,{near:e,far:s,fov:r,aspect:n,left:a,right:o,bottom:h,top:l,zoom:c}),this.projectionMatrix=new Wt,this.viewMatrix=new Wt,this.projectionViewMatrix=new Wt,this.worldPosition=new F,this.type=a||o?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:t=this.near,far:e=this.far,fov:s=this.fov,aspect:r=this.aspect}={}){return Object.assign(this,{near:t,far:e,fov:s,aspect:r}),this.projectionMatrix.fromPerspective({fov:s*(Math.PI/180),aspect:r,near:t,far:e}),this.type="perspective",this}orthographic({near:t=this.near,far:e=this.far,left:s=this.left||-1,right:r=this.right||1,bottom:n=this.bottom||-1,top:a=this.top||1,zoom:o=this.zoom}={}){return Object.assign(this,{near:t,far:e,left:s,right:r,bottom:n,top:a,zoom:o}),s/=o,r/=o,n/=o,a/=o,this.projectionMatrix.fromOrthogonal({left:s,right:r,bottom:n,top:a,near:t,far:e}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(kd.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new F,new F,new F,new F,new F,new F]);const t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let e=0;e<6;e++){const s=1/this.frustum[e].distance();this.frustum[e].multiply(s),this.frustum[e].constant*=s}}frustumIntersectsMesh(t,e=t.worldMatrix){if(!t.geometry.attributes.position||((!t.geometry.bounds||t.geometry.bounds.radius===1/0)&&t.geometry.computeBoundingSphere(),!t.geometry.bounds))return!0;const s=Fd;s.copy(t.geometry.bounds.center),s.applyMatrix4(e);const r=t.geometry.bounds.radius*e.getMaxScaleOnAxis();return this.frustumIntersectsSphere(s,r)}frustumIntersectsSphere(t,e){const s=Nd;for(let r=0;r<6;r++){const n=this.frustum[r];if(s.copy(n).dot(t)+n.constant<-e)return!1}return!0}}function Ud(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],i}function Vd(i,t){let e=t[0],s=t[1],r=t[2],n=t[3],a=e+e,o=s+s,h=r+r,l=e*a,c=s*a,m=s*o,d=r*a,p=r*o,f=r*h,u=n*a,g=n*o,_=n*h;return i[0]=1-m-f,i[3]=c-_,i[6]=d+g,i[1]=c+_,i[4]=1-l-f,i[7]=p-u,i[2]=d-g,i[5]=p+u,i[8]=1-l-m,i}function Gd(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i}function qd(i,t,e,s,r,n,a,o,h,l){return i[0]=t,i[1]=e,i[2]=s,i[3]=r,i[4]=n,i[5]=a,i[6]=o,i[7]=h,i[8]=l,i}function jd(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Hd(i,t){let e=t[0],s=t[1],r=t[2],n=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8],m=c*a-o*l,d=-c*n+o*h,p=l*n-a*h,f=e*m+s*d+r*p;return f?(f=1/f,i[0]=m*f,i[1]=(-c*s+r*l)*f,i[2]=(o*s-r*a)*f,i[3]=d*f,i[4]=(c*e-r*h)*f,i[5]=(-o*e+r*n)*f,i[6]=p*f,i[7]=(-l*e+s*h)*f,i[8]=(a*e-s*n)*f,i):null}function bn(i,t,e){let s=t[0],r=t[1],n=t[2],a=t[3],o=t[4],h=t[5],l=t[6],c=t[7],m=t[8],d=e[0],p=e[1],f=e[2],u=e[3],g=e[4],_=e[5],y=e[6],v=e[7],w=e[8];return i[0]=d*s+p*a+f*l,i[1]=d*r+p*o+f*c,i[2]=d*n+p*h+f*m,i[3]=u*s+g*a+_*l,i[4]=u*r+g*o+_*c,i[5]=u*n+g*h+_*m,i[6]=y*s+v*a+w*l,i[7]=y*r+v*o+w*c,i[8]=y*n+v*h+w*m,i}function Yd(i,t,e){let s=t[0],r=t[1],n=t[2],a=t[3],o=t[4],h=t[5],l=t[6],c=t[7],m=t[8],d=e[0],p=e[1];return i[0]=s,i[1]=r,i[2]=n,i[3]=a,i[4]=o,i[5]=h,i[6]=d*s+p*a+l,i[7]=d*r+p*o+c,i[8]=d*n+p*h+m,i}function Wd(i,t,e){let s=t[0],r=t[1],n=t[2],a=t[3],o=t[4],h=t[5],l=t[6],c=t[7],m=t[8],d=Math.sin(e),p=Math.cos(e);return i[0]=p*s+d*a,i[1]=p*r+d*o,i[2]=p*n+d*h,i[3]=p*a-d*s,i[4]=p*o-d*r,i[5]=p*h-d*n,i[6]=l,i[7]=c,i[8]=m,i}function Xd(i,t,e){let s=e[0],r=e[1];return i[0]=s*t[0],i[1]=s*t[1],i[2]=s*t[2],i[3]=r*t[3],i[4]=r*t[4],i[5]=r*t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i}function Kd(i,t){let e=t[0],s=t[1],r=t[2],n=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8],m=t[9],d=t[10],p=t[11],f=t[12],u=t[13],g=t[14],_=t[15],y=e*o-s*a,v=e*h-r*a,w=e*l-n*a,b=s*h-r*o,x=s*l-n*o,E=r*l-n*h,T=c*u-m*f,A=c*g-d*f,M=c*_-p*f,P=m*g-d*u,S=m*_-p*u,O=d*_-p*g,C=y*O-v*S+w*P+b*M-x*A+E*T;return C?(C=1/C,i[0]=(o*O-h*S+l*P)*C,i[1]=(h*M-a*O-l*A)*C,i[2]=(a*S-o*M+l*T)*C,i[3]=(r*S-s*O-n*P)*C,i[4]=(e*O-r*M+n*A)*C,i[5]=(s*M-e*S-n*T)*C,i[6]=(u*E-g*x+_*b)*C,i[7]=(g*w-f*E-_*v)*C,i[8]=(f*x-u*w+_*y)*C,i):null}class Zd extends Array{constructor(t=1,e=0,s=0,r=0,n=1,a=0,o=0,h=0,l=1){return super(t,e,s,r,n,a,o,h,l),this}set(t,e,s,r,n,a,o,h,l){return t.length?this.copy(t):(qd(this,t,e,s,r,n,a,o,h,l),this)}translate(t,e=this){return Yd(this,e,t),this}rotate(t,e=this){return Wd(this,e,t),this}scale(t,e=this){return Xd(this,e,t),this}multiply(t,e){return e?bn(this,t,e):bn(this,this,t),this}identity(){return jd(this),this}copy(t){return Gd(this,t),this}fromMatrix4(t){return Ud(this,t),this}fromQuaternion(t){return Vd(this,t),this}fromBasis(t,e,s){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],s[0],s[1],s[2]),this}inverse(t=this){return Hd(this,t),this}getNormalMatrix(t){return Kd(this,t),this}}let Qd=0;class Vi extends he{constructor(t,{geometry:e,program:s,mode:r=t.TRIANGLES,frustumCulled:n=!0,renderOrder:a=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=Qd++,this.geometry=e,this.program=s,this.mode=r,this.frustumCulled=n,this.renderOrder=a,this.modelViewMatrix=new Wt,this.normalMatrix=new Zd,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:t}));let e=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:t}))}}const xn=new Uint8Array(4);function An(i){return(i&i-1)===0}let Jd=1;class tf{constructor(t,{image:e,target:s=t.TEXTURE_2D,type:r=t.UNSIGNED_BYTE,format:n=t.RGBA,internalFormat:a=n,wrapS:o=t.CLAMP_TO_EDGE,wrapT:h=t.CLAMP_TO_EDGE,generateMipmaps:l=!0,minFilter:c=l?t.NEAREST_MIPMAP_LINEAR:t.LINEAR,magFilter:m=t.LINEAR,premultiplyAlpha:d=!1,unpackAlignment:p=4,flipY:f=s==t.TEXTURE_2D,anisotropy:u=0,level:g=0,width:_,height:y=_}={}){this.gl=t,this.id=Jd++,this.image=e,this.target=s,this.type=r,this.format=n,this.internalFormat=a,this.minFilter=c,this.magFilter=m,this.wrapS=o,this.wrapT=h,this.generateMipmaps=l,this.premultiplyAlpha=d,this.unpackAlignment=p,this.flipY=f,this.anisotropy=Math.min(u,this.gl.renderer.parameters.maxAnisotropy),this.level=g,this.width=_,this.height=y,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){const e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),!!e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let s=0;s<6;s++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+s,this.level,this.internalFormat,this.format,this.type,this.image[s]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let s=0;s<this.image.length;s++)this.gl.compressedTexImage2D(this.target,s,this.internalFormat,this.image[s].width,this.image[s].height,0,this.image[s].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!An(this.image.width)||!An(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let s=0;s<6;s++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,xn);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,xn);this.store.image=this.image}}}function ef(i,t){return i[0]=t[0],i[1]=t[1],i}function sf(i,t,e){return i[0]=t,i[1]=e,i}function En(i,t,e){return i[0]=t[0]+e[0],i[1]=t[1]+e[1],i}function Tn(i,t,e){return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i}function rf(i,t,e){return i[0]=t[0]*e[0],i[1]=t[1]*e[1],i}function nf(i,t,e){return i[0]=t[0]/e[0],i[1]=t[1]/e[1],i}function gs(i,t,e){return i[0]=t[0]*e,i[1]=t[1]*e,i}function af(i,t){var e=t[0]-i[0],s=t[1]-i[1];return Math.sqrt(e*e+s*s)}function of(i,t){var e=t[0]-i[0],s=t[1]-i[1];return e*e+s*s}function Mn(i){var t=i[0],e=i[1];return Math.sqrt(t*t+e*e)}function hf(i){var t=i[0],e=i[1];return t*t+e*e}function lf(i,t){return i[0]=-t[0],i[1]=-t[1],i}function cf(i,t){return i[0]=1/t[0],i[1]=1/t[1],i}function uf(i,t){var e=t[0],s=t[1],r=e*e+s*s;return r>0&&(r=1/Math.sqrt(r)),i[0]=t[0]*r,i[1]=t[1]*r,i}function df(i,t){return i[0]*t[0]+i[1]*t[1]}function Sn(i,t){return i[0]*t[1]-i[1]*t[0]}function ff(i,t,e,s){var r=t[0],n=t[1];return i[0]=r+s*(e[0]-r),i[1]=n+s*(e[1]-n),i}function pf(i,t,e){var s=t[0],r=t[1];return i[0]=e[0]*s+e[3]*r+e[6],i[1]=e[1]*s+e[4]*r+e[7],i}function mf(i,t,e){let s=t[0],r=t[1];return i[0]=e[0]*s+e[4]*r+e[12],i[1]=e[1]*s+e[5]*r+e[13],i}function gf(i,t){return i[0]===t[0]&&i[1]===t[1]}class xe extends Array{constructor(t=0,e=t){return super(t,e),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,e=t){return t.length?this.copy(t):(sf(this,t,e),this)}copy(t){return ef(this,t),this}add(t,e){return e?En(this,t,e):En(this,this,t),this}sub(t,e){return e?Tn(this,t,e):Tn(this,this,t),this}multiply(t){return t.length?rf(this,this,t):gs(this,this,t),this}divide(t){return t.length?nf(this,this,t):gs(this,this,1/t),this}inverse(t=this){return cf(this,t),this}len(){return Mn(this)}distance(t){return t?af(this,t):Mn(this)}squaredLen(){return this.squaredDistance()}squaredDistance(t){return t?of(this,t):hf(this)}negate(t=this){return lf(this,t),this}cross(t,e){return e?Sn(t,e):Sn(this,t)}scale(t){return gs(this,this,t),this}normalize(){return uf(this,this),this}dot(t){return df(this,t)}equals(t){return gf(this,t)}applyMatrix3(t){return pf(this,this,t),this}applyMatrix4(t){return mf(this,this,t),this}lerp(t,e){return ff(this,this,t,e),this}clone(){return new xe(this[0],this[1])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t}}class yi extends ju{constructor(t,{width:e=1,height:s=1,widthSegments:r=1,heightSegments:n=1,attributes:a={}}={}){const o=r,h=n,l=(o+1)*(h+1),c=o*h*6,m=new Float32Array(l*3),d=new Float32Array(l*3),p=new Float32Array(l*2),f=c>65536?new Uint32Array(c):new Uint16Array(c);yi.buildPlane(m,d,p,f,e,s,0,o,h),Object.assign(a,{position:{size:3,data:m},normal:{size:3,data:d},uv:{size:2,data:p},index:{data:f}}),super(t,a)}static buildPlane(t,e,s,r,n,a,o,h,l,c=0,m=1,d=2,p=1,f=-1,u=0,g=0){const _=u,y=n/h,v=a/l;for(let w=0;w<=l;w++){let b=w*v-a/2;for(let x=0;x<=h;x++,u++){let E=x*y-n/2;if(t[u*3+c]=E*p,t[u*3+m]=b*f,t[u*3+d]=o/2,e[u*3+c]=0,e[u*3+m]=0,e[u*3+d]=o>=0?1:-1,s[u*2]=x/h,s[u*2+1]=1-w/l,w===l||x===h)continue;let T=_+x+w*(h+1),A=_+x+(w+1)*(h+1),M=_+x+(w+1)*(h+1)+1,P=_+x+w*(h+1)+1;r[g*6]=T,r[g*6+1]=A,r[g*6+2]=P,r[g*6+3]=A,r[g*6+4]=M,r[g*6+5]=P,g++}}}}const _f=new xe,vf=new xe,yf=new xe,_s=new F,Cn=new F,On=new F,wf=new F,bf=new F,xf=new F,Pn=new F,vs=new F,Ln=new F,$n=new F,Af=new F,zn=new Wt;class Ef{constructor(){this.origin=new F,this.direction=new F}castMouse(t,e=[0,0]){if(t.type==="orthographic"){const{left:s,right:r,bottom:n,top:a,zoom:o}=t,h=s/o+(r-s)/o*(e[0]*.5+.5),l=n/o+(a-n)/o*(e[1]*.5+.5);this.origin.set(h,l,0),this.origin.applyMatrix4(t.worldMatrix),this.direction.x=-t.worldMatrix[8],this.direction.y=-t.worldMatrix[9],this.direction.z=-t.worldMatrix[10]}else t.worldMatrix.getTranslation(this.origin),this.direction.set(e[0],e[1],.5),t.unproject(this.direction),this.direction.sub(this.origin).normalize()}intersectBounds(t,{maxDistance:e,output:s=[]}={}){Array.isArray(t)||(t=[t]);const r=zn,n=_s,a=Cn,o=s;return o.length=0,t.forEach(h=>{(!h.geometry.bounds||h.geometry.bounds.radius===1/0)&&h.geometry.computeBoundingSphere();const l=h.geometry.bounds;r.inverse(h.worldMatrix);let c;if(e&&(a.copy(this.direction).scaleRotateMatrix4(r),c=e*a.len()),n.copy(this.origin).applyMatrix4(r),a.copy(this.direction).transformDirection(r),e&&n.distance(l.center)-l.radius>c)return;let m=0;if(h.geometry.raycast==="sphere"){if(n.distance(l.center)>l.radius&&(m=this.intersectSphere(l,n,a),!m))return}else if((n.x<l.min.x||n.x>l.max.x||n.y<l.min.y||n.y>l.max.y||n.z<l.min.z||n.z>l.max.z)&&(m=this.intersectBox(l,n,a),!m))return;e&&m>c||(h.hit||(h.hit={localPoint:new F,point:new F}),h.hit.localPoint.copy(a).multiply(m).add(n),h.hit.point.copy(h.hit.localPoint).applyMatrix4(h.worldMatrix),h.hit.distance=h.hit.point.distance(this.origin),o.push(h))}),o.sort((h,l)=>h.hit.distance-l.hit.distance),o}intersectMeshes(t,{cullFace:e=!0,maxDistance:s,includeUV:r=!0,includeNormal:n=!0,output:a=[]}={}){const o=this.intersectBounds(t,{maxDistance:s,output:a});if(!o.length)return o;const h=zn,l=_s,c=Cn,m=On,d=wf,p=bf,f=xf,u=Pn,g=vs,_=_f,y=vf,v=yf;for(let w=o.length-1;w>=0;w--){const b=o[w];h.inverse(b.worldMatrix);let x;s&&(c.copy(this.direction).scaleRotateMatrix4(h),x=s*c.len()),l.copy(this.origin).applyMatrix4(h),c.copy(this.direction).transformDirection(h);let E=0,T,A,M;const P=b.geometry,S=P.attributes,O=S.index,C=S.position,$=Math.max(0,P.drawRange.start),z=Math.min(O?O.count:C.count,P.drawRange.start+P.drawRange.count),R=C.size;for(let U=$;U<z;U+=3){const ot=O?O.data[U]:U,st=O?O.data[U+1]:U+1,V=O?O.data[U+2]:U+2;m.fromArray(C.data,ot*R),d.fromArray(C.data,st*R),p.fromArray(C.data,V*R);const k=this.intersectTriangle(m,d,p,e,l,c,u);k&&(s&&k>x||(!E||k<E)&&(E=k,T=ot,A=st,M=V,f.copy(u)))}E||o.splice(w,1),b.hit.localPoint.copy(c).multiply(E).add(l),b.hit.point.copy(b.hit.localPoint).applyMatrix4(b.worldMatrix),b.hit.distance=b.hit.point.distance(this.origin),b.hit.faceNormal||(b.hit.localFaceNormal=new F,b.hit.faceNormal=new F,b.hit.uv=new xe,b.hit.localNormal=new F,b.hit.normal=new F),b.hit.localFaceNormal.copy(f),b.hit.faceNormal.copy(b.hit.localFaceNormal).transformDirection(b.worldMatrix),(r||n)&&(m.fromArray(C.data,T*3),d.fromArray(C.data,A*3),p.fromArray(C.data,M*3),this.getBarycoord(b.hit.localPoint,m,d,p,g)),r&&S.uv&&(_.fromArray(S.uv.data,T*2),y.fromArray(S.uv.data,A*2),v.fromArray(S.uv.data,M*2),b.hit.uv.set(_.x*g.x+y.x*g.y+v.x*g.z,_.y*g.x+y.y*g.y+v.y*g.z)),n&&S.normal&&(m.fromArray(S.normal.data,T*3),d.fromArray(S.normal.data,A*3),p.fromArray(S.normal.data,M*3),b.hit.localNormal.set(m.x*g.x+d.x*g.y+p.x*g.z,m.y*g.x+d.y*g.y+p.y*g.z,m.z*g.x+d.z*g.y+p.z*g.z),b.hit.normal.copy(b.hit.localNormal).transformDirection(b.worldMatrix))}return o.sort((w,b)=>w.hit.distance-b.hit.distance),o}intersectPlane(t,e=this.origin,s=this.direction){const r=_s;r.sub(t.origin,e);const n=r.dot(t.normal),a=s.dot(t.normal);if(a==0)return 0;const o=n/a;return o<=0?0:e.add(s.scale(o))}intersectSphere(t,e=this.origin,s=this.direction){const r=On;r.sub(t.center,e);const n=r.dot(s),a=r.dot(r)-n*n,o=t.radius*t.radius;if(a>o)return 0;const h=Math.sqrt(o-a),l=n-h,c=n+h;return l<0&&c<0?0:l<0?c:l}intersectBox(t,e=this.origin,s=this.direction){let r,n,a,o,h,l;const c=1/s.x,m=1/s.y,d=1/s.z,p=t.min,f=t.max;return r=((c>=0?p.x:f.x)-e.x)*c,n=((c>=0?f.x:p.x)-e.x)*c,a=((m>=0?p.y:f.y)-e.y)*m,o=((m>=0?f.y:p.y)-e.y)*m,r>o||a>n||(a>r&&(r=a),o<n&&(n=o),h=((d>=0?p.z:f.z)-e.z)*d,l=((d>=0?f.z:p.z)-e.z)*d,r>l||h>n)||(h>r&&(r=h),l<n&&(n=l),n<0)?0:r>=0?r:n}intersectTriangle(t,e,s,r=!0,n=this.origin,a=this.direction,o=Pn){const h=vs,l=Ln,c=$n;h.sub(e,t),l.sub(s,t),o.cross(h,l);let m=a.dot(o);if(!m)return 0;let d;if(m>0){if(r)return 0;d=1}else d=-1,m=-m;c.sub(n,t);let p=d*a.dot(l.cross(c,l));if(p<0)return 0;let f=d*a.dot(h.cross(c));if(f<0||p+f>m)return 0;let u=-d*c.dot(o);return u<0?0:u/m}getBarycoord(t,e,s,r,n=vs){const a=Ln,o=$n,h=Af;a.sub(r,e),o.sub(s,e),h.sub(t,e);const l=a.dot(a),c=a.dot(o),m=a.dot(h),d=o.dot(o),p=o.dot(h),f=l*d-c*c;if(f===0)return n.set(-2,-1,-1);const u=1/f,g=(d*m-c*p)*u,_=(l*p-c*m)*u;return n.set(1-g-_,_,g)}}function Tf(i,t){for(var e=-1,s=i==null?0:i.length,r=Array(s);++e<s;)r[e]=t(i[e],e,i);return r}var Ja=Tf;function Mf(){this.__data__=[],this.size=0}var Sf=Mf;function Cf(i,t){return i===t||i!==i&&t!==t}var to=Cf,Of=to;function Pf(i,t){for(var e=i.length;e--;)if(Of(i[e][0],t))return e;return-1}var Ji=Pf,Lf=Ji,$f=Array.prototype,zf=$f.splice;function Df(i){var t=this.__data__,e=Lf(t,i);if(e<0)return!1;var s=t.length-1;return e==s?t.pop():zf.call(t,e,1),--this.size,!0}var Rf=Df,If=Ji;function kf(i){var t=this.__data__,e=If(t,i);return e<0?void 0:t[e][1]}var Ff=kf,Nf=Ji;function Bf(i){return Nf(this.__data__,i)>-1}var Uf=Bf,Vf=Ji;function Gf(i,t){var e=this.__data__,s=Vf(e,i);return s<0?(++this.size,e.push([i,t])):e[s][1]=t,this}var qf=Gf,jf=Sf,Hf=Rf,Yf=Ff,Wf=Uf,Xf=qf;function Ue(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var s=i[t];this.set(s[0],s[1])}}Ue.prototype.clear=jf;Ue.prototype.delete=Hf;Ue.prototype.get=Yf;Ue.prototype.has=Wf;Ue.prototype.set=Xf;var ts=Ue,Kf=ts;function Zf(){this.__data__=new Kf,this.size=0}var Qf=Zf;function Jf(i){var t=this.__data__,e=t.delete(i);return this.size=t.size,e}var tp=Jf;function ep(i){return this.__data__.get(i)}var ip=ep;function sp(i){return this.__data__.has(i)}var rp=sp,np=Zt,ap=np["__core-js_shared__"],op=ap,ys=op,Dn=function(){var i=/[^.]+$/.exec(ys&&ys.keys&&ys.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function hp(i){return!!Dn&&Dn in i}var lp=hp,cp=Function.prototype,up=cp.toString;function dp(i){if(i!=null){try{return up.call(i)}catch{}try{return i+""}catch{}}return""}var eo=dp,fp=ja,pp=lp,mp=gr,gp=eo,_p=/[\\^$.*+?()[\]{}|]/g,vp=/^\[object .+?Constructor\]$/,yp=Function.prototype,wp=Object.prototype,bp=yp.toString,xp=wp.hasOwnProperty,Ap=RegExp("^"+bp.call(xp).replace(_p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ep(i){if(!mp(i)||pp(i))return!1;var t=fp(i)?Ap:vp;return t.test(gp(i))}var Tp=Ep;function Mp(i,t){return i==null?void 0:i[t]}var Sp=Mp,Cp=Tp,Op=Sp;function Pp(i,t){var e=Op(i,t);return Cp(e)?e:void 0}var Ve=Pp,Lp=Ve,$p=Zt,zp=Lp($p,"Map"),yr=zp,Dp=Ve,Rp=Dp(Object,"create"),es=Rp,Rn=es;function Ip(){this.__data__=Rn?Rn(null):{},this.size=0}var kp=Ip;function Fp(i){var t=this.has(i)&&delete this.__data__[i];return this.size-=t?1:0,t}var Np=Fp,Bp=es,Up="__lodash_hash_undefined__",Vp=Object.prototype,Gp=Vp.hasOwnProperty;function qp(i){var t=this.__data__;if(Bp){var e=t[i];return e===Up?void 0:e}return Gp.call(t,i)?t[i]:void 0}var jp=qp,Hp=es,Yp=Object.prototype,Wp=Yp.hasOwnProperty;function Xp(i){var t=this.__data__;return Hp?t[i]!==void 0:Wp.call(t,i)}var Kp=Xp,Zp=es,Qp="__lodash_hash_undefined__";function Jp(i,t){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=Zp&&t===void 0?Qp:t,this}var tm=Jp,em=kp,im=Np,sm=jp,rm=Kp,nm=tm;function Ge(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var s=i[t];this.set(s[0],s[1])}}Ge.prototype.clear=em;Ge.prototype.delete=im;Ge.prototype.get=sm;Ge.prototype.has=rm;Ge.prototype.set=nm;var am=Ge,In=am,om=ts,hm=yr;function lm(){this.size=0,this.__data__={hash:new In,map:new(hm||om),string:new In}}var cm=lm;function um(i){var t=typeof i;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?i!=="__proto__":i===null}var dm=um,fm=dm;function pm(i,t){var e=i.__data__;return fm(t)?e[typeof t=="string"?"string":"hash"]:e.map}var is=pm,mm=is;function gm(i){var t=mm(this,i).delete(i);return this.size-=t?1:0,t}var _m=gm,vm=is;function ym(i){return vm(this,i).get(i)}var wm=ym,bm=is;function xm(i){return bm(this,i).has(i)}var Am=xm,Em=is;function Tm(i,t){var e=Em(this,i),s=e.size;return e.set(i,t),this.size+=e.size==s?0:1,this}var Mm=Tm,Sm=cm,Cm=_m,Om=wm,Pm=Am,Lm=Mm;function qe(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var s=i[t];this.set(s[0],s[1])}}qe.prototype.clear=Sm;qe.prototype.delete=Cm;qe.prototype.get=Om;qe.prototype.has=Pm;qe.prototype.set=Lm;var wr=qe,$m=ts,zm=yr,Dm=wr,Rm=200;function Im(i,t){var e=this.__data__;if(e instanceof $m){var s=e.__data__;if(!zm||s.length<Rm-1)return s.push([i,t]),this.size=++e.size,this;e=this.__data__=new Dm(s)}return e.set(i,t),this.size=e.size,this}var km=Im,Fm=ts,Nm=Qf,Bm=tp,Um=ip,Vm=rp,Gm=km;function je(i){var t=this.__data__=new Fm(i);this.size=t.size}je.prototype.clear=Nm;je.prototype.delete=Bm;je.prototype.get=Um;je.prototype.has=Vm;je.prototype.set=Gm;var io=je,qm="__lodash_hash_undefined__";function jm(i){return this.__data__.set(i,qm),this}var Hm=jm;function Ym(i){return this.__data__.has(i)}var Wm=Ym,Xm=wr,Km=Hm,Zm=Wm;function Gi(i){var t=-1,e=i==null?0:i.length;for(this.__data__=new Xm;++t<e;)this.add(i[t])}Gi.prototype.add=Gi.prototype.push=Km;Gi.prototype.has=Zm;var Qm=Gi;function Jm(i,t){for(var e=-1,s=i==null?0:i.length;++e<s;)if(t(i[e],e,i))return!0;return!1}var tg=Jm;function eg(i,t){return i.has(t)}var ig=eg,sg=Qm,rg=tg,ng=ig,ag=1,og=2;function hg(i,t,e,s,r,n){var a=e&ag,o=i.length,h=t.length;if(o!=h&&!(a&&h>o))return!1;var l=n.get(i),c=n.get(t);if(l&&c)return l==t&&c==i;var m=-1,d=!0,p=e&og?new sg:void 0;for(n.set(i,t),n.set(t,i);++m<o;){var f=i[m],u=t[m];if(s)var g=a?s(u,f,m,t,i,n):s(f,u,m,i,t,n);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!rg(t,function(_,y){if(!ng(p,y)&&(f===_||r(f,_,e,s,n)))return p.push(y)})){d=!1;break}}else if(!(f===u||r(f,u,e,s,n))){d=!1;break}}return n.delete(i),n.delete(t),d}var so=hg,lg=Zt,cg=lg.Uint8Array,ug=cg;function dg(i){var t=-1,e=Array(i.size);return i.forEach(function(s,r){e[++t]=[r,s]}),e}var fg=dg;function pg(i){var t=-1,e=Array(i.size);return i.forEach(function(s){e[++t]=s}),e}var mg=pg,kn=Qi,Fn=ug,gg=to,_g=so,vg=fg,yg=mg,wg=1,bg=2,xg="[object Boolean]",Ag="[object Date]",Eg="[object Error]",Tg="[object Map]",Mg="[object Number]",Sg="[object RegExp]",Cg="[object Set]",Og="[object String]",Pg="[object Symbol]",Lg="[object ArrayBuffer]",$g="[object DataView]",Nn=kn?kn.prototype:void 0,ws=Nn?Nn.valueOf:void 0;function zg(i,t,e,s,r,n,a){switch(e){case $g:if(i.byteLength!=t.byteLength||i.byteOffset!=t.byteOffset)return!1;i=i.buffer,t=t.buffer;case Lg:return!(i.byteLength!=t.byteLength||!n(new Fn(i),new Fn(t)));case xg:case Ag:case Mg:return gg(+i,+t);case Eg:return i.name==t.name&&i.message==t.message;case Sg:case Og:return i==t+"";case Tg:var o=vg;case Cg:var h=s&wg;if(o||(o=yg),i.size!=t.size&&!h)return!1;var l=a.get(i);if(l)return l==t;s|=bg,a.set(i,t);var c=_g(o(i),o(t),s,r,n,a);return a.delete(i),c;case Pg:if(ws)return ws.call(i)==ws.call(t)}return!1}var Dg=zg;function Rg(i,t){for(var e=-1,s=t.length,r=i.length;++e<s;)i[r+e]=t[e];return i}var Ig=Rg,kg=Ig,Fg=jt;function Ng(i,t,e){var s=t(i);return Fg(i)?s:kg(s,e(i))}var Bg=Ng;function Ug(i,t){for(var e=-1,s=i==null?0:i.length,r=0,n=[];++e<s;){var a=i[e];t(a,e,i)&&(n[r++]=a)}return n}var Vg=Ug;function Gg(){return[]}var qg=Gg,jg=Vg,Hg=qg,Yg=Object.prototype,Wg=Yg.propertyIsEnumerable,Bn=Object.getOwnPropertySymbols,Xg=Bn?function(i){return i==null?[]:(i=Object(i),jg(Bn(i),function(t){return Wg.call(i,t)}))}:Hg,Kg=Xg,Zg=Bg,Qg=Kg,Jg=vr;function t0(i){return Zg(i,Jg,Qg)}var e0=t0,Un=e0,i0=1,s0=Object.prototype,r0=s0.hasOwnProperty;function n0(i,t,e,s,r,n){var a=e&i0,o=Un(i),h=o.length,l=Un(t),c=l.length;if(h!=c&&!a)return!1;for(var m=h;m--;){var d=o[m];if(!(a?d in t:r0.call(t,d)))return!1}var p=n.get(i),f=n.get(t);if(p&&f)return p==t&&f==i;var u=!0;n.set(i,t),n.set(t,i);for(var g=a;++m<h;){d=o[m];var _=i[d],y=t[d];if(s)var v=a?s(y,_,d,t,i,n):s(_,y,d,i,t,n);if(!(v===void 0?_===y||r(_,y,e,s,n):v)){u=!1;break}g||(g=d=="constructor")}if(u&&!g){var w=i.constructor,b=t.constructor;w!=b&&"constructor"in i&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof b=="function"&&b instanceof b)&&(u=!1)}return n.delete(i),n.delete(t),u}var a0=n0,o0=Ve,h0=Zt,l0=o0(h0,"DataView"),c0=l0,u0=Ve,d0=Zt,f0=u0(d0,"Promise"),p0=f0,m0=Ve,g0=Zt,_0=m0(g0,"Set"),v0=_0,y0=Ve,w0=Zt,b0=y0(w0,"WeakMap"),x0=b0,Hs=c0,Ys=yr,Ws=p0,Xs=v0,Ks=x0,ro=_i,He=eo,Vn="[object Map]",A0="[object Object]",Gn="[object Promise]",qn="[object Set]",jn="[object WeakMap]",Hn="[object DataView]",E0=He(Hs),T0=He(Ys),M0=He(Ws),S0=He(Xs),C0=He(Ks),de=ro;(Hs&&de(new Hs(new ArrayBuffer(1)))!=Hn||Ys&&de(new Ys)!=Vn||Ws&&de(Ws.resolve())!=Gn||Xs&&de(new Xs)!=qn||Ks&&de(new Ks)!=jn)&&(de=function(i){var t=ro(i),e=t==A0?i.constructor:void 0,s=e?He(e):"";if(s)switch(s){case E0:return Hn;case T0:return Vn;case M0:return Gn;case S0:return qn;case C0:return jn}return t});var O0=de,bs=io,P0=so,L0=Dg,$0=a0,Yn=O0,Wn=jt,Xn=Va,z0=qa,D0=1,Kn="[object Arguments]",Zn="[object Array]",Si="[object Object]",R0=Object.prototype,Qn=R0.hasOwnProperty;function I0(i,t,e,s,r,n){var a=Wn(i),o=Wn(t),h=a?Zn:Yn(i),l=o?Zn:Yn(t);h=h==Kn?Si:h,l=l==Kn?Si:l;var c=h==Si,m=l==Si,d=h==l;if(d&&Xn(i)){if(!Xn(t))return!1;a=!0,c=!1}if(d&&!c)return n||(n=new bs),a||z0(i)?P0(i,t,e,s,r,n):L0(i,t,h,e,s,r,n);if(!(e&D0)){var p=c&&Qn.call(i,"__wrapped__"),f=m&&Qn.call(t,"__wrapped__");if(p||f){var u=p?i.value():i,g=f?t.value():t;return n||(n=new bs),r(u,g,e,s,n)}}return d?(n||(n=new bs),$0(i,t,e,s,r,n)):!1}var k0=I0,F0=k0,Jn=vi;function no(i,t,e,s,r){return i===t?!0:i==null||t==null||!Jn(i)&&!Jn(t)?i!==i&&t!==t:F0(i,t,e,s,no,r)}var ao=no,N0=io,B0=ao,U0=1,V0=2;function G0(i,t,e,s){var r=e.length,n=r,a=!s;if(i==null)return!n;for(i=Object(i);r--;){var o=e[r];if(a&&o[2]?o[1]!==i[o[0]]:!(o[0]in i))return!1}for(;++r<n;){o=e[r];var h=o[0],l=i[h],c=o[1];if(a&&o[2]){if(l===void 0&&!(h in i))return!1}else{var m=new N0;if(s)var d=s(l,c,h,i,t,m);if(!(d===void 0?B0(c,l,U0|V0,s,m):d))return!1}}return!0}var q0=G0,j0=gr;function H0(i){return i===i&&!j0(i)}var oo=H0,Y0=oo,W0=vr;function X0(i){for(var t=W0(i),e=t.length;e--;){var s=t[e],r=i[s];t[e]=[s,r,Y0(r)]}return t}var K0=X0;function Z0(i,t){return function(e){return e==null?!1:e[i]===t&&(t!==void 0||i in Object(e))}}var ho=Z0,Q0=q0,J0=K0,t_=ho;function e_(i){var t=J0(i);return t.length==1&&t[0][2]?t_(t[0][0],t[0][1]):function(e){return e===i||Q0(e,i,t)}}var i_=e_,s_=_i,r_=vi,n_="[object Symbol]";function a_(i){return typeof i=="symbol"||r_(i)&&s_(i)==n_}var br=a_,o_=jt,h_=br,l_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c_=/^\w*$/;function u_(i,t){if(o_(i))return!1;var e=typeof i;return e=="number"||e=="symbol"||e=="boolean"||i==null||h_(i)?!0:c_.test(i)||!l_.test(i)||t!=null&&i in Object(t)}var xr=u_,lo=wr,d_="Expected a function";function Ar(i,t){if(typeof i!="function"||t!=null&&typeof t!="function")throw new TypeError(d_);var e=function(){var s=arguments,r=t?t.apply(this,s):s[0],n=e.cache;if(n.has(r))return n.get(r);var a=i.apply(this,s);return e.cache=n.set(r,a)||n,a};return e.cache=new(Ar.Cache||lo),e}Ar.Cache=lo;var f_=Ar,p_=f_,m_=500;function g_(i){var t=p_(i,function(s){return e.size===m_&&e.clear(),s}),e=t.cache;return t}var __=g_,v_=__,y_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,w_=/\\(\\)?/g,b_=v_(function(i){var t=[];return i.charCodeAt(0)===46&&t.push(""),i.replace(y_,function(e,s,r,n){t.push(r?n.replace(w_,"$1"):s||e)}),t}),x_=b_,ta=Qi,A_=Ja,E_=jt,T_=br,M_=1/0,ea=ta?ta.prototype:void 0,ia=ea?ea.toString:void 0;function co(i){if(typeof i=="string")return i;if(E_(i))return A_(i,co)+"";if(T_(i))return ia?ia.call(i):"";var t=i+"";return t=="0"&&1/i==-M_?"-0":t}var S_=co,C_=S_;function O_(i){return i==null?"":C_(i)}var P_=O_,L_=jt,$_=xr,z_=x_,D_=P_;function R_(i,t){return L_(i)?i:$_(i,t)?[i]:z_(D_(i))}var uo=R_,I_=br,k_=1/0;function F_(i){if(typeof i=="string"||I_(i))return i;var t=i+"";return t=="0"&&1/i==-k_?"-0":t}var ss=F_,N_=uo,B_=ss;function U_(i,t){t=N_(t,i);for(var e=0,s=t.length;i!=null&&e<s;)i=i[B_(t[e++])];return e&&e==s?i:void 0}var fo=U_,V_=fo;function G_(i,t,e){var s=i==null?void 0:V_(i,t);return s===void 0?e:s}var q_=G_;function j_(i,t){return i!=null&&t in Object(i)}var H_=j_,Y_=uo,W_=Ua,X_=jt,K_=Ga,Z_=mr,Q_=ss;function J_(i,t,e){t=Y_(t,i);for(var s=-1,r=t.length,n=!1;++s<r;){var a=Q_(t[s]);if(!(n=i!=null&&e(i,a)))break;i=i[a]}return n||++s!=r?n:(r=i==null?0:i.length,!!r&&Z_(r)&&K_(a,r)&&(X_(i)||W_(i)))}var t1=J_,e1=H_,i1=t1;function s1(i,t){return i!=null&&i1(i,t,e1)}var r1=s1,n1=ao,a1=q_,o1=r1,h1=xr,l1=oo,c1=ho,u1=ss,d1=1,f1=2;function p1(i,t){return h1(i)&&l1(t)?c1(u1(i),t):function(e){var s=a1(e,i);return s===void 0&&s===t?o1(e,i):n1(t,s,d1|f1)}}var m1=p1;function g1(i){return function(t){return t==null?void 0:t[i]}}var _1=g1,v1=fo;function y1(i){return function(t){return v1(t,i)}}var w1=y1,b1=_1,x1=w1,A1=xr,E1=ss;function T1(i){return A1(i)?b1(E1(i)):x1(i)}var M1=T1,S1=i_,C1=m1,O1=Ya,P1=jt,L1=M1;function $1(i){return typeof i=="function"?i:i==null?O1:typeof i=="object"?P1(i)?C1(i[0],i[1]):S1(i):L1(i)}var z1=$1,D1=Ha,R1=_r;function I1(i,t){var e=-1,s=R1(i)?Array(i.length):[];return D1(i,function(r,n,a){s[++e]=t(r,n,a)}),s}var k1=I1,F1=Ja,N1=z1,B1=k1,U1=jt;function V1(i,t){var e=U1(i)?F1:B1;return e(i,N1(t))}var G1=V1;const rt=oe(G1);function Ht(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function po(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ot={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},De={duration:.5,overwrite:!1,delay:0},Er,gt,Z,zt=1e8,X=1/zt,Zs=Math.PI*2,q1=Zs/4,j1=0,mo=Math.sqrt,H1=Math.cos,Y1=Math.sin,ct=function(t){return typeof t=="string"},et=function(t){return typeof t=="function"},Xt=function(t){return typeof t=="number"},Tr=function(t){return typeof t>"u"},qt=function(t){return typeof t=="object"},bt=function(t){return t!==!1},Mr=function(){return typeof window<"u"},Ci=function(t){return et(t)||ct(t)},go=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_t=Array.isArray,Qs=/(?:-?\.?\d|\.)+/gi,_o=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ce=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,xs=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,vo=/[+-]=-?[.\d]+/,yo=/[^,'"\[\]\s]+/gi,W1=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Q,Nt,Js,Sr,Pt={},qi={},wo,bo=function(t){return(qi=we(t,Pt))&&Tt},Cr=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},li=function(t,e){return!e&&console.warn(t)},xo=function(t,e){return t&&(Pt[t]=e)&&qi&&(qi[t]=e)||Pt},ci=function(){return 0},X1={suppressEvents:!0,isStart:!0,kill:!1},Ri={suppressEvents:!0,kill:!1},K1={suppressEvents:!0},Or={},se=[],tr={},Ao,Mt={},As={},sa=30,Ii=[],Pr="",Lr=function(t){var e=t[0],s,r;if(qt(e)||et(e)||(t=[t]),!(s=(e._gsap||{}).harness)){for(r=Ii.length;r--&&!Ii[r].targetTest(e););s=Ii[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Yo(t[r],s)))||t.splice(r,1);return t},ge=function(t){return t._gsap||Lr(Dt(t))[0]._gsap},Eo=function(t,e,s){return(s=t[e])&&et(s)?t[e]():Tr(s)&&t.getAttribute&&t.getAttribute(e)||s},xt=function(t,e){return(t=t.split(",")).forEach(e)||t},it=function(t){return Math.round(t*1e5)/1e5||0},lt=function(t){return Math.round(t*1e7)/1e7||0},Pe=function(t,e){var s=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),s==="+"?t+r:s==="-"?t-r:s==="*"?t*r:t/r},Z1=function(t,e){for(var s=e.length,r=0;t.indexOf(e[r])<0&&++r<s;);return r<s},ji=function(){var t=se.length,e=se.slice(0),s,r;for(tr={},se.length=0,s=0;s<t;s++)r=e[s],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},To=function(t,e,s,r){se.length&&!gt&&ji(),t.render(e,s,r||gt&&e<0&&(t._initted||t._startAt)),se.length&&!gt&&ji()},Mo=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(yo).length<2?e:ct(t)?t.trim():t},So=function(t){return t},Rt=function(t,e){for(var s in e)s in t||(t[s]=e[s]);return t},Q1=function(t){return function(e,s){for(var r in s)r in e||r==="duration"&&t||r==="ease"||(e[r]=s[r])}},we=function(t,e){for(var s in e)t[s]=e[s];return t},ra=function i(t,e){for(var s in e)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(t[s]=qt(e[s])?i(t[s]||(t[s]={}),e[s]):e[s]);return t},Hi=function(t,e){var s={},r;for(r in t)r in e||(s[r]=t[r]);return s},ni=function(t){var e=t.parent||Q,s=t.keyframes?Q1(_t(t.keyframes)):Rt;if(bt(t.inherit))for(;e;)s(t,e.vars.defaults),e=e.parent||e._dp;return t},J1=function(t,e){for(var s=t.length,r=s===e.length;r&&s--&&t[s]===e[s];);return s<0},Co=function(t,e,s,r,n){s===void 0&&(s="_first"),r===void 0&&(r="_last");var a=t[r],o;if(n)for(o=e[n];a&&a[n]>o;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[s],t[s]=e),e._next?e._next._prev=e:t[r]=e,e._prev=a,e.parent=e._dp=t,e},rs=function(t,e,s,r){s===void 0&&(s="_first"),r===void 0&&(r="_last");var n=e._prev,a=e._next;n?n._next=a:t[s]===e&&(t[s]=a),a?a._prev=n:t[r]===e&&(t[r]=n),e._next=e._prev=e.parent=null},ne=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},_e=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var s=t;s;)s._dirty=1,s=s.parent;return t},tv=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},er=function(t,e,s,r){return t._startAt&&(gt?t._startAt.revert(Ri):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},ev=function i(t){return!t||t._ts&&i(t.parent)},na=function(t){return t._repeat?Re(t._tTime,t=t.duration()+t._rDelay)*t:0},Re=function(t,e){var s=Math.floor(t/=e);return t&&s===t?s-1:s},Yi=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},ns=function(t){return t._end=lt(t._start+(t._tDur/Math.abs(t._ts||t._rts||X)||0))},as=function(t,e){var s=t._dp;return s&&s.smoothChildTiming&&t._ts&&(t._start=lt(s._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),ns(t),s._dirty||_e(s,t)),t},Oo=function(t,e){var s;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(s=Yi(t.rawTime(),e),(!e._dur||wi(0,e.totalDuration(),s)-e._tTime>X)&&e.render(s,!0)),_e(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(s=t;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;t._zTime=-X}},Bt=function(t,e,s,r){return e.parent&&ne(e),e._start=lt((Xt(s)?s:s||t!==Q?$t(t,s,e):t._time)+e._delay),e._end=lt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Co(t,e,"_first","_last",t._sort?"_start":0),ir(e)||(t._recent=e),r||Oo(t,e),t._ts<0&&as(t,t._tTime),t},Po=function(t,e){return(Pt.ScrollTrigger||Cr("scrollTrigger",e))&&Pt.ScrollTrigger.create(e,t)},Lo=function(t,e,s,r,n){if(zr(t,e,n),!t._initted)return 1;if(!s&&t._pt&&!gt&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&Ao!==St.frame)return se.push(t),t._lazy=[n,r],1},iv=function i(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||i(e))},ir=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},sv=function(t,e,s,r){var n=t.ratio,a=e<0||!e&&(!t._start&&iv(t)&&!(!t._initted&&ir(t))||(t._ts<0||t._dp._ts<0)&&!ir(t))?0:1,o=t._rDelay,h=0,l,c,m;if(o&&t._repeat&&(h=wi(0,t._tDur,e),c=Re(h,o),t._yoyo&&c&1&&(a=1-a),c!==Re(t._tTime,o)&&(n=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),a!==n||gt||r||t._zTime===X||!e&&t._zTime){if(!t._initted&&Lo(t,e,r,s,h))return;for(m=t._zTime,t._zTime=e||(s?X:0),s||(s=e&&!m),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=h,l=t._pt;l;)l.r(a,l.d),l=l._next;e<0&&er(t,e,s,!0),t._onUpdate&&!s&&Ct(t,"onUpdate"),h&&t._repeat&&!s&&t.parent&&Ct(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(a&&ne(t,1),!s&&!gt&&(Ct(t,a?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},rv=function(t,e,s){var r;if(s>e)for(r=t._first;r&&r._start<=s;){if(r.data==="isPause"&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=s;){if(r.data==="isPause"&&r._start<e)return r;r=r._prev}},Ie=function(t,e,s,r){var n=t._repeat,a=lt(e)||0,o=t._tTime/t._tDur;return o&&!r&&(t._time*=a/t._dur),t._dur=a,t._tDur=n?n<0?1e10:lt(a*(n+1)+t._rDelay*n):a,o>0&&!r&&as(t,t._tTime=t._tDur*o),t.parent&&ns(t),s||_e(t.parent,t),t},aa=function(t){return t instanceof vt?_e(t):Ie(t,t._dur)},nv={_start:0,endTime:ci,totalDuration:ci},$t=function i(t,e,s){var r=t.labels,n=t._recent||nv,a=t.duration()>=zt?n.endTime(!1):t._dur,o,h,l;return ct(e)&&(isNaN(e)||e in r)?(h=e.charAt(0),l=e.substr(-1)==="%",o=e.indexOf("="),h==="<"||h===">"?(o>=0&&(e=e.replace(/=/,"")),(h==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(e.substr(1))||0)*(l?(o<0?n:s).totalDuration()/100:1)):o<0?(e in r||(r[e]=a),r[e]):(h=parseFloat(e.charAt(o-1)+e.substr(o+1)),l&&s&&(h=h/100*(_t(s)?s[0]:s).totalDuration()),o>1?i(t,e.substr(0,o-1),s)+h:a+h)):e==null?a:+e},ai=function(t,e,s){var r=Xt(e[1]),n=(r?2:1)+(t<2?0:1),a=e[n],o,h;if(r&&(a.duration=e[1]),a.parent=s,t){for(o=a,h=s;h&&!("immediateRender"in o);)o=h.vars.defaults||{},h=bt(h.vars.inherit)&&h.parent;a.immediateRender=bt(o.immediateRender),t<2?a.runBackwards=1:a.startAt=e[n-1]}return new nt(e[0],a,e[n+1])},le=function(t,e){return t||t===0?e(t):e},wi=function(t,e,s){return s<t?t:s>e?e:s},mt=function(t,e){return!ct(t)||!(e=W1.exec(t))?"":e[1]},av=function(t,e,s){return le(s,function(r){return wi(t,e,r)})},sr=[].slice,$o=function(t,e){return t&&qt(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&qt(t[0]))&&!t.nodeType&&t!==Nt},ov=function(t,e,s){return s===void 0&&(s=[]),t.forEach(function(r){var n;return ct(r)&&!e||$o(r,1)?(n=s).push.apply(n,Dt(r)):s.push(r)})||s},Dt=function(t,e,s){return Z&&!e&&Z.selector?Z.selector(t):ct(t)&&!s&&(Js||!ke())?sr.call((e||Sr).querySelectorAll(t),0):_t(t)?ov(t,s):$o(t)?sr.call(t,0):t?[t]:[]},rr=function(t){return t=Dt(t)[0]||li("Invalid scope")||{},function(e){var s=t.current||t.nativeElement||t;return Dt(e,s.querySelectorAll?s:s===t?li("Invalid scope")||Sr.createElement("div"):t)}},zo=function(t){return t.sort(function(){return .5-Math.random()})},Do=function(t){if(et(t))return t;var e=qt(t)?t:{each:t},s=ve(e.ease),r=e.from||0,n=parseFloat(e.base)||0,a={},o=r>0&&r<1,h=isNaN(r)||o,l=e.axis,c=r,m=r;return ct(r)?c=m={center:.5,edges:.5,end:1}[r]||0:!o&&h&&(c=r[0],m=r[1]),function(d,p,f){var u=(f||e).length,g=a[u],_,y,v,w,b,x,E,T,A;if(!g){if(A=e.grid==="auto"?0:(e.grid||[1,zt])[1],!A){for(E=-zt;E<(E=f[A++].getBoundingClientRect().left)&&A<u;);A<u&&A--}for(g=a[u]=[],_=h?Math.min(A,u)*c-.5:r%A,y=A===zt?0:h?u*m/A-.5:r/A|0,E=0,T=zt,x=0;x<u;x++)v=x%A-_,w=y-(x/A|0),g[x]=b=l?Math.abs(l==="y"?w:v):mo(v*v+w*w),b>E&&(E=b),b<T&&(T=b);r==="random"&&zo(g),g.max=E-T,g.min=T,g.v=u=(parseFloat(e.amount)||parseFloat(e.each)*(A>u?u-1:l?l==="y"?u/A:A:Math.max(A,u/A))||0)*(r==="edges"?-1:1),g.b=u<0?n-u:n,g.u=mt(e.amount||e.each)||0,s=s&&u<0?qo(s):s}return u=(g[d]-g.min)/g.max||0,lt(g.b+(s?s(u):u)*g.v)+g.u}},nr=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(s){var r=lt(Math.round(parseFloat(s)/t)*t*e);return(r-r%1)/e+(Xt(s)?0:mt(s))}},Ro=function(t,e){var s=_t(t),r,n;return!s&&qt(t)&&(r=s=t.radius||zt,t.values?(t=Dt(t.values),(n=!Xt(t[0]))&&(r*=r)):t=nr(t.increment)),le(e,s?et(t)?function(a){return n=t(a),Math.abs(n-a)<=r?n:a}:function(a){for(var o=parseFloat(n?a.x:a),h=parseFloat(n?a.y:0),l=zt,c=0,m=t.length,d,p;m--;)n?(d=t[m].x-o,p=t[m].y-h,d=d*d+p*p):d=Math.abs(t[m]-o),d<l&&(l=d,c=m);return c=!r||l<=r?t[c]:a,n||c===a||Xt(a)?c:c+mt(a)}:nr(t))},Io=function(t,e,s,r){return le(_t(t)?!e:s===!0?!!(s=0):!r,function(){return _t(t)?t[~~(Math.random()*t.length)]:(s=s||1e-5)&&(r=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((t-s/2+Math.random()*(e-t+s*.99))/s)*s*r)/r})},hv=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return function(r){return e.reduce(function(n,a){return a(n)},r)}},lv=function(t,e){return function(s){return t(parseFloat(s))+(e||mt(s))}},cv=function(t,e,s){return Fo(t,e,0,1,s)},ko=function(t,e,s){return le(s,function(r){return t[~~e(r)]})},uv=function i(t,e,s){var r=e-t;return _t(t)?ko(t,i(0,t.length),e):le(s,function(n){return(r+(n-t)%r)%r+t})},dv=function i(t,e,s){var r=e-t,n=r*2;return _t(t)?ko(t,i(0,t.length-1),e):le(s,function(a){return a=(n+(a-t)%n)%n||0,t+(a>r?n-a:a)})},ui=function(t){for(var e=0,s="",r,n,a,o;~(r=t.indexOf("random(",e));)a=t.indexOf(")",r),o=t.charAt(r+7)==="[",n=t.substr(r+7,a-r-7).match(o?yo:Qs),s+=t.substr(e,r-e)+Io(o?n:+n[0],o?0:+n[1],+n[2]||1e-5),e=a+1;return s+t.substr(e,t.length-e)},Fo=function(t,e,s,r,n){var a=e-t,o=r-s;return le(n,function(h){return s+((h-t)/a*o||0)})},fv=function i(t,e,s,r){var n=isNaN(t+e)?0:function(p){return(1-p)*t+p*e};if(!n){var a=ct(t),o={},h,l,c,m,d;if(s===!0&&(r=1)&&(s=null),a)t={p:t},e={p:e};else if(_t(t)&&!_t(e)){for(c=[],m=t.length,d=m-2,l=1;l<m;l++)c.push(i(t[l-1],t[l]));m--,n=function(f){f*=m;var u=Math.min(d,~~f);return c[u](f-u)},s=e}else r||(t=we(_t(t)?[]:{},t));if(!c){for(h in e)$r.call(o,t,h,"get",e[h]);n=function(f){return Ir(f,o)||(a?t.p:t)}}}return le(s,n)},oa=function(t,e,s){var r=t.labels,n=zt,a,o,h;for(a in r)o=r[a]-e,o<0==!!s&&o&&n>(o=Math.abs(o))&&(h=a,n=o);return h},Ct=function(t,e,s){var r=t.vars,n=r[e],a=Z,o=t._ctx,h,l,c;if(n)return h=r[e+"Params"],l=r.callbackScope||t,s&&se.length&&ji(),o&&(Z=o),c=h?n.apply(l,h):n.call(l),Z=a,c},ei=function(t){return ne(t),t.scrollTrigger&&t.scrollTrigger.kill(!!gt),t.progress()<1&&Ct(t,"onInterrupt"),t},Oe,No=[],Bo=function(t){if(t)if(t=!t.name&&t.default||t,Mr()||t.headless){var e=t.name,s=et(t),r=e&&!s&&t.init?function(){this._props=[]}:t,n={init:ci,render:Ir,add:$r,kill:Ov,modifier:Cv,rawVars:0},a={targetTest:0,get:0,getSetter:Rr,aliases:{},register:0};if(ke(),t!==r){if(Mt[e])return;Rt(r,Rt(Hi(t,n),a)),we(r.prototype,we(n,Hi(t,a))),Mt[r.prop=e]=r,t.targetTest&&(Ii.push(r),Or[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}xo(e,r),t.register&&t.register(Tt,r,At)}else No.push(t)},Y=255,ii={aqua:[0,Y,Y],lime:[0,Y,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Y],navy:[0,0,128],white:[Y,Y,Y],olive:[128,128,0],yellow:[Y,Y,0],orange:[Y,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Y,0,0],pink:[Y,192,203],cyan:[0,Y,Y],transparent:[Y,Y,Y,0]},Es=function(t,e,s){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(s-e)*t*6:t<.5?s:t*3<2?e+(s-e)*(2/3-t)*6:e)*Y+.5|0},Uo=function(t,e,s){var r=t?Xt(t)?[t>>16,t>>8&Y,t&Y]:0:ii.black,n,a,o,h,l,c,m,d,p,f;if(!r){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),ii[t])r=ii[t];else if(t.charAt(0)==="#"){if(t.length<6&&(n=t.charAt(1),a=t.charAt(2),o=t.charAt(3),t="#"+n+n+a+a+o+o+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return r=parseInt(t.substr(1,6),16),[r>>16,r>>8&Y,r&Y,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),r=[t>>16,t>>8&Y,t&Y]}else if(t.substr(0,3)==="hsl"){if(r=f=t.match(Qs),!e)h=+r[0]%360/360,l=+r[1]/100,c=+r[2]/100,a=c<=.5?c*(l+1):c+l-c*l,n=c*2-a,r.length>3&&(r[3]*=1),r[0]=Es(h+1/3,n,a),r[1]=Es(h,n,a),r[2]=Es(h-1/3,n,a);else if(~t.indexOf("="))return r=t.match(_o),s&&r.length<4&&(r[3]=1),r}else r=t.match(Qs)||ii.transparent;r=r.map(Number)}return e&&!f&&(n=r[0]/Y,a=r[1]/Y,o=r[2]/Y,m=Math.max(n,a,o),d=Math.min(n,a,o),c=(m+d)/2,m===d?h=l=0:(p=m-d,l=c>.5?p/(2-m-d):p/(m+d),h=m===n?(a-o)/p+(a<o?6:0):m===a?(o-n)/p+2:(n-a)/p+4,h*=60),r[0]=~~(h+.5),r[1]=~~(l*100+.5),r[2]=~~(c*100+.5)),s&&r.length<4&&(r[3]=1),r},Vo=function(t){var e=[],s=[],r=-1;return t.split(re).forEach(function(n){var a=n.match(Ce)||[];e.push.apply(e,a),s.push(r+=a.length+1)}),e.c=s,e},ha=function(t,e,s){var r="",n=(t+r).match(re),a=e?"hsla(":"rgba(",o=0,h,l,c,m;if(!n)return t;if(n=n.map(function(d){return(d=Uo(d,e,1))&&a+(e?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),s&&(c=Vo(t),h=s.c,h.join(r)!==c.c.join(r)))for(l=t.replace(re,"1").split(Ce),m=l.length-1;o<m;o++)r+=l[o]+(~h.indexOf(o)?n.shift()||a+"0,0,0,0)":(c.length?c:n.length?n:s).shift());if(!l)for(l=t.split(re),m=l.length-1;o<m;o++)r+=l[o]+n[o];return r+l[m]},re=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in ii)i+="|"+t+"\\b";return new RegExp(i+")","gi")}(),pv=/hsl[a]?\(/,Go=function(t){var e=t.join(" "),s;if(re.lastIndex=0,re.test(e))return s=pv.test(e),t[1]=ha(t[1],s),t[0]=ha(t[0],s,Vo(t[1])),!0},di,St=function(){var i=Date.now,t=500,e=33,s=i(),r=s,n=1e3/240,a=n,o=[],h,l,c,m,d,p,f=function u(g){var _=i()-r,y=g===!0,v,w,b,x;if((_>t||_<0)&&(s+=_-e),r+=_,b=r-s,v=b-a,(v>0||y)&&(x=++m.frame,d=b-m.time*1e3,m.time=b=b/1e3,a+=v+(v>=n?4:n-v),w=1),y||(h=l(u)),w)for(p=0;p<o.length;p++)o[p](b,d,x,g)};return m={time:0,frame:0,tick:function(){f(!0)},deltaRatio:function(g){return d/(1e3/(g||60))},wake:function(){wo&&(!Js&&Mr()&&(Nt=Js=window,Sr=Nt.document||{},Pt.gsap=Tt,(Nt.gsapVersions||(Nt.gsapVersions=[])).push(Tt.version),bo(qi||Nt.GreenSockGlobals||!Nt.gsap&&Nt||{}),No.forEach(Bo)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&m.sleep(),l=c||function(g){return setTimeout(g,a-m.time*1e3+1|0)},di=1,f(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(h),di=0,l=ci},lagSmoothing:function(g,_){t=g||1/0,e=Math.min(_||33,t)},fps:function(g){n=1e3/(g||240),a=m.time*1e3+n},add:function(g,_,y){var v=_?function(w,b,x,E){g(w,b,x,E),m.remove(v)}:g;return m.remove(g),o[y?"unshift":"push"](v),ke(),v},remove:function(g,_){~(_=o.indexOf(g))&&o.splice(_,1)&&p>=_&&p--},_listeners:o},m}(),ke=function(){return!di&&St.wake()},B={},mv=/^[\d.\-M][\d.\-,\s]/,gv=/["']/g,_v=function(t){for(var e={},s=t.substr(1,t.length-3).split(":"),r=s[0],n=1,a=s.length,o,h,l;n<a;n++)h=s[n],o=n!==a-1?h.lastIndexOf(","):h.length,l=h.substr(0,o),e[r]=isNaN(l)?l.replace(gv,"").trim():+l,r=h.substr(o+1).trim();return e},vv=function(t){var e=t.indexOf("(")+1,s=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<s?t.indexOf(")",s+1):s)},yv=function(t){var e=(t+"").split("("),s=B[e[0]];return s&&e.length>1&&s.config?s.config.apply(null,~t.indexOf("{")?[_v(e[1])]:vv(t).split(",").map(Mo)):B._CE&&mv.test(t)?B._CE("",t):s},qo=function(t){return function(e){return 1-t(1-e)}},jo=function i(t,e){for(var s=t._first,r;s;)s instanceof vt?i(s,e):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==e&&(s.timeline?i(s.timeline,e):(r=s._ease,s._ease=s._yEase,s._yEase=r,s._yoyo=e)),s=s._next},ve=function(t,e){return t&&(et(t)?t:B[t]||yv(t))||e},Ae=function(t,e,s,r){s===void 0&&(s=function(h){return 1-e(1-h)}),r===void 0&&(r=function(h){return h<.5?e(h*2)/2:1-e((1-h)*2)/2});var n={easeIn:e,easeOut:s,easeInOut:r},a;return xt(t,function(o){B[o]=Pt[o]=n,B[a=o.toLowerCase()]=s;for(var h in n)B[a+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=B[o+"."+h]=n[h]}),n},Ho=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},Ts=function i(t,e,s){var r=e>=1?e:1,n=(s||(t?.3:.45))/(e<1?e:1),a=n/Zs*(Math.asin(1/r)||0),o=function(c){return c===1?1:r*Math.pow(2,-10*c)*Y1((c-a)*n)+1},h=t==="out"?o:t==="in"?function(l){return 1-o(1-l)}:Ho(o);return n=Zs/n,h.config=function(l,c){return i(t,l,c)},h},Ms=function i(t,e){e===void 0&&(e=1.70158);var s=function(a){return a?--a*a*((e+1)*a+e)+1:0},r=t==="out"?s:t==="in"?function(n){return 1-s(1-n)}:Ho(s);return r.config=function(n){return i(t,n)},r};xt("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,t){var e=t<5?t+1:t;Ae(i+",Power"+(e-1),t?function(s){return Math.pow(s,e)}:function(s){return s},function(s){return 1-Math.pow(1-s,e)},function(s){return s<.5?Math.pow(s*2,e)/2:1-Math.pow((1-s)*2,e)/2})});B.Linear.easeNone=B.none=B.Linear.easeIn;Ae("Elastic",Ts("in"),Ts("out"),Ts());(function(i,t){var e=1/t,s=2*e,r=2.5*e,n=function(o){return o<e?i*o*o:o<s?i*Math.pow(o-1.5/t,2)+.75:o<r?i*(o-=2.25/t)*o+.9375:i*Math.pow(o-2.625/t,2)+.984375};Ae("Bounce",function(a){return 1-n(1-a)},n)})(7.5625,2.75);Ae("Expo",function(i){return i?Math.pow(2,10*(i-1)):0});Ae("Circ",function(i){return-(mo(1-i*i)-1)});Ae("Sine",function(i){return i===1?1:-H1(i*q1)+1});Ae("Back",Ms("in"),Ms("out"),Ms());B.SteppedEase=B.steps=Pt.SteppedEase={config:function(t,e){t===void 0&&(t=1);var s=1/t,r=t+(e?0:1),n=e?1:0,a=1-X;return function(o){return((r*wi(0,a,o)|0)+n)*s}}};De.ease=B["quad.out"];xt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return Pr+=i+","+i+"Params,"});var Yo=function(t,e){this.id=j1++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Eo,this.set=e?e.getSetter:Rr},fi=function(){function i(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ie(this,+e.duration,1,1),this.data=e.data,Z&&(this._ctx=Z,Z.data.push(this)),di||St.wake()}var t=i.prototype;return t.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},t.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},t.totalDuration=function(s){return arguments.length?(this._dirty=0,Ie(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(s,r){if(ke(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(as(this,s),!n._dp||n.parent||Oo(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&Bt(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===X||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),To(this,s,r)),this},t.time=function(s,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+na(this))%(this._dur+this._rDelay)||(s?this._dur:0),r):this._time},t.totalProgress=function(s,r){return arguments.length?this.totalTime(this.totalDuration()*s,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(s,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+na(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(s,r){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*n,r):this._repeat?Re(this._tTime,n)+1:1},t.timeScale=function(s,r){if(!arguments.length)return this._rts===-X?0:this._rts;if(this._rts===s)return this;var n=this.parent&&this._ts?Yi(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-X?0:this._rts,this.totalTime(wi(-Math.abs(this._delay),this._tDur,n),r!==!1),ns(this),tv(this)},t.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ke(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==X&&(this._tTime-=X)))),this):this._ps},t.startTime=function(s){if(arguments.length){this._start=s;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Bt(r,this,s-this._delay),this}return this._start},t.endTime=function(s){return this._start+(bt(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(s){var r=this.parent||this._dp;return r?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Yi(r.rawTime(s),this):this._tTime:this._tTime},t.revert=function(s){s===void 0&&(s=K1);var r=gt;return gt=s,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),gt=r,this},t.globalTime=function(s){for(var r=this,n=arguments.length?s:r.rawTime();r;)n=r._start+n/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(s):n},t.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,aa(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(s){if(arguments.length){var r=this._time;return this._rDelay=s,aa(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},t.seek=function(s,r){return this.totalTime($t(this,s),bt(r))},t.restart=function(s,r){return this.play().totalTime(s?-this._delay:0,bt(r))},t.play=function(s,r){return s!=null&&this.seek(s,r),this.reversed(!1).paused(!1)},t.reverse=function(s,r){return s!=null&&this.seek(s||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(s,r){return s!=null&&this.seek(s,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-X:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-X,this},t.isActive=function(){var s=this.parent||this._dp,r=this._start,n;return!!(!s||this._ts&&this._initted&&s.isActive()&&(n=s.rawTime(!0))>=r&&n<this.endTime(!0)-X)},t.eventCallback=function(s,r,n){var a=this.vars;return arguments.length>1?(r?(a[s]=r,n&&(a[s+"Params"]=n),s==="onUpdate"&&(this._onUpdate=r)):delete a[s],this):a[s]},t.then=function(s){var r=this;return new Promise(function(n){var a=et(s)?s:So,o=function(){var l=r.then;r.then=null,et(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=l),n(a),r.then=l};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},t.kill=function(){ei(this)},i}();Rt(fi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-X,_prom:0,_ps:!1,_rts:1});var vt=function(i){po(t,i);function t(s,r){var n;return s===void 0&&(s={}),n=i.call(this,s)||this,n.labels={},n.smoothChildTiming=!!s.smoothChildTiming,n.autoRemoveChildren=!!s.autoRemoveChildren,n._sort=bt(s.sortChildren),Q&&Bt(s.parent||Q,Ht(n),r),s.reversed&&n.reverse(),s.paused&&n.paused(!0),s.scrollTrigger&&Po(Ht(n),s.scrollTrigger),n}var e=t.prototype;return e.to=function(r,n,a){return ai(0,arguments,this),this},e.from=function(r,n,a){return ai(1,arguments,this),this},e.fromTo=function(r,n,a,o){return ai(2,arguments,this),this},e.set=function(r,n,a){return n.duration=0,n.parent=this,ni(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new nt(r,n,$t(this,a),1),this},e.call=function(r,n,a){return Bt(this,nt.delayedCall(0,r,n),a)},e.staggerTo=function(r,n,a,o,h,l,c){return a.duration=n,a.stagger=a.stagger||o,a.onComplete=l,a.onCompleteParams=c,a.parent=this,new nt(r,a,$t(this,h)),this},e.staggerFrom=function(r,n,a,o,h,l,c){return a.runBackwards=1,ni(a).immediateRender=bt(a.immediateRender),this.staggerTo(r,n,a,o,h,l,c)},e.staggerFromTo=function(r,n,a,o,h,l,c,m){return o.startAt=a,ni(o).immediateRender=bt(o.immediateRender),this.staggerTo(r,n,o,h,l,c,m)},e.render=function(r,n,a){var o=this._time,h=this._dirty?this.totalDuration():this._tDur,l=this._dur,c=r<=0?0:lt(r),m=this._zTime<0!=r<0&&(this._initted||!l),d,p,f,u,g,_,y,v,w,b,x,E;if(this!==Q&&c>h&&r>=0&&(c=h),c!==this._tTime||a||m){if(o!==this._time&&l&&(c+=this._time-o,r+=this._time-o),d=c,w=this._start,v=this._ts,_=!v,m&&(l||(o=this._zTime),(r||!n)&&(this._zTime=r)),this._repeat){if(x=this._yoyo,g=l+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(g*100+r,n,a);if(d=lt(c%g),c===h?(u=this._repeat,d=l):(u=~~(c/g),u&&u===c/g&&(d=l,u--),d>l&&(d=l)),b=Re(this._tTime,g),!o&&this._tTime&&b!==u&&this._tTime-b*g-this._dur<=0&&(b=u),x&&u&1&&(d=l-d,E=1),u!==b&&!this._lock){var T=x&&b&1,A=T===(x&&u&1);if(u<b&&(T=!T),o=T?0:c%l?l:c,this._lock=1,this.render(o||(E?0:lt(u*g)),n,!l)._lock=0,this._tTime=c,!n&&this.parent&&Ct(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),o&&o!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,h=this._tDur,A&&(this._lock=2,o=T?l:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;jo(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=rv(this,lt(o),lt(d)),y&&(c-=d-(d=y._start))),this._tTime=c,this._time=d,this._act=!v,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&d&&!n&&!u&&(Ct(this,"onStart"),this._tTime!==c))return this;if(d>=o&&r>=0)for(p=this._first;p;){if(f=p._next,(p._act||d>=p._start)&&p._ts&&y!==p){if(p.parent!==this)return this.render(r,n,a);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,n,a),d!==this._time||!this._ts&&!_){y=0,f&&(c+=this._zTime=-X);break}}p=f}else{p=this._last;for(var M=r<0?r:d;p;){if(f=p._prev,(p._act||M<=p._end)&&p._ts&&y!==p){if(p.parent!==this)return this.render(r,n,a);if(p.render(p._ts>0?(M-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(M-p._start)*p._ts,n,a||gt&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!_){y=0,f&&(c+=this._zTime=M?-X:X);break}}p=f}}if(y&&!n&&(this.pause(),y.render(d>=o?0:-X)._zTime=d>=o?1:-1,this._ts))return this._start=w,ns(this),this.render(r,n,a);this._onUpdate&&!n&&Ct(this,"onUpdate",!0),(c===h&&this._tTime>=this.totalDuration()||!c&&o)&&(w===this._start||Math.abs(v)!==Math.abs(this._ts))&&(this._lock||((r||!l)&&(c===h&&this._ts>0||!c&&this._ts<0)&&ne(this,1),!n&&!(r<0&&!o)&&(c||o||!h)&&(Ct(this,c===h&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<h&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,n){var a=this;if(Xt(n)||(n=$t(this,n,r)),!(r instanceof fi)){if(_t(r))return r.forEach(function(o){return a.add(o,n)}),this;if(ct(r))return this.addLabel(r,n);if(et(r))r=nt.delayedCall(0,r);else return this}return this!==r?Bt(this,r,n):this},e.getChildren=function(r,n,a,o){r===void 0&&(r=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),o===void 0&&(o=-zt);for(var h=[],l=this._first;l;)l._start>=o&&(l instanceof nt?n&&h.push(l):(a&&h.push(l),r&&h.push.apply(h,l.getChildren(!0,n,a)))),l=l._next;return h},e.getById=function(r){for(var n=this.getChildren(1,1,1),a=n.length;a--;)if(n[a].vars.id===r)return n[a]},e.remove=function(r){return ct(r)?this.removeLabel(r):et(r)?this.killTweensOf(r):(rs(this,r),r===this._recent&&(this._recent=this._last),_e(this))},e.totalTime=function(r,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=lt(St.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,n),this._forcing=0,this):this._tTime},e.addLabel=function(r,n){return this.labels[r]=$t(this,n),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,n,a){var o=nt.delayedCall(0,n||ci,a);return o.data="isPause",this._hasPause=1,Bt(this,o,$t(this,r))},e.removePause=function(r){var n=this._first;for(r=$t(this,r);n;)n._start===r&&n.data==="isPause"&&ne(n),n=n._next},e.killTweensOf=function(r,n,a){for(var o=this.getTweensOf(r,a),h=o.length;h--;)te!==o[h]&&o[h].kill(r,n);return this},e.getTweensOf=function(r,n){for(var a=[],o=Dt(r),h=this._first,l=Xt(n),c;h;)h instanceof nt?Z1(h._targets,o)&&(l?(!te||h._initted&&h._ts)&&h.globalTime(0)<=n&&h.globalTime(h.totalDuration())>n:!n||h.isActive())&&a.push(h):(c=h.getTweensOf(o,n)).length&&a.push.apply(a,c),h=h._next;return a},e.tweenTo=function(r,n){n=n||{};var a=this,o=$t(a,r),h=n,l=h.startAt,c=h.onStart,m=h.onStartParams,d=h.immediateRender,p,f=nt.to(a,Rt({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:n.duration||Math.abs((o-(l&&"time"in l?l.time:a._time))/a.timeScale())||X,onStart:function(){if(a.pause(),!p){var g=n.duration||Math.abs((o-(l&&"time"in l?l.time:a._time))/a.timeScale());f._dur!==g&&Ie(f,g,0,1).render(f._time,!0,!0),p=1}c&&c.apply(f,m||[])}},n));return d?f.render(0):f},e.tweenFromTo=function(r,n,a){return this.tweenTo(n,Rt({startAt:{time:$t(this,r)}},a))},e.recent=function(){return this._recent},e.nextLabel=function(r){return r===void 0&&(r=this._time),oa(this,$t(this,r))},e.previousLabel=function(r){return r===void 0&&(r=this._time),oa(this,$t(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+X)},e.shiftChildren=function(r,n,a){a===void 0&&(a=0);for(var o=this._first,h=this.labels,l;o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(n)for(l in h)h[l]>=a&&(h[l]+=r);return _e(this)},e.invalidate=function(r){var n=this._first;for(this._lock=0;n;)n.invalidate(r),n=n._next;return i.prototype.invalidate.call(this,r)},e.clear=function(r){r===void 0&&(r=!0);for(var n=this._first,a;n;)a=n._next,this.remove(n),n=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),_e(this)},e.totalDuration=function(r){var n=0,a=this,o=a._last,h=zt,l,c,m;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(m=a.parent;o;)l=o._prev,o._dirty&&o.totalDuration(),c=o._start,c>h&&a._sort&&o._ts&&!a._lock?(a._lock=1,Bt(a,o,c-o._delay,1)._lock=0):h=c,c<0&&o._ts&&(n-=c,(!m&&!a._dp||m&&m.smoothChildTiming)&&(a._start+=c/a._ts,a._time-=c,a._tTime-=c),a.shiftChildren(-c,!1,-1/0),h=0),o._end>n&&o._ts&&(n=o._end),o=l;Ie(a,a===Q&&a._time>n?a._time:n,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(r){if(Q._ts&&(To(Q,Yi(r,Q)),Ao=St.frame),St.frame>=sa){sa+=Ot.autoSleep||120;var n=Q._first;if((!n||!n._ts)&&Ot.autoSleep&&St._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||St.sleep()}}},t}(fi);Rt(vt.prototype,{_lock:0,_hasPause:0,_forcing:0});var wv=function(t,e,s,r,n,a,o){var h=new At(this._pt,t,e,0,1,Jo,null,n),l=0,c=0,m,d,p,f,u,g,_,y;for(h.b=s,h.e=r,s+="",r+="",(_=~r.indexOf("random("))&&(r=ui(r)),a&&(y=[s,r],a(y,t,e),s=y[0],r=y[1]),d=s.match(xs)||[];m=xs.exec(r);)f=m[0],u=r.substring(l,m.index),p?p=(p+1)%5:u.substr(-5)==="rgba("&&(p=1),f!==d[c++]&&(g=parseFloat(d[c-1])||0,h._pt={_next:h._pt,p:u||c===1?u:",",s:g,c:f.charAt(1)==="="?Pe(g,f)-g:parseFloat(f)-g,m:p&&p<4?Math.round:0},l=xs.lastIndex);return h.c=l<r.length?r.substring(l,r.length):"",h.fp=o,(vo.test(r)||_)&&(h.e=0),this._pt=h,h},$r=function(t,e,s,r,n,a,o,h,l,c){et(r)&&(r=r(n||0,t,a));var m=t[e],d=s!=="get"?s:et(m)?l?t[e.indexOf("set")||!et(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():m,p=et(m)?l?Tv:Zo:Dr,f;if(ct(r)&&(~r.indexOf("random(")&&(r=ui(r)),r.charAt(1)==="="&&(f=Pe(d,r)+(mt(d)||0),(f||f===0)&&(r=f))),!c||d!==r||ar)return!isNaN(d*r)&&r!==""?(f=new At(this._pt,t,e,+d||0,r-(d||0),typeof m=="boolean"?Sv:Qo,0,p),l&&(f.fp=l),o&&f.modifier(o,this,t),this._pt=f):(!m&&!(e in t)&&Cr(e,r),wv.call(this,t,e,d,r,p,h||Ot.stringFilter,l))},bv=function(t,e,s,r,n){if(et(t)&&(t=oi(t,n,e,s,r)),!qt(t)||t.style&&t.nodeType||_t(t)||go(t))return ct(t)?oi(t,n,e,s,r):t;var a={},o;for(o in t)a[o]=oi(t[o],n,e,s,r);return a},Wo=function(t,e,s,r,n,a){var o,h,l,c;if(Mt[t]&&(o=new Mt[t]).init(n,o.rawVars?e[t]:bv(e[t],r,n,a,s),s,r,a)!==!1&&(s._pt=h=new At(s._pt,n,t,0,1,o.render,o,0,o.priority),s!==Oe))for(l=s._ptLookup[s._targets.indexOf(n)],c=o._props.length;c--;)l[o._props[c]]=h;return o},te,ar,zr=function i(t,e,s){var r=t.vars,n=r.ease,a=r.startAt,o=r.immediateRender,h=r.lazy,l=r.onUpdate,c=r.runBackwards,m=r.yoyoEase,d=r.keyframes,p=r.autoRevert,f=t._dur,u=t._startAt,g=t._targets,_=t.parent,y=_&&_.data==="nested"?_.vars.targets:g,v=t._overwrite==="auto"&&!Er,w=t.timeline,b,x,E,T,A,M,P,S,O,C,$,z,R;if(w&&(!d||!n)&&(n="none"),t._ease=ve(n,De.ease),t._yEase=m?qo(ve(m===!0?n:m,De.ease)):0,m&&t._yoyo&&!t._repeat&&(m=t._yEase,t._yEase=t._ease,t._ease=m),t._from=!w&&!!r.runBackwards,!w||d&&!r.stagger){if(S=g[0]?ge(g[0]).harness:0,z=S&&r[S.prop],b=Hi(r,Or),u&&(u._zTime<0&&u.progress(1),e<0&&c&&o&&!p?u.render(-1,!0):u.revert(c&&f?Ri:X1),u._lazy=0),a){if(ne(t._startAt=nt.set(g,Rt({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!u&&bt(h),startAt:null,delay:0,onUpdate:l&&function(){return Ct(t,"onUpdate")},stagger:0},a))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(gt||!o&&!p)&&t._startAt.revert(Ri),o&&f&&e<=0&&s<=0){e&&(t._zTime=e);return}}else if(c&&f&&!u){if(e&&(o=!1),E=Rt({overwrite:!1,data:"isFromStart",lazy:o&&!u&&bt(h),immediateRender:o,stagger:0,parent:_},b),z&&(E[S.prop]=z),ne(t._startAt=nt.set(g,E)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(gt?t._startAt.revert(Ri):t._startAt.render(-1,!0)),t._zTime=e,!o)i(t._startAt,X,X);else if(!e)return}for(t._pt=t._ptCache=0,h=f&&bt(h)||h&&!f,x=0;x<g.length;x++){if(A=g[x],P=A._gsap||Lr(g)[x]._gsap,t._ptLookup[x]=C={},tr[P.id]&&se.length&&ji(),$=y===g?x:y.indexOf(A),S&&(O=new S).init(A,z||b,t,$,y)!==!1&&(t._pt=T=new At(t._pt,A,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function(U){C[U]=T}),O.priority&&(M=1)),!S||z)for(E in b)Mt[E]&&(O=Wo(E,b,t,$,A,y))?O.priority&&(M=1):C[E]=T=$r.call(t,A,E,"get",b[E],$,y,0,r.stringFilter);t._op&&t._op[x]&&t.kill(A,t._op[x]),v&&t._pt&&(te=t,Q.killTweensOf(A,C,t.globalTime(e)),R=!t.parent,te=0),t._pt&&h&&(tr[P.id]=1)}M&&th(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!R,d&&e<=0&&w.render(zt,!0,!0)},xv=function(t,e,s,r,n,a,o,h){var l=(t._pt&&t._ptCache||(t._ptCache={}))[e],c,m,d,p;if(!l)for(l=t._ptCache[e]=[],d=t._ptLookup,p=t._targets.length;p--;){if(c=d[p][e],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return ar=1,t.vars[e]="+=0",zr(t,o),ar=0,h?li(e+" not eligible for reset"):1;l.push(c)}for(p=l.length;p--;)m=l[p],c=m._pt||m,c.s=(r||r===0)&&!n?r:c.s+(r||0)+a*c.c,c.c=s-c.s,m.e&&(m.e=it(s)+mt(m.e)),m.b&&(m.b=c.s+mt(m.b))},Av=function(t,e){var s=t[0]?ge(t[0]).harness:0,r=s&&s.aliases,n,a,o,h;if(!r)return e;n=we({},e);for(a in r)if(a in n)for(h=r[a].split(","),o=h.length;o--;)n[h[o]]=n[a];return n},Ev=function(t,e,s,r){var n=e.ease||r||"power1.inOut",a,o;if(_t(e))o=s[t]||(s[t]=[]),e.forEach(function(h,l){return o.push({t:l/(e.length-1)*100,v:h,e:n})});else for(a in e)o=s[a]||(s[a]=[]),a==="ease"||o.push({t:parseFloat(t),v:e[a],e:n})},oi=function(t,e,s,r,n){return et(t)?t.call(e,s,r,n):ct(t)&&~t.indexOf("random(")?ui(t):t},Xo=Pr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Ko={};xt(Xo+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return Ko[i]=1});var nt=function(i){po(t,i);function t(s,r,n,a){var o;typeof r=="number"&&(n.duration=r,r=n,n=null),o=i.call(this,a?r:ni(r))||this;var h=o.vars,l=h.duration,c=h.delay,m=h.immediateRender,d=h.stagger,p=h.overwrite,f=h.keyframes,u=h.defaults,g=h.scrollTrigger,_=h.yoyoEase,y=r.parent||Q,v=(_t(s)||go(s)?Xt(s[0]):"length"in r)?[s]:Dt(s),w,b,x,E,T,A,M,P;if(o._targets=v.length?Lr(v):li("GSAP target "+s+" not found. https://gsap.com",!Ot.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=p,f||d||Ci(l)||Ci(c)){if(r=o.vars,w=o.timeline=new vt({data:"nested",defaults:u||{},targets:y&&y.data==="nested"?y.vars.targets:v}),w.kill(),w.parent=w._dp=Ht(o),w._start=0,d||Ci(l)||Ci(c)){if(E=v.length,M=d&&Do(d),qt(d))for(T in d)~Xo.indexOf(T)&&(P||(P={}),P[T]=d[T]);for(b=0;b<E;b++)x=Hi(r,Ko),x.stagger=0,_&&(x.yoyoEase=_),P&&we(x,P),A=v[b],x.duration=+oi(l,Ht(o),b,A,v),x.delay=(+oi(c,Ht(o),b,A,v)||0)-o._delay,!d&&E===1&&x.delay&&(o._delay=c=x.delay,o._start+=c,x.delay=0),w.to(A,x,M?M(b,A,v):0),w._ease=B.none;w.duration()?l=c=0:o.timeline=0}else if(f){ni(Rt(w.vars.defaults,{ease:"none"})),w._ease=ve(f.ease||r.ease||"none");var S=0,O,C,$;if(_t(f))f.forEach(function(z){return w.to(v,z,">")}),w.duration();else{x={};for(T in f)T==="ease"||T==="easeEach"||Ev(T,f[T],x,f.easeEach);for(T in x)for(O=x[T].sort(function(z,R){return z.t-R.t}),S=0,b=0;b<O.length;b++)C=O[b],$={ease:C.e,duration:(C.t-(b?O[b-1].t:0))/100*l},$[T]=C.v,w.to(v,$,S),S+=$.duration;w.duration()<l&&w.to({},{duration:l-w.duration()})}}l||o.duration(l=w.duration())}else o.timeline=0;return p===!0&&!Er&&(te=Ht(o),Q.killTweensOf(v),te=0),Bt(y,Ht(o),n),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(m||!l&&!f&&o._start===lt(y._time)&&bt(m)&&ev(Ht(o))&&y.data!=="nested")&&(o._tTime=-X,o.render(Math.max(0,-c)||0)),g&&Po(Ht(o),g),o}var e=t.prototype;return e.render=function(r,n,a){var o=this._time,h=this._tDur,l=this._dur,c=r<0,m=r>h-X&&!c?h:r<X?0:r,d,p,f,u,g,_,y,v,w;if(!l)sv(this,r,n,a);else if(m!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(d=m,v=this.timeline,this._repeat){if(u=l+this._rDelay,this._repeat<-1&&c)return this.totalTime(u*100+r,n,a);if(d=lt(m%u),m===h?(f=this._repeat,d=l):(f=~~(m/u),f&&f===lt(m/u)&&(d=l,f--),d>l&&(d=l)),_=this._yoyo&&f&1,_&&(w=this._yEase,d=l-d),g=Re(this._tTime,u),d===o&&!a&&this._initted&&f===g)return this._tTime=m,this;f!==g&&(v&&this._yEase&&jo(v,_),this.vars.repeatRefresh&&!_&&!this._lock&&this._time!==u&&this._initted&&(this._lock=a=1,this.render(lt(u*f),!0).invalidate()._lock=0))}if(!this._initted){if(Lo(this,c?r:d,a,n,m))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&f!==g))return this;if(l!==this._dur)return this.render(r,n,a)}if(this._tTime=m,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(w||this._ease)(d/l),this._from&&(this.ratio=y=1-y),d&&!o&&!n&&!f&&(Ct(this,"onStart"),this._tTime!==m))return this;for(p=this._pt;p;)p.r(y,p.d),p=p._next;v&&v.render(r<0?r:v._dur*v._ease(d/this._dur),n,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!n&&(c&&er(this,r,n,a),Ct(this,"onUpdate")),this._repeat&&f!==g&&this.vars.onRepeat&&!n&&this.parent&&Ct(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(c&&!this._onUpdate&&er(this,r,!0,!0),(r||!l)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&ne(this,1),!n&&!(c&&!o)&&(m||o||_)&&(Ct(this,m===h?"onComplete":"onReverseComplete",!0),this._prom&&!(m<h&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},e.resetTo=function(r,n,a,o,h){di||St.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||zr(this,l),c=this._ease(l/this._dur),xv(this,r,n,a,o,c,l,h)?this.resetTo(r,n,a,o,1):(as(this,0),this.parent||Co(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(r,n){if(n===void 0&&(n="all"),!r&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?ei(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,n,te&&te.vars.overwrite!==!0)._first||ei(this),this.parent&&a!==this.timeline.totalDuration()&&Ie(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,h=r?Dt(r):o,l=this._ptLookup,c=this._pt,m,d,p,f,u,g,_;if((!n||n==="all")&&J1(o,h))return n==="all"&&(this._pt=0),ei(this);for(m=this._op=this._op||[],n!=="all"&&(ct(n)&&(u={},xt(n,function(y){return u[y]=1}),n=u),n=Av(o,n)),_=o.length;_--;)if(~h.indexOf(o[_])){d=l[_],n==="all"?(m[_]=n,f=d,p={}):(p=m[_]=m[_]||{},f=n);for(u in f)g=d&&d[u],g&&((!("kill"in g.d)||g.d.kill(u)===!0)&&rs(this,g,"_pt"),delete d[u]),p!=="all"&&(p[u]=1)}return this._initted&&!this._pt&&c&&ei(this),this},t.to=function(r,n){return new t(r,n,arguments[2])},t.from=function(r,n){return ai(1,arguments)},t.delayedCall=function(r,n,a,o){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:n,onReverseComplete:n,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},t.fromTo=function(r,n,a){return ai(2,arguments)},t.set=function(r,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(r,n)},t.killTweensOf=function(r,n,a){return Q.killTweensOf(r,n,a)},t}(fi);Rt(nt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});xt("staggerTo,staggerFrom,staggerFromTo",function(i){nt[i]=function(){var t=new vt,e=sr.call(arguments,0);return e.splice(i==="staggerFromTo"?5:4,0,0),t[i].apply(t,e)}});var Dr=function(t,e,s){return t[e]=s},Zo=function(t,e,s){return t[e](s)},Tv=function(t,e,s,r){return t[e](r.fp,s)},Mv=function(t,e,s){return t.setAttribute(e,s)},Rr=function(t,e){return et(t[e])?Zo:Tr(t[e])&&t.setAttribute?Mv:Dr},Qo=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},Sv=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Jo=function(t,e){var s=e._pt,r="";if(!t&&e.b)r=e.b;else if(t===1&&e.e)r=e.e;else{for(;s;)r=s.p+(s.m?s.m(s.s+s.c*t):Math.round((s.s+s.c*t)*1e4)/1e4)+r,s=s._next;r+=e.c}e.set(e.t,e.p,r,e)},Ir=function(t,e){for(var s=e._pt;s;)s.r(t,s.d),s=s._next},Cv=function(t,e,s,r){for(var n=this._pt,a;n;)a=n._next,n.p===r&&n.modifier(t,e,s),n=a},Ov=function(t){for(var e=this._pt,s,r;e;)r=e._next,e.p===t&&!e.op||e.op===t?rs(this,e,"_pt"):e.dep||(s=1),e=r;return!s},Pv=function(t,e,s,r){r.mSet(t,e,r.m.call(r.tween,s,r.mt),r)},th=function(t){for(var e=t._pt,s,r,n,a;e;){for(s=e._next,r=n;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:a)?e._prev._next=e:n=e,(e._next=r)?r._prev=e:a=e,e=s}t._pt=n},At=function(){function i(e,s,r,n,a,o,h,l,c){this.t=s,this.s=n,this.c=a,this.p=r,this.r=o||Qo,this.d=h||this,this.set=l||Dr,this.pr=c||0,this._next=e,e&&(e._prev=this)}var t=i.prototype;return t.modifier=function(s,r,n){this.mSet=this.mSet||this.set,this.set=Pv,this.m=s,this.mt=n,this.tween=r},i}();xt(Pr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return Or[i]=1});Pt.TweenMax=Pt.TweenLite=nt;Pt.TimelineLite=Pt.TimelineMax=vt;Q=new vt({sortChildren:!1,defaults:De,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ot.stringFilter=Go;var ye=[],ki={},Lv=[],la=0,$v=0,Ss=function(t){return(ki[t]||Lv).map(function(e){return e()})},or=function(){var t=Date.now(),e=[];t-la>2&&(Ss("matchMediaInit"),ye.forEach(function(s){var r=s.queries,n=s.conditions,a,o,h,l;for(o in r)a=Nt.matchMedia(r[o]).matches,a&&(h=1),a!==n[o]&&(n[o]=a,l=1);l&&(s.revert(),h&&e.push(s))}),Ss("matchMediaRevert"),e.forEach(function(s){return s.onMatch(s,function(r){return s.add(null,r)})}),la=t,Ss("matchMedia"))},eh=function(){function i(e,s){this.selector=s&&rr(s),this.data=[],this._r=[],this.isReverted=!1,this.id=$v++,e&&this.add(e)}var t=i.prototype;return t.add=function(s,r,n){et(s)&&(n=r,r=s,s=et);var a=this,o=function(){var l=Z,c=a.selector,m;return l&&l!==a&&l.data.push(a),n&&(a.selector=rr(n)),Z=a,m=r.apply(a,arguments),et(m)&&a._r.push(m),Z=l,a.selector=c,a.isReverted=!1,m};return a.last=o,s===et?o(a,function(h){return a.add(null,h)}):s?a[s]=o:o},t.ignore=function(s){var r=Z;Z=null,s(this),Z=r},t.getTweens=function(){var s=[];return this.data.forEach(function(r){return r instanceof i?s.push.apply(s,r.getTweens()):r instanceof nt&&!(r.parent&&r.parent.data==="nested")&&s.push(r)}),s},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(s,r){var n=this;if(s?function(){for(var o=n.getTweens(),h=n.data.length,l;h--;)l=n.data[h],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}));for(o.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,m){return m.g-c.g||-1/0}).forEach(function(c){return c.t.revert(s)}),h=n.data.length;h--;)l=n.data[h],l instanceof vt?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof nt)&&l.revert&&l.revert(s);n._r.forEach(function(c){return c(s,n)}),n.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var a=ye.length;a--;)ye[a].id===this.id&&ye.splice(a,1)},t.revert=function(s){this.kill(s||{})},i}(),zv=function(){function i(e){this.contexts=[],this.scope=e,Z&&Z.data.push(this)}var t=i.prototype;return t.add=function(s,r,n){qt(s)||(s={matches:s});var a=new eh(0,n||this.scope),o=a.conditions={},h,l,c;Z&&!a.selector&&(a.selector=Z.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=s;for(l in s)l==="all"?c=1:(h=Nt.matchMedia(s[l]),h&&(ye.indexOf(a)<0&&ye.push(a),(o[l]=h.matches)&&(c=1),h.addListener?h.addListener(or):h.addEventListener("change",or)));return c&&r(a,function(m){return a.add(null,m)}),this},t.revert=function(s){this.kill(s||{})},t.kill=function(s){this.contexts.forEach(function(r){return r.kill(s,!0)})},i}(),Wi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];e.forEach(function(r){return Bo(r)})},timeline:function(t){return new vt(t)},getTweensOf:function(t,e){return Q.getTweensOf(t,e)},getProperty:function(t,e,s,r){ct(t)&&(t=Dt(t)[0]);var n=ge(t||{}).get,a=s?So:Mo;return s==="native"&&(s=""),t&&(e?a((Mt[e]&&Mt[e].get||n)(t,e,s,r)):function(o,h,l){return a((Mt[o]&&Mt[o].get||n)(t,o,h,l))})},quickSetter:function(t,e,s){if(t=Dt(t),t.length>1){var r=t.map(function(c){return Tt.quickSetter(c,e,s)}),n=r.length;return function(c){for(var m=n;m--;)r[m](c)}}t=t[0]||{};var a=Mt[e],o=ge(t),h=o.harness&&(o.harness.aliases||{})[e]||e,l=a?function(c){var m=new a;Oe._pt=0,m.init(t,s?c+s:c,Oe,0,[t]),m.render(1,m),Oe._pt&&Ir(1,Oe)}:o.set(t,h);return a?l:function(c){return l(t,h,s?c+s:c,o,1)}},quickTo:function(t,e,s){var r,n=Tt.to(t,we((r={},r[e]="+=0.1",r.paused=!0,r),s||{})),a=function(h,l,c){return n.resetTo(e,h,l,c)};return a.tween=n,a},isTweening:function(t){return Q.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=ve(t.ease,De.ease)),ra(De,t||{})},config:function(t){return ra(Ot,t||{})},registerEffect:function(t){var e=t.name,s=t.effect,r=t.plugins,n=t.defaults,a=t.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Mt[o]&&!Pt[o]&&li(e+" effect requires "+o+" plugin.")}),As[e]=function(o,h,l){return s(Dt(o),Rt(h||{},n),l)},a&&(vt.prototype[e]=function(o,h,l){return this.add(As[e](o,qt(h)?h:(l=h)&&{},this),l)})},registerEase:function(t,e){B[t]=ve(e)},parseEase:function(t,e){return arguments.length?ve(t,e):B},getById:function(t){return Q.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var s=new vt(t),r,n;for(s.smoothChildTiming=bt(t.smoothChildTiming),Q.remove(s),s._dp=0,s._time=s._tTime=Q._time,r=Q._first;r;)n=r._next,(e||!(!r._dur&&r instanceof nt&&r.vars.onComplete===r._targets[0]))&&Bt(s,r,r._start-r._delay),r=n;return Bt(Q,s,0),s},context:function(t,e){return t?new eh(t,e):Z},matchMedia:function(t){return new zv(t)},matchMediaRefresh:function(){return ye.forEach(function(t){var e=t.conditions,s,r;for(r in e)e[r]&&(e[r]=!1,s=1);s&&t.revert()})||or()},addEventListener:function(t,e){var s=ki[t]||(ki[t]=[]);~s.indexOf(e)||s.push(e)},removeEventListener:function(t,e){var s=ki[t],r=s&&s.indexOf(e);r>=0&&s.splice(r,1)},utils:{wrap:uv,wrapYoyo:dv,distribute:Do,random:Io,snap:Ro,normalize:cv,getUnit:mt,clamp:av,splitColor:Uo,toArray:Dt,selector:rr,mapRange:Fo,pipe:hv,unitize:lv,interpolate:fv,shuffle:zo},install:bo,effects:As,ticker:St,updateRoot:vt.updateRoot,plugins:Mt,globalTimeline:Q,core:{PropTween:At,globals:xo,Tween:nt,Timeline:vt,Animation:fi,getCache:ge,_removeLinkedListItem:rs,reverting:function(){return gt},context:function(t){return t&&Z&&(Z.data.push(t),t._ctx=Z),Z},suppressOverwrites:function(t){return Er=t}}};xt("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return Wi[i]=nt[i]});St.add(vt.updateRoot);Oe=Wi.to({},{duration:0});var Dv=function(t,e){for(var s=t._pt;s&&s.p!==e&&s.op!==e&&s.fp!==e;)s=s._next;return s},Rv=function(t,e){var s=t._targets,r,n,a;for(r in e)for(n=s.length;n--;)a=t._ptLookup[n][r],a&&(a=a.d)&&(a._pt&&(a=Dv(a,r)),a&&a.modifier&&a.modifier(e[r],t,s[n],r))},Cs=function(t,e){return{name:t,rawVars:1,init:function(r,n,a){a._onInit=function(o){var h,l;if(ct(n)&&(h={},xt(n,function(c){return h[c]=1}),n=h),e){h={};for(l in n)h[l]=e(n[l]);n=h}Rv(o,n)}}}},Tt=Wi.registerPlugin({name:"attr",init:function(t,e,s,r,n){var a,o,h;this.tween=s;for(a in e)h=t.getAttribute(a)||"",o=this.add(t,"setAttribute",(h||0)+"",e[a],r,n,0,0,a),o.op=a,o.b=h,this._props.push(a)},render:function(t,e){for(var s=e._pt;s;)gt?s.set(s.t,s.p,s.b,s):s.r(t,s.d),s=s._next}},{name:"endArray",init:function(t,e){for(var s=e.length;s--;)this.add(t,s,t[s]||0,e[s],0,0,0,0,0,1)}},Cs("roundProps",nr),Cs("modifiers"),Cs("snap",Ro))||Wi;nt.version=vt.version=Tt.version="3.12.5";wo=1;Mr()&&ke();B.Power0;B.Power1;B.Power2;B.Power3;B.Power4;B.Linear;B.Quad;B.Cubic;B.Quart;B.Quint;B.Strong;B.Elastic;B.Back;B.SteppedEase;B.Bounce;B.Sine;B.Expo;B.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ca,ee,Le,kr,me,ua,Fr,Iv=function(){return typeof window<"u"},Kt={},fe=180/Math.PI,$e=Math.PI/180,Me=Math.atan2,da=1e8,Nr=/([A-Z])/g,kv=/(left|right|width|margin|padding|x)/i,Fv=/[\s,\(]\S/,Ut={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},hr=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Nv=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Bv=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},Uv=function(t,e){var s=e.s+e.c*t;e.set(e.t,e.p,~~(s+(s<0?-.5:.5))+e.u,e)},ih=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},sh=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},Vv=function(t,e,s){return t.style[e]=s},Gv=function(t,e,s){return t.style.setProperty(e,s)},qv=function(t,e,s){return t._gsap[e]=s},jv=function(t,e,s){return t._gsap.scaleX=t._gsap.scaleY=s},Hv=function(t,e,s,r,n){var a=t._gsap;a.scaleX=a.scaleY=s,a.renderTransform(n,a)},Yv=function(t,e,s,r,n){var a=t._gsap;a[e]=s,a.renderTransform(n,a)},J="transform",Et=J+"Origin",Wv=function i(t,e){var s=this,r=this.target,n=r.style,a=r._gsap;if(t in Kt&&n){if(this.tfm=this.tfm||{},t!=="transform")t=Ut[t]||t,~t.indexOf(",")?t.split(",").forEach(function(o){return s.tfm[o]=Yt(r,o)}):this.tfm[t]=a.x?a[t]:Yt(r,t),t===Et&&(this.tfm.zOrigin=a.zOrigin);else return Ut.transform.split(",").forEach(function(o){return i.call(s,o,e)});if(this.props.indexOf(J)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Et,e,"")),t=J}(n||e)&&this.props.push(t,e,n[t])},rh=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},Xv=function(){var t=this.props,e=this.target,s=e.style,r=e._gsap,n,a;for(n=0;n<t.length;n+=3)t[n+1]?e[t[n]]=t[n+2]:t[n+2]?s[t[n]]=t[n+2]:s.removeProperty(t[n].substr(0,2)==="--"?t[n]:t[n].replace(Nr,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),n=Fr(),(!n||!n.isStart)&&!s[J]&&(rh(s),r.zOrigin&&s[Et]&&(s[Et]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},nh=function(t,e){var s={target:t,props:[],revert:Xv,save:Wv};return t._gsap||Tt.core.getCache(t),e&&e.split(",").forEach(function(r){return s.save(r)}),s},ah,lr=function(t,e){var s=ee.createElementNS?ee.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ee.createElement(t);return s&&s.style?s:ee.createElement(t)},Vt=function i(t,e,s){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(Nr,"-$1").toLowerCase())||r.getPropertyValue(e)||!s&&i(t,Fe(e)||e,1)||""},fa="O,Moz,ms,Ms,Webkit".split(","),Fe=function(t,e,s){var r=e||me,n=r.style,a=5;if(t in n&&!s)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);a--&&!(fa[a]+t in n););return a<0?null:(a===3?"ms":a>=0?fa[a]:"")+t},cr=function(){Iv()&&window.document&&(ca=window,ee=ca.document,Le=ee.documentElement,me=lr("div")||{style:{}},lr("div"),J=Fe(J),Et=J+"Origin",me.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ah=!!Fe("perspective"),Fr=Tt.core.reverting,kr=1)},Os=function i(t){var e=lr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,r=this.nextSibling,n=this.style.cssText,a;if(Le.appendChild(e),e.appendChild(this),this.style.display="block",t)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=i}catch{}else this._gsapBBox&&(a=this._gsapBBox());return s&&(r?s.insertBefore(this,r):s.appendChild(this)),Le.removeChild(e),this.style.cssText=n,a},pa=function(t,e){for(var s=e.length;s--;)if(t.hasAttribute(e[s]))return t.getAttribute(e[s])},oh=function(t){var e;try{e=t.getBBox()}catch{e=Os.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Os||(e=Os.call(t,!0)),e&&!e.width&&!e.x&&!e.y?{x:+pa(t,["x","cx","x1"])||0,y:+pa(t,["y","cy","y1"])||0,width:0,height:0}:e},hh=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&oh(t))},be=function(t,e){if(e){var s=t.style,r;e in Kt&&e!==Et&&(e=J),s.removeProperty?(r=e.substr(0,2),(r==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),s.removeProperty(r==="--"?e:e.replace(Nr,"-$1").toLowerCase())):s.removeAttribute(e)}},ie=function(t,e,s,r,n,a){var o=new At(t._pt,e,s,0,1,a?sh:ih);return t._pt=o,o.b=r,o.e=n,t._props.push(s),o},ma={deg:1,rad:1,turn:1},Kv={grid:1,flex:1},ae=function i(t,e,s,r){var n=parseFloat(s)||0,a=(s+"").trim().substr((n+"").length)||"px",o=me.style,h=kv.test(e),l=t.tagName.toLowerCase()==="svg",c=(l?"client":"offset")+(h?"Width":"Height"),m=100,d=r==="px",p=r==="%",f,u,g,_;if(r===a||!n||ma[r]||ma[a])return n;if(a!=="px"&&!d&&(n=i(t,e,s,"px")),_=t.getCTM&&hh(t),(p||a==="%")&&(Kt[e]||~e.indexOf("adius")))return f=_?t.getBBox()[h?"width":"height"]:t[c],it(p?n/f*m:n/100*f);if(o[h?"width":"height"]=m+(d?a:r),u=~e.indexOf("adius")||r==="em"&&t.appendChild&&!l?t:t.parentNode,_&&(u=(t.ownerSVGElement||{}).parentNode),(!u||u===ee||!u.appendChild)&&(u=ee.body),g=u._gsap,g&&p&&g.width&&h&&g.time===St.time&&!g.uncache)return it(n/g.width*m);if(p&&(e==="height"||e==="width")){var y=t.style[e];t.style[e]=m+r,f=t[c],y?t.style[e]=y:be(t,e)}else(p||a==="%")&&!Kv[Vt(u,"display")]&&(o.position=Vt(t,"position")),u===t&&(o.position="static"),u.appendChild(me),f=me[c],u.removeChild(me),o.position="absolute";return h&&p&&(g=ge(u),g.time=St.time,g.width=u[c]),it(d?f*n/m:f&&n?m/f*n:0)},Yt=function(t,e,s,r){var n;return kr||cr(),e in Ut&&e!=="transform"&&(e=Ut[e],~e.indexOf(",")&&(e=e.split(",")[0])),Kt[e]&&e!=="transform"?(n=mi(t,r),n=e!=="transformOrigin"?n[e]:n.svg?n.origin:Ki(Vt(t,Et))+" "+n.zOrigin+"px"):(n=t.style[e],(!n||n==="auto"||r||~(n+"").indexOf("calc("))&&(n=Xi[e]&&Xi[e](t,e,s)||Vt(t,e)||Eo(t,e)||(e==="opacity"?1:0))),s&&!~(n+"").trim().indexOf(" ")?ae(t,e,n,s)+s:n},Zv=function(t,e,s,r){if(!s||s==="none"){var n=Fe(e,t,1),a=n&&Vt(t,n,1);a&&a!==s?(e=n,s=a):e==="borderColor"&&(s=Vt(t,"borderTopColor"))}var o=new At(this._pt,t.style,e,0,1,Jo),h=0,l=0,c,m,d,p,f,u,g,_,y,v,w,b;if(o.b=s,o.e=r,s+="",r+="",r==="auto"&&(u=t.style[e],t.style[e]=r,r=Vt(t,e)||r,u?t.style[e]=u:be(t,e)),c=[s,r],Go(c),s=c[0],r=c[1],d=s.match(Ce)||[],b=r.match(Ce)||[],b.length){for(;m=Ce.exec(r);)g=m[0],y=r.substring(h,m.index),f?f=(f+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(f=1),g!==(u=d[l++]||"")&&(p=parseFloat(u)||0,w=u.substr((p+"").length),g.charAt(1)==="="&&(g=Pe(p,g)+w),_=parseFloat(g),v=g.substr((_+"").length),h=Ce.lastIndex-v.length,v||(v=v||Ot.units[e]||w,h===r.length&&(r+=v,o.e+=v)),w!==v&&(p=ae(t,e,u,v)||0),o._pt={_next:o._pt,p:y||l===1?y:",",s:p,c:_-p,m:f&&f<4||e==="zIndex"?Math.round:0});o.c=h<r.length?r.substring(h,r.length):""}else o.r=e==="display"&&r==="none"?sh:ih;return vo.test(r)&&(o.e=0),this._pt=o,o},ga={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Qv=function(t){var e=t.split(" "),s=e[0],r=e[1]||"50%";return(s==="top"||s==="bottom"||r==="left"||r==="right")&&(t=s,s=r,r=t),e[0]=ga[s]||s,e[1]=ga[r]||r,e.join(" ")},Jv=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var s=e.t,r=s.style,n=e.u,a=s._gsap,o,h,l;if(n==="all"||n===!0)r.cssText="",h=1;else for(n=n.split(","),l=n.length;--l>-1;)o=n[l],Kt[o]&&(h=1,o=o==="transformOrigin"?Et:J),be(s,o);h&&(be(s,J),a&&(a.svg&&s.removeAttribute("transform"),mi(s,1),a.uncache=1,rh(r)))}},Xi={clearProps:function(t,e,s,r,n){if(n.data!=="isFromStart"){var a=t._pt=new At(t._pt,e,s,0,0,Jv);return a.u=r,a.pr=-10,a.tween=n,t._props.push(s),1}}},pi=[1,0,0,1,0,0],lh={},ch=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},_a=function(t){var e=Vt(t,J);return ch(e)?pi:e.substr(7).match(_o).map(it)},Br=function(t,e){var s=t._gsap||ge(t),r=t.style,n=_a(t),a,o,h,l;return s.svg&&t.getAttribute("transform")?(h=t.transform.baseVal.consolidate().matrix,n=[h.a,h.b,h.c,h.d,h.e,h.f],n.join(",")==="1,0,0,1,0,0"?pi:n):(n===pi&&!t.offsetParent&&t!==Le&&!s.svg&&(h=r.display,r.display="block",a=t.parentNode,(!a||!t.offsetParent)&&(l=1,o=t.nextElementSibling,Le.appendChild(t)),n=_a(t),h?r.display=h:be(t,"display"),l&&(o?a.insertBefore(t,o):a?a.appendChild(t):Le.removeChild(t))),e&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},ur=function(t,e,s,r,n,a){var o=t._gsap,h=n||Br(t,!0),l=o.xOrigin||0,c=o.yOrigin||0,m=o.xOffset||0,d=o.yOffset||0,p=h[0],f=h[1],u=h[2],g=h[3],_=h[4],y=h[5],v=e.split(" "),w=parseFloat(v[0])||0,b=parseFloat(v[1])||0,x,E,T,A;s?h!==pi&&(E=p*g-f*u)&&(T=w*(g/E)+b*(-u/E)+(u*y-g*_)/E,A=w*(-f/E)+b*(p/E)-(p*y-f*_)/E,w=T,b=A):(x=oh(t),w=x.x+(~v[0].indexOf("%")?w/100*x.width:w),b=x.y+(~(v[1]||v[0]).indexOf("%")?b/100*x.height:b)),r||r!==!1&&o.smooth?(_=w-l,y=b-c,o.xOffset=m+(_*p+y*u)-_,o.yOffset=d+(_*f+y*g)-y):o.xOffset=o.yOffset=0,o.xOrigin=w,o.yOrigin=b,o.smooth=!!r,o.origin=e,o.originIsAbsolute=!!s,t.style[Et]="0px 0px",a&&(ie(a,o,"xOrigin",l,w),ie(a,o,"yOrigin",c,b),ie(a,o,"xOffset",m,o.xOffset),ie(a,o,"yOffset",d,o.yOffset)),t.setAttribute("data-svg-origin",w+" "+b)},mi=function(t,e){var s=t._gsap||new Yo(t);if("x"in s&&!e&&!s.uncache)return s;var r=t.style,n=s.scaleX<0,a="px",o="deg",h=getComputedStyle(t),l=Vt(t,Et)||"0",c,m,d,p,f,u,g,_,y,v,w,b,x,E,T,A,M,P,S,O,C,$,z,R,U,ot,st,V,k,ut,dt,ft;return c=m=d=u=g=_=y=v=w=0,p=f=1,s.svg=!!(t.getCTM&&hh(t)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(r[J]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[J]!=="none"?h[J]:"")),r.scale=r.rotate=r.translate="none"),E=Br(t,s.svg),s.svg&&(s.uncache?(U=t.getBBox(),l=s.xOrigin-U.x+"px "+(s.yOrigin-U.y)+"px",R=""):R=!e&&t.getAttribute("data-svg-origin"),ur(t,R||l,!!R||s.originIsAbsolute,s.smooth!==!1,E)),b=s.xOrigin||0,x=s.yOrigin||0,E!==pi&&(P=E[0],S=E[1],O=E[2],C=E[3],c=$=E[4],m=z=E[5],E.length===6?(p=Math.sqrt(P*P+S*S),f=Math.sqrt(C*C+O*O),u=P||S?Me(S,P)*fe:0,y=O||C?Me(O,C)*fe+u:0,y&&(f*=Math.abs(Math.cos(y*$e))),s.svg&&(c-=b-(b*P+x*O),m-=x-(b*S+x*C))):(ft=E[6],ut=E[7],st=E[8],V=E[9],k=E[10],dt=E[11],c=E[12],m=E[13],d=E[14],T=Me(ft,k),g=T*fe,T&&(A=Math.cos(-T),M=Math.sin(-T),R=$*A+st*M,U=z*A+V*M,ot=ft*A+k*M,st=$*-M+st*A,V=z*-M+V*A,k=ft*-M+k*A,dt=ut*-M+dt*A,$=R,z=U,ft=ot),T=Me(-O,k),_=T*fe,T&&(A=Math.cos(-T),M=Math.sin(-T),R=P*A-st*M,U=S*A-V*M,ot=O*A-k*M,dt=C*M+dt*A,P=R,S=U,O=ot),T=Me(S,P),u=T*fe,T&&(A=Math.cos(T),M=Math.sin(T),R=P*A+S*M,U=$*A+z*M,S=S*A-P*M,z=z*A-$*M,P=R,$=U),g&&Math.abs(g)+Math.abs(u)>359.9&&(g=u=0,_=180-_),p=it(Math.sqrt(P*P+S*S+O*O)),f=it(Math.sqrt(z*z+ft*ft)),T=Me($,z),y=Math.abs(T)>2e-4?T*fe:0,w=dt?1/(dt<0?-dt:dt):0),s.svg&&(R=t.getAttribute("transform"),s.forceCSS=t.setAttribute("transform","")||!ch(Vt(t,J)),R&&t.setAttribute("transform",R))),Math.abs(y)>90&&Math.abs(y)<270&&(n?(p*=-1,y+=u<=0?180:-180,u+=u<=0?180:-180):(f*=-1,y+=y<=0?180:-180)),e=e||s.uncache,s.x=c-((s.xPercent=c&&(!e&&s.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-c)?-50:0)))?t.offsetWidth*s.xPercent/100:0)+a,s.y=m-((s.yPercent=m&&(!e&&s.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-m)?-50:0)))?t.offsetHeight*s.yPercent/100:0)+a,s.z=d+a,s.scaleX=it(p),s.scaleY=it(f),s.rotation=it(u)+o,s.rotationX=it(g)+o,s.rotationY=it(_)+o,s.skewX=y+o,s.skewY=v+o,s.transformPerspective=w+a,(s.zOrigin=parseFloat(l.split(" ")[2])||!e&&s.zOrigin||0)&&(r[Et]=Ki(l)),s.xOffset=s.yOffset=0,s.force3D=Ot.force3D,s.renderTransform=s.svg?ey:ah?uh:ty,s.uncache=0,s},Ki=function(t){return(t=t.split(" "))[0]+" "+t[1]},Ps=function(t,e,s){var r=mt(e);return it(parseFloat(e)+parseFloat(ae(t,"x",s+"px",r)))+r},ty=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,uh(t,e)},ce="0deg",Je="0px",ue=") ",uh=function(t,e){var s=e||this,r=s.xPercent,n=s.yPercent,a=s.x,o=s.y,h=s.z,l=s.rotation,c=s.rotationY,m=s.rotationX,d=s.skewX,p=s.skewY,f=s.scaleX,u=s.scaleY,g=s.transformPerspective,_=s.force3D,y=s.target,v=s.zOrigin,w="",b=_==="auto"&&t&&t!==1||_===!0;if(v&&(m!==ce||c!==ce)){var x=parseFloat(c)*$e,E=Math.sin(x),T=Math.cos(x),A;x=parseFloat(m)*$e,A=Math.cos(x),a=Ps(y,a,E*A*-v),o=Ps(y,o,-Math.sin(x)*-v),h=Ps(y,h,T*A*-v+v)}g!==Je&&(w+="perspective("+g+ue),(r||n)&&(w+="translate("+r+"%, "+n+"%) "),(b||a!==Je||o!==Je||h!==Je)&&(w+=h!==Je||b?"translate3d("+a+", "+o+", "+h+") ":"translate("+a+", "+o+ue),l!==ce&&(w+="rotate("+l+ue),c!==ce&&(w+="rotateY("+c+ue),m!==ce&&(w+="rotateX("+m+ue),(d!==ce||p!==ce)&&(w+="skew("+d+", "+p+ue),(f!==1||u!==1)&&(w+="scale("+f+", "+u+ue),y.style[J]=w||"translate(0, 0)"},ey=function(t,e){var s=e||this,r=s.xPercent,n=s.yPercent,a=s.x,o=s.y,h=s.rotation,l=s.skewX,c=s.skewY,m=s.scaleX,d=s.scaleY,p=s.target,f=s.xOrigin,u=s.yOrigin,g=s.xOffset,_=s.yOffset,y=s.forceCSS,v=parseFloat(a),w=parseFloat(o),b,x,E,T,A;h=parseFloat(h),l=parseFloat(l),c=parseFloat(c),c&&(c=parseFloat(c),l+=c,h+=c),h||l?(h*=$e,l*=$e,b=Math.cos(h)*m,x=Math.sin(h)*m,E=Math.sin(h-l)*-d,T=Math.cos(h-l)*d,l&&(c*=$e,A=Math.tan(l-c),A=Math.sqrt(1+A*A),E*=A,T*=A,c&&(A=Math.tan(c),A=Math.sqrt(1+A*A),b*=A,x*=A)),b=it(b),x=it(x),E=it(E),T=it(T)):(b=m,T=d,x=E=0),(v&&!~(a+"").indexOf("px")||w&&!~(o+"").indexOf("px"))&&(v=ae(p,"x",a,"px"),w=ae(p,"y",o,"px")),(f||u||g||_)&&(v=it(v+f-(f*b+u*E)+g),w=it(w+u-(f*x+u*T)+_)),(r||n)&&(A=p.getBBox(),v=it(v+r/100*A.width),w=it(w+n/100*A.height)),A="matrix("+b+","+x+","+E+","+T+","+v+","+w+")",p.setAttribute("transform",A),y&&(p.style[J]=A)},iy=function(t,e,s,r,n){var a=360,o=ct(n),h=parseFloat(n)*(o&&~n.indexOf("rad")?fe:1),l=h-r,c=r+l+"deg",m,d;return o&&(m=n.split("_")[1],m==="short"&&(l%=a,l!==l%(a/2)&&(l+=l<0?a:-a)),m==="cw"&&l<0?l=(l+a*da)%a-~~(l/a)*a:m==="ccw"&&l>0&&(l=(l-a*da)%a-~~(l/a)*a)),t._pt=d=new At(t._pt,e,s,r,l,Nv),d.e=c,d.u="deg",t._props.push(s),d},va=function(t,e){for(var s in e)t[s]=e[s];return t},sy=function(t,e,s){var r=va({},s._gsap),n="perspective,force3D,transformOrigin,svgOrigin",a=s.style,o,h,l,c,m,d,p,f;r.svg?(l=s.getAttribute("transform"),s.setAttribute("transform",""),a[J]=e,o=mi(s,1),be(s,J),s.setAttribute("transform",l)):(l=getComputedStyle(s)[J],a[J]=e,o=mi(s,1),a[J]=l);for(h in Kt)l=r[h],c=o[h],l!==c&&n.indexOf(h)<0&&(p=mt(l),f=mt(c),m=p!==f?ae(s,h,l,f):parseFloat(l),d=parseFloat(c),t._pt=new At(t._pt,o,h,m,d-m,hr),t._pt.u=f||0,t._props.push(h));va(o,r)};xt("padding,margin,Width,Radius",function(i,t){var e="Top",s="Right",r="Bottom",n="Left",a=(t<3?[e,s,r,n]:[e+n,e+s,r+s,r+n]).map(function(o){return t<2?i+o:"border"+o+i});Xi[t>1?"border"+i:i]=function(o,h,l,c,m){var d,p;if(arguments.length<4)return d=a.map(function(f){return Yt(o,f,l)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(c+"").split(" "),p={},a.forEach(function(f,u){return p[f]=d[u]=d[u]||d[(u-1)/2|0]}),o.init(h,p,m)}});var dh={name:"css",register:cr,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,s,r,n){var a=this._props,o=t.style,h=s.vars.startAt,l,c,m,d,p,f,u,g,_,y,v,w,b,x,E,T;kr||cr(),this.styles=this.styles||nh(t),T=this.styles.props,this.tween=s;for(u in e)if(u!=="autoRound"&&(c=e[u],!(Mt[u]&&Wo(u,e,s,r,t,n)))){if(p=typeof c,f=Xi[u],p==="function"&&(c=c.call(s,r,t,n),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=ui(c)),f)f(this,t,u,c,s)&&(E=1);else if(u.substr(0,2)==="--")l=(getComputedStyle(t).getPropertyValue(u)+"").trim(),c+="",re.lastIndex=0,re.test(l)||(g=mt(l),_=mt(c)),_?g!==_&&(l=ae(t,u,l,_)+_):g&&(c+=g),this.add(o,"setProperty",l,c,r,n,0,0,u),a.push(u),T.push(u,0,o[u]);else if(p!=="undefined"){if(h&&u in h?(l=typeof h[u]=="function"?h[u].call(s,r,t,n):h[u],ct(l)&&~l.indexOf("random(")&&(l=ui(l)),mt(l+"")||l==="auto"||(l+=Ot.units[u]||mt(Yt(t,u))||""),(l+"").charAt(1)==="="&&(l=Yt(t,u))):l=Yt(t,u),d=parseFloat(l),y=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),y&&(c=c.substr(2)),m=parseFloat(c),u in Ut&&(u==="autoAlpha"&&(d===1&&Yt(t,"visibility")==="hidden"&&m&&(d=0),T.push("visibility",0,o.visibility),ie(this,o,"visibility",d?"inherit":"hidden",m?"inherit":"hidden",!m)),u!=="scale"&&u!=="transform"&&(u=Ut[u],~u.indexOf(",")&&(u=u.split(",")[0]))),v=u in Kt,v){if(this.styles.save(u),w||(b=t._gsap,b.renderTransform&&!e.parseTransform||mi(t,e.parseTransform),x=e.smoothOrigin!==!1&&b.smooth,w=this._pt=new At(this._pt,o,J,0,1,b.renderTransform,b,0,-1),w.dep=1),u==="scale")this._pt=new At(this._pt,b,"scaleY",b.scaleY,(y?Pe(b.scaleY,y+m):m)-b.scaleY||0,hr),this._pt.u=0,a.push("scaleY",u),u+="X";else if(u==="transformOrigin"){T.push(Et,0,o[Et]),c=Qv(c),b.svg?ur(t,c,0,x,0,this):(_=parseFloat(c.split(" ")[2])||0,_!==b.zOrigin&&ie(this,b,"zOrigin",b.zOrigin,_),ie(this,o,u,Ki(l),Ki(c)));continue}else if(u==="svgOrigin"){ur(t,c,1,x,0,this);continue}else if(u in lh){iy(this,b,u,d,y?Pe(d,y+c):c);continue}else if(u==="smoothOrigin"){ie(this,b,"smooth",b.smooth,c);continue}else if(u==="force3D"){b[u]=c;continue}else if(u==="transform"){sy(this,c,t);continue}}else u in o||(u=Fe(u)||u);if(v||(m||m===0)&&(d||d===0)&&!Fv.test(c)&&u in o)g=(l+"").substr((d+"").length),m||(m=0),_=mt(c)||(u in Ot.units?Ot.units[u]:g),g!==_&&(d=ae(t,u,l,_)),this._pt=new At(this._pt,v?b:o,u,d,(y?Pe(d,y+m):m)-d,!v&&(_==="px"||u==="zIndex")&&e.autoRound!==!1?Uv:hr),this._pt.u=_||0,g!==_&&_!=="%"&&(this._pt.b=l,this._pt.r=Bv);else if(u in o)Zv.call(this,t,u,l,y?y+c:c);else if(u in t)this.add(t,u,l||t[u],y?y+c:c,r,n);else if(u!=="parseTransform"){Cr(u,c);continue}v||(u in o?T.push(u,0,o[u]):T.push(u,1,l||t[u])),a.push(u)}}E&&th(this)},render:function(t,e){if(e.tween._time||!Fr())for(var s=e._pt;s;)s.r(t,s.d),s=s._next;else e.styles.revert()},get:Yt,aliases:Ut,getSetter:function(t,e,s){var r=Ut[e];return r&&r.indexOf(",")<0&&(e=r),e in Kt&&e!==Et&&(t._gsap.x||Yt(t,"x"))?s&&ua===s?e==="scale"?jv:qv:(ua=s||{})&&(e==="scale"?Hv:Yv):t.style&&!Tr(t.style[e])?Vv:~e.indexOf("-")?Gv:Rr(t,e)},core:{_removeProperty:be,_getMatrix:Br}};Tt.utils.checkPrefix=Fe;Tt.core.getStyleSaver=nh;(function(i,t,e,s){var r=xt(i+","+t+","+e,function(n){Kt[n]=1});xt(t,function(n){Ot.units[n]="deg",lh[n]=1}),Ut[r[13]]=i+","+t,xt(s,function(n){var a=n.split(":");Ut[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");xt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Ot.units[i]="px"});Tt.registerPlugin(dh);var L=Tt.registerPlugin(dh)||Tt;L.core.Tween;const ry=`precision highp float;
#define GLSLIFY 1

uniform float uAlpha;
uniform sampler2D tMap;

varying vec2 vUv;

void main() {
  vec4 texture = texture2D(tMap, vUv);

  gl_FragColor = texture;
  gl_FragColor.a = uAlpha;
}
`,ny=`#define GLSLIFY 1
attribute vec3 position;
attribute vec2 uv;

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;

varying vec2 vUv;

void main() {
  vUv = uv;

  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`;let ay=class{constructor({element:t,geometry:e,gl:s,index:r,scene:n,sizes:a}){this.element=t,this.geometry=e,this.gl=s,this.index=r,this.scene=n,this.sizes=a,this.extra={x:0,y:0},this.createTexture(),this.createProgram(),this.createMesh(),this.createBounds({sizes:this.sizes})}createTexture(){const t=this.element.querySelector("img");this.texture=window.TEXTURES[t.getAttribute("data-src")]}createProgram(){this.program=new Ui(this.gl,{fragment:ry,vertex:ny,uniforms:{uAlpha:{value:0},tMap:{value:this.texture}}})}createMesh(){this.mesh=new Vi(this.gl,{geometry:this.geometry,program:this.program}),this.mesh.setParent(this.scene)}createBounds({sizes:t}){this.sizes=t,this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY()}show(){L.fromTo(this.program.uniforms.uAlpha,{value:0},{value:1})}hide(){L.to(this.program.uniforms.uAlpha,{value:0})}onResize(t,e,s){this.extra=0,this.widthTotal=s,this.createBounds(t),this.updateX(e),this.updateY(0)}updateRotation(){this.mesh.rotation.z=L.utils.mapRange(-this.sizes.width/2,this.sizes.width/2,Math.PI*.1,-Math.PI*.1,this.mesh.position.x)}updateScale(){this.height=this.bounds.height/window.innerHeight,this.width=this.bounds.width/window.innerWidth,this.mesh.scale.x=this.sizes.width*this.width,this.mesh.scale.y=this.sizes.height*this.height}updateX(t=0){this.x=(this.bounds.left+t)/window.innerWidth,this.mesh.position.x=-this.sizes.width/2+this.mesh.scale.x/2+this.x*this.sizes.width+this.extra}updateY(t=0){this.y=(this.bounds.top+t)/window.innerHeight;const e=ri.isMobile?15:60;this.mesh.position.y=this.sizes.height/2-this.mesh.scale.y/2-this.y*this.sizes.height,this.mesh.position.y+=Math.cos(this.mesh.position.x/this.sizes.width*Math.PI*.1)*e-e}update(t){this.updateRotation(),this.updateScale(),this.updateX(t),this.updateY(0)}};/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.18.2
 * @author George Michael Brower
 * @license MIT
 */class Gt{constructor(t,e,s,r,n="div"){this.parent=t,this.object=e,this.property=s,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),Gt.nextNameID=Gt.nextNameID||0,this.$name.id=`lil-gui-name-${++Gt.nextNameID}`,this.$widget=document.createElement(n),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",a=>a.stopPropagation()),this.domElement.addEventListener("keyup",a=>a.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(s)}name(t){return this._name=t,this.$name.innerHTML=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(t=!0){return this.disable(!t)}disable(t=!0){return t===this._disabled?this:(this._disabled=t,this.domElement.classList.toggle("disabled",t),this.$disable.toggleAttribute("disabled",t),this)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(t){const e=this.parent.add(this.object,this.property,t);return e.name(this._name),this.destroy(),e}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(t=!0){return this._listening=t,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.object[this.property]=t,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class oy extends Gt{constructor(t,e,s){super(t,e,s,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function dr(i){let t,e;return(t=i.match(/(#|0x)?([a-f0-9]{6})/i))?e=t[2]:(t=i.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?e=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=i.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(e=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),e?"#"+e:!1}const hy={isPrimitive:!0,match:i=>typeof i=="string",fromHexString:dr,toHexString:dr},gi={isPrimitive:!0,match:i=>typeof i=="number",fromHexString:i=>parseInt(i.substring(1),16),toHexString:i=>"#"+i.toString(16).padStart(6,0)},ly={isPrimitive:!1,match:i=>Array.isArray(i),fromHexString(i,t,e=1){const s=gi.fromHexString(i);t[0]=(s>>16&255)/255*e,t[1]=(s>>8&255)/255*e,t[2]=(s&255)/255*e},toHexString([i,t,e],s=1){s=255/s;const r=i*s<<16^t*s<<8^e*s<<0;return gi.toHexString(r)}},cy={isPrimitive:!1,match:i=>Object(i)===i,fromHexString(i,t,e=1){const s=gi.fromHexString(i);t.r=(s>>16&255)/255*e,t.g=(s>>8&255)/255*e,t.b=(s&255)/255*e},toHexString({r:i,g:t,b:e},s=1){s=255/s;const r=i*s<<16^t*s<<8^e*s<<0;return gi.toHexString(r)}},uy=[hy,gi,ly,cy];function dy(i){return uy.find(t=>t.match(i))}class fy extends Gt{constructor(t,e,s,r){super(t,e,s,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=dy(this.initialValue),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const n=dr(this.$text.value);n&&this._setValueFromHexString(n)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){const e=this._format.fromHexString(t);this.setValue(e)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class Ls extends Gt{constructor(t,e,s){super(t,e,s,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",r=>{r.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class py extends Gt{constructor(t,e,s,r,n,a){super(t,e,s,"number"),this._initInput(),this.min(r),this.max(n);const o=a!==void 0;this.step(o?a:this._getImplicitStep(),o),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t,e=!0){return this._step=t,this._stepExplicit=e,this}updateDisplay(){const t=this.getValue();if(this._hasSlider){let e=(t-this._min)/(this._max-this._min);e=Math.max(0,Math.min(e,1)),this.$fill.style.width=e*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;const e=()=>{let y=parseFloat(this.$input.value);isNaN(y)||(this._stepExplicit&&(y=this._snap(y)),this.setValue(this._clamp(y)))},s=y=>{const v=parseFloat(this.$input.value);isNaN(v)||(this._snapClampSetValue(v+y),this.$input.value=this.getValue())},r=y=>{y.key==="Enter"&&this.$input.blur(),y.code==="ArrowUp"&&(y.preventDefault(),s(this._step*this._arrowKeyMultiplier(y))),y.code==="ArrowDown"&&(y.preventDefault(),s(this._step*this._arrowKeyMultiplier(y)*-1))},n=y=>{this._inputFocused&&(y.preventDefault(),s(this._step*this._normalizeMouseWheel(y)))};let a=!1,o,h,l,c,m;const d=5,p=y=>{o=y.clientX,h=l=y.clientY,a=!0,c=this.getValue(),m=0,window.addEventListener("mousemove",f),window.addEventListener("mouseup",u)},f=y=>{if(a){const v=y.clientX-o,w=y.clientY-h;Math.abs(w)>d?(y.preventDefault(),this.$input.blur(),a=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(v)>d&&u()}if(!a){const v=y.clientY-l;m-=v*this._step*this._arrowKeyMultiplier(y),c+m>this._max?m=this._max-c:c+m<this._min&&(m=this._min-c),this._snapClampSetValue(c+m)}l=y.clientY},u=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",u)},g=()=>{this._inputFocused=!0},_=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",e),this.$input.addEventListener("keydown",r),this.$input.addEventListener("wheel",n,{passive:!1}),this.$input.addEventListener("mousedown",p),this.$input.addEventListener("focus",g),this.$input.addEventListener("blur",_)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const t=(_,y,v,w,b)=>(_-y)/(v-y)*(b-w)+w,e=_=>{const y=this.$slider.getBoundingClientRect();let v=t(_,y.left,y.right,this._min,this._max);this._snapClampSetValue(v)},s=_=>{this._setDraggingStyle(!0),e(_.clientX),window.addEventListener("mousemove",r),window.addEventListener("mouseup",n)},r=_=>{e(_.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",n)};let a=!1,o,h;const l=_=>{_.preventDefault(),this._setDraggingStyle(!0),e(_.touches[0].clientX),a=!1},c=_=>{_.touches.length>1||(this._hasScrollBar?(o=_.touches[0].clientX,h=_.touches[0].clientY,a=!0):l(_),window.addEventListener("touchmove",m,{passive:!1}),window.addEventListener("touchend",d))},m=_=>{if(a){const y=_.touches[0].clientX-o,v=_.touches[0].clientY-h;Math.abs(y)>Math.abs(v)?l(_):(window.removeEventListener("touchmove",m),window.removeEventListener("touchend",d))}else _.preventDefault(),e(_.touches[0].clientX)},d=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",d)},p=this._callOnFinishChange.bind(this),f=400;let u;const g=_=>{if(Math.abs(_.deltaX)<Math.abs(_.deltaY)&&this._hasScrollBar)return;_.preventDefault();const v=this._normalizeMouseWheel(_)*this._step;this._snapClampSetValue(this.getValue()+v),this.$input.value=this.getValue(),clearTimeout(u),u=setTimeout(p,f)};this.$slider.addEventListener("mousedown",s),this.$slider.addEventListener("touchstart",c,{passive:!1}),this.$slider.addEventListener("wheel",g,{passive:!1})}_setDraggingStyle(t,e="horizontal"){this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("lil-gui-dragging",t),document.body.classList.toggle(`lil-gui-${e}`,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:e,deltaY:s}=t;return Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(e=0,s=-t.wheelDelta/120,s*=this._stepExplicit?1:10),e+-s}_arrowKeyMultiplier(t){let e=this._stepExplicit?1:10;return t.shiftKey?e*=10:t.altKey&&(e/=10),e}_snap(t){const e=Math.round(t/this._step)*this._step;return parseFloat(e.toPrecision(15))}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){const t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class my extends Gt{constructor(t,e,s,r){super(t,e,s,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(r)?r:Object.values(r),this._names=Array.isArray(r)?r:Object.keys(r),this._names.forEach(n=>{const a=document.createElement("option");a.innerHTML=n,this.$select.appendChild(a)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const t=this.getValue(),e=this._values.indexOf(t);return this.$select.selectedIndex=e,this.$display.innerHTML=e===-1?t:this._names[e],this}}class gy extends Gt{constructor(t,e,s){super(t,e,s,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",r=>{r.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}const _y=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  background-color: var(--background-color);
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean .widget {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background-color: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background-color: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background-color: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui input {
  -webkit-tap-highlight-color: transparent;
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input::-webkit-outer-spin-button,
.lil-gui input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.lil-gui input[type=number] {
  -moz-appearance: textfield;
}
.lil-gui input[type=checkbox] {
  appearance: none;
  -webkit-appearance: none;
  height: var(--checkbox-size);
  width: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  -webkit-tap-highlight-color: transparent;
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: 1px solid var(--widget-color);
  text-align: center;
  line-height: calc(var(--widget-height) - 4px);
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
    border-color: var(--hover-color);
  }
  .lil-gui button:focus {
    border-color: var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function vy(i){const t=document.createElement("style");t.innerHTML=i;const e=document.querySelector("head link[rel=stylesheet], head style");e?document.head.insertBefore(t,e):document.head.appendChild(t)}let ya=!1;class Ur{constructor({parent:t,autoPlace:e=t===void 0,container:s,width:r,title:n="Controls",closeFolders:a=!1,injectStyles:o=!0,touchStyles:h=!0}={}){if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",l=>{(l.code==="Enter"||l.code==="Space")&&(l.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(n),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),h&&this.domElement.classList.add("allow-touch-styles"),!ya&&o&&(vy(_y),ya=!0),s?s.appendChild(this.domElement):e&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this._closeFolders=a}add(t,e,s,r,n){if(Object(s)===s)return new my(this,t,e,s);const a=t[e];switch(typeof a){case"number":return new py(this,t,e,s,r,n);case"boolean":return new oy(this,t,e);case"string":return new gy(this,t,e);case"function":return new Ls(this,t,e)}console.error(`gui.add failed
	property:`,e,`
	object:`,t,`
	value:`,a)}addColor(t,e,s=1){return new fy(this,t,e,s)}addFolder(t){const e=new Ur({parent:this,title:t});return this.root._closeFolders&&e.close(),e}load(t,e=!0){return t.controllers&&this.controllers.forEach(s=>{s instanceof Ls||s._name in t.controllers&&s.load(t.controllers[s._name])}),e&&t.folders&&this.folders.forEach(s=>{s._title in t.folders&&s.load(t.folders[s._title])}),this}save(t=!0){const e={controllers:{},folders:{}};return this.controllers.forEach(s=>{if(!(s instanceof Ls)){if(s._name in e.controllers)throw new Error(`Cannot save GUI with duplicate property "${s._name}"`);e.controllers[s._name]=s.save()}}),t&&this.folders.forEach(s=>{if(s._title in e.folders)throw new Error(`Cannot save GUI with duplicate folder "${s._title}"`);e.folders[s._title]=s.save()}),e}open(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(t){this._closed!==t&&(this._closed=t,this._callOnOpenClose(this))}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const e=this.$children.clientHeight;this.$children.style.height=e+"px",this.domElement.classList.add("transition");const s=n=>{n.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",s))};this.$children.addEventListener("transitionend",s);const r=t?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!t),requestAnimationFrame(()=>{this.$children.style.height=r+"px"})}),this}title(t){return this._title=t,this.$title.innerHTML=t,this}reset(t=!0){return(t?this.controllersRecursive():this.controllers).forEach(s=>s.reset()),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),this._onChange!==void 0&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onOpenClose(t){return this._onOpenClose=t,this}_callOnOpenClose(t){this.parent&&this.parent._callOnOpenClose(t),this._onOpenClose!==void 0&&this._onOpenClose.call(this,t)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(t=>t.destroy())}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach(e=>{t=t.concat(e.controllersRecursive())}),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach(e=>{t=t.concat(e.foldersRecursive())}),t}}const yy=Ur,Ne=window.location.search.indexOf("gui")>-1?new yy:null;Ne&&Ne.close();class wy{constructor({element:t,geometry:e,index:s,gl:r,scene:n,sizes:a}){this.element=t,this.elementWrapper=t.querySelector(".about__gallery__wrapper"),this.geometry=e,this.index=s,this.gl=r,this.scene=n,this.sizes=a,this.group=new he,this.scroll={current:0,start:0,target:0,lerp:.1,velocity:1},this.createMedias(),this.onResize({sizes:this.sizes}),this.group.setParent(this.scene),Ne&&this.createDebug()}createMedias(){this.mediasElements=this.element.querySelectorAll(".about__gallery__media"),this.medias=rt(this.mediasElements,(t,e)=>new ay({element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.group,sizes:this.sizes}))}show(){rt(this.medias,t=>t.show())}hide(){rt(this.medias,t=>t.hide())}createDebug(){Ne.addFolder("Gallery").add(this.scroll,"lerp",0,1).name("Scroll Lerp")}onResize(t){this.bounds=this.elementWrapper.getBoundingClientRect(),this.sizes=t.sizes,this.width=this.bounds.width/window.innerWidth*this.sizes.width,this.scroll.current=this.scroll.target=0,rt(this.medias,e=>e.onResize(t,this.scroll.current,this.width))}onTouchDown(){this.scroll.start=this.scroll.current}onTouchMove({x:t}){const e=t.start-t.end;this.scroll.target=this.scroll.start-e}onTouchUp(){}update(t){const e=(t.current-t.target)*.1,s=t.current/window.innerHeight;this.scroll.current<this.scroll.target?(this.direction="right",this.scroll.velocity=-1):this.scroll.current>this.scroll.target&&(this.direction="left",this.scroll.velocity=1),this.scroll.target-=this.scroll.velocity,this.scroll.target+=e,this.scroll.current=L.utils.interpolate(this.scroll.current,this.scroll.target,this.scroll.lerp),rt(this.medias,r=>{const n=r.mesh.scale.x/2+.25;this.direction==="left"?r.mesh.position.x+n<-this.sizes.width/2&&(r.extra+=this.width):this.direction==="right"&&r.mesh.position.x-n>this.sizes.width/2&&(r.extra-=this.width),r.update(this.scroll.current)}),this.group.position.y=s*this.sizes.height}destroy(){this.scene.removeChild(this.group)}}let by=class{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.sizes=s,this.group=new he,this.createGeometry(),this.createGalleries(),this.onResize({sizes:this.sizes})}createGeometry(){this.geometry=new yi(this.gl)}createGalleries(){this.galleriesElements=document.querySelectorAll(".about__gallery"),this.galleries=rt(this.galleriesElements,(t,e)=>new wy({element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.group,sizes:this.sizes}))}show(){this.group.setParent(this.scene),rt(this.galleries,t=>t.show())}hide(){this.group.setParent(null),rt(this.galleries,t=>t.hide())}onResize(t){rt(this.galleries,e=>e.onResize(t))}onTouchDown(t){rt(this.galleries,e=>e.onTouchDown(t))}onTouchMove(t){rt(this.galleries,e=>e.onTouchMove(t))}onTouchUp(t){rt(this.galleries,e=>e.onTouchUp(t))}onWheel(){}update(t){rt(this.galleries,e=>e.update(t))}destroy(){rt(this.galleries,t=>t.destroy())}};var Vr={exports:{}},wa=typeof document<"u"?document.createElement("p").style:{},ba=["O","ms","Moz","Webkit"],$s=/([A-Z])/g,zs={};function fh(i){if(i=i.replace(/-([a-z])/g,function(r,n){return n.toUpperCase()}),wa[i]!==void 0)return i;for(var t=i.charAt(0).toUpperCase()+i.slice(1),e=ba.length;e--;){var s=ba[e]+t;if(wa[s]!==void 0)return s}return i}function xy(i){return i in zs?zs[i]:zs[i]=fh(i)}function Ay(i){return i=fh(i),$s.test(i)&&(i="-"+i.replace($s,"-$1"),$s.lastIndex=0),i.toLowerCase()}Vr.exports=xy;Vr.exports.dash=Ay;var Ey=Vr.exports;const Ye=oe(Ey),Be=(i,t=0)=>{const e=i.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,top:e.top+t,width:e.width}};function j(i,t){return i instanceof window.HTMLElement?[t(i)]:rt(i,t)}var Gr={exports:{}},ze=typeof Reflect=="object"?Reflect:null,xa=ze&&typeof ze.apply=="function"?ze.apply:function(t,e,s){return Function.prototype.apply.call(t,e,s)},Fi;ze&&typeof ze.ownKeys=="function"?Fi=ze.ownKeys:Object.getOwnPropertySymbols?Fi=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Fi=function(t){return Object.getOwnPropertyNames(t)};function Ty(i){console&&console.warn&&console.warn(i)}var ph=Number.isNaN||function(t){return t!==t};function H(){H.init.call(this)}Gr.exports=H;Gr.exports.once=Oy;H.EventEmitter=H;H.prototype._events=void 0;H.prototype._eventsCount=0;H.prototype._maxListeners=void 0;var Aa=10;function os(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return Aa},set:function(i){if(typeof i!="number"||i<0||ph(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");Aa=i}});H.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};H.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ph(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function mh(i){return i._maxListeners===void 0?H.defaultMaxListeners:i._maxListeners}H.prototype.getMaxListeners=function(){return mh(this)};H.prototype.emit=function(t){for(var e=[],s=1;s<arguments.length;s++)e.push(arguments[s]);var r=t==="error",n=this._events;if(n!==void 0)r=r&&n.error===void 0;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var h=n[t];if(h===void 0)return!1;if(typeof h=="function")xa(h,this,e);else for(var l=h.length,c=wh(h,l),s=0;s<l;++s)xa(c[s],this,e);return!0};function gh(i,t,e,s){var r,n,a;if(os(e),n=i._events,n===void 0?(n=i._events=Object.create(null),i._eventsCount=0):(n.newListener!==void 0&&(i.emit("newListener",t,e.listener?e.listener:e),n=i._events),a=n[t]),a===void 0)a=n[t]=e,++i._eventsCount;else if(typeof a=="function"?a=n[t]=s?[e,a]:[a,e]:s?a.unshift(e):a.push(e),r=mh(i),r>0&&a.length>r&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=i,o.type=t,o.count=a.length,Ty(o)}return i}H.prototype.addListener=function(t,e){return gh(this,t,e,!1)};H.prototype.on=H.prototype.addListener;H.prototype.prependListener=function(t,e){return gh(this,t,e,!0)};function My(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _h(i,t,e){var s={fired:!1,wrapFn:void 0,target:i,type:t,listener:e},r=My.bind(s);return r.listener=e,s.wrapFn=r,r}H.prototype.once=function(t,e){return os(e),this.on(t,_h(this,t,e)),this};H.prototype.prependOnceListener=function(t,e){return os(e),this.prependListener(t,_h(this,t,e)),this};H.prototype.removeListener=function(t,e){var s,r,n,a,o;if(os(e),r=this._events,r===void 0)return this;if(s=r[t],s===void 0)return this;if(s===e||s.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,s.listener||e));else if(typeof s!="function"){for(n=-1,a=s.length-1;a>=0;a--)if(s[a]===e||s[a].listener===e){o=s[a].listener,n=a;break}if(n<0)return this;n===0?s.shift():Sy(s,n),s.length===1&&(r[t]=s[0]),r.removeListener!==void 0&&this.emit("removeListener",t,o||e)}return this};H.prototype.off=H.prototype.removeListener;H.prototype.removeAllListeners=function(t){var e,s,r;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[t]),this;if(arguments.length===0){var n=Object.keys(s),a;for(r=0;r<n.length;++r)a=n[r],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=s[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this};function vh(i,t,e){var s=i._events;if(s===void 0)return[];var r=s[t];return r===void 0?[]:typeof r=="function"?e?[r.listener||r]:[r]:e?Cy(r):wh(r,r.length)}H.prototype.listeners=function(t){return vh(this,t,!0)};H.prototype.rawListeners=function(t){return vh(this,t,!1)};H.listenerCount=function(i,t){return typeof i.listenerCount=="function"?i.listenerCount(t):yh.call(i,t)};H.prototype.listenerCount=yh;function yh(i){var t=this._events;if(t!==void 0){var e=t[i];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}H.prototype.eventNames=function(){return this._eventsCount>0?Fi(this._events):[]};function wh(i,t){for(var e=new Array(t),s=0;s<t;++s)e[s]=i[s];return e}function Sy(i,t){for(;t+1<i.length;t++)i[t]=i[t+1];i.pop()}function Cy(i){for(var t=new Array(i.length),e=0;e<t.length;++e)t[e]=i[e].listener||i[e];return t}function Oy(i,t){return new Promise(function(e,s){function r(a){i.removeListener(t,n),s(a)}function n(){typeof i.removeListener=="function"&&i.removeListener("error",r),e([].slice.call(arguments))}bh(i,t,n,{once:!0}),t!=="error"&&Py(i,r,{once:!0})})}function Py(i,t,e){typeof i.on=="function"&&bh(i,"error",t,e)}function bh(i,t,e,s){if(typeof i.on=="function")s.once?i.once(t,e):i.on(t,e);else if(typeof i.addEventListener=="function")i.addEventListener(t,function r(n){s.once&&i.removeEventListener(t,r),e(n)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}var Ly=Gr.exports;const xh=oe(Ly);class Ee extends xh{constructor({classes:t,element:e,elements:s}){super(),Zi(this),this.classes=t,this.selector=e,this.selectorChildren={...s},this.create(),this.addEventListeners()}create(){this.selector instanceof window.HTMLElement?this.element=this.selector:this.element=document.querySelector(this.selector),this.elements={},at(this.selectorChildren,(t,e)=>{t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=this.element.querySelectorAll(t),this.elements[e].length===0?this.elements[e]=null:this.elements[e].length===1&&(this.elements[e]=this.element.querySelector(t)))})}addEventListeners(){}removeEventListeners(){}}const Ea=`precision highp float;
#define GLSLIFY 1

uniform float uAlpha;
uniform sampler2D tMap;

varying vec4 vPosition;
varying vec2 vUv;

void main() {
  vec4 texture = texture2D(tMap, vUv);

  gl_FragColor = texture;
  gl_FragColor.a = uAlpha;
}
`,Ta=`#define GLSLIFY 1
attribute vec3 position;
attribute vec2 uv;

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;

varying vec4 vPosition;
varying vec2 vUv;

void main() {
  vUv = uv;

  vec4 newPosition = modelViewMatrix * vec4(position, 1.0);

  vPosition = newPosition;

  gl_Position = projectionMatrix * newPosition;
}
`;/*!
 * paths 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $y=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,zy=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,Dy=Math.PI/180,Oi=Math.sin,Pi=Math.cos,hi=Math.abs,ti=Math.sqrt,Ry=function(t){return typeof t=="number"},Ma=1e5,Jt=function(t){return Math.round(t*Ma)/Ma||0};function Iy(i,t,e,s,r,n,a){for(var o=i.length,h,l,c,m,d;--o>-1;)for(h=i[o],l=h.length,c=0;c<l;c+=2)m=h[c],d=h[c+1],h[c]=m*t+d*s+n,h[c+1]=m*e+d*r+a;return i._dirty=1,i}function ky(i,t,e,s,r,n,a,o,h){if(!(i===o&&t===h)){e=hi(e),s=hi(s);var l=r%360*Dy,c=Pi(l),m=Oi(l),d=Math.PI,p=d*2,f=(i-o)/2,u=(t-h)/2,g=c*f+m*u,_=-m*f+c*u,y=g*g,v=_*_,w=y/(e*e)+v/(s*s);w>1&&(e=ti(w)*e,s=ti(w)*s);var b=e*e,x=s*s,E=(b*x-b*v-x*y)/(b*v+x*y);E<0&&(E=0);var T=(n===a?-1:1)*ti(E),A=T*(e*_/s),M=T*-(s*g/e),P=(i+o)/2,S=(t+h)/2,O=P+(c*A-m*M),C=S+(m*A+c*M),$=(g-A)/e,z=(_-M)/s,R=(-g-A)/e,U=(-_-M)/s,ot=$*$+z*z,st=(z<0?-1:1)*Math.acos($/ti(ot)),V=($*U-z*R<0?-1:1)*Math.acos(($*R+z*U)/ti(ot*(R*R+U*U)));isNaN(V)&&(V=d),!a&&V>0?V-=p:a&&V<0&&(V+=p),st%=p,V%=p;var k=Math.ceil(hi(V)/(p/4)),ut=[],dt=V/k,ft=4/3*Oi(dt/2)/(1+Pi(dt/2)),We=c*e,Xe=m*e,xi=m*-s,Ai=c*s,pt;for(pt=0;pt<k;pt++)r=st+pt*dt,g=Pi(r),_=Oi(r),$=Pi(r+=dt),z=Oi(r),ut.push(g-ft*_,_+ft*g,$+ft*z,z-ft*$,$,z);for(pt=0;pt<ut.length;pt+=2)g=ut[pt],_=ut[pt+1],ut[pt]=g*We+_*xi+O,ut[pt+1]=g*Xe+_*Ai+C;return ut[pt-2]=o,ut[pt-1]=h,ut}}function Fy(i){var t=(i+"").replace(zy,function(A){var M=+A;return M<1e-4&&M>-1e-4?0:M}).match($y)||[],e=[],s=0,r=0,n=2/3,a=t.length,o=0,h="ERROR: malformed path: "+i,l,c,m,d,p,f,u,g,_,y,v,w,b,x,E,T=function(M,P,S,O){y=(S-M)/3,v=(O-P)/3,u.push(M+y,P+v,S-y,O-v,S,O)};if(!i||!isNaN(t[0])||isNaN(t[1]))return console.log(h),e;for(l=0;l<a;l++)if(b=p,isNaN(t[l])?(p=t[l].toUpperCase(),f=p!==t[l]):l--,m=+t[l+1],d=+t[l+2],f&&(m+=s,d+=r),l||(g=m,_=d),p==="M")u&&(u.length<8?e.length-=1:o+=u.length),s=g=m,r=_=d,u=[m,d],e.push(u),l+=2,p="L";else if(p==="C")u||(u=[0,0]),f||(s=r=0),u.push(m,d,s+t[l+3]*1,r+t[l+4]*1,s+=t[l+5]*1,r+=t[l+6]*1),l+=6;else if(p==="S")y=s,v=r,(b==="C"||b==="S")&&(y+=s-u[u.length-4],v+=r-u[u.length-3]),f||(s=r=0),u.push(y,v,m,d,s+=t[l+3]*1,r+=t[l+4]*1),l+=4;else if(p==="Q")y=s+(m-s)*n,v=r+(d-r)*n,f||(s=r=0),s+=t[l+3]*1,r+=t[l+4]*1,u.push(y,v,s+(m-s)*n,r+(d-r)*n,s,r),l+=4;else if(p==="T")y=s-u[u.length-4],v=r-u[u.length-3],u.push(s+y,r+v,m+(s+y*1.5-m)*n,d+(r+v*1.5-d)*n,s=m,r=d),l+=2;else if(p==="H")T(s,r,s=m,r),l+=1;else if(p==="V")T(s,r,s,r=m+(f?r-s:0)),l+=1;else if(p==="L"||p==="Z")p==="Z"&&(m=g,d=_,u.closed=!0),(p==="L"||hi(s-m)>.5||hi(r-d)>.5)&&(T(s,r,m,d),p==="L"&&(l+=2)),s=m,r=d;else if(p==="A"){if(x=t[l+4],E=t[l+5],y=t[l+6],v=t[l+7],c=7,x.length>1&&(x.length<3?(v=y,y=E,c--):(v=E,y=x.substr(2),c-=2),E=x.charAt(1),x=x.charAt(0)),w=ky(s,r,+t[l+1],+t[l+2],+t[l+3],+x,+E,(f?s:0)+y*1,(f?r:0)+v*1),l+=c,w)for(c=0;c<w.length;c++)u.push(w[c]);s=u[u.length-2],r=u[u.length-1]}else console.log(h);return l=u.length,l<6?(e.pop(),l=0):u[0]===u[l-2]&&u[1]===u[l-1]&&(u.closed=!0),e.totalPoints=o+l,e}function Ny(i){Ry(i[0])&&(i=[i]);var t="",e=i.length,s,r,n,a;for(r=0;r<e;r++){for(a=i[r],t+="M"+Jt(a[0])+","+Jt(a[1])+" C",s=a.length,n=2;n<s;n++)t+=Jt(a[n++])+","+Jt(a[n++])+" "+Jt(a[n++])+","+Jt(a[n++])+" "+Jt(a[n++])+","+Jt(a[n])+" ";a.closed&&(t+="z")}return t}/*!
 * CustomEase 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var wt,Ah,Eh=function(){return wt||typeof window<"u"&&(wt=window.gsap)&&wt.registerPlugin&&wt},Sa=function(){wt=Eh(),wt?(wt.registerEase("_CE",bi.create),Ah=1):console.warn("Please gsap.registerPlugin(CustomEase)")},By=1e20,Li=function(t){return~~(t*1e3+(t<0?-.5:.5))/1e3},Uy=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,Vy=/[cLlsSaAhHvVtTqQ]/g,Gy=function(t){var e=t.length,s=By,r;for(r=1;r<e;r+=6)+t[r]<s&&(s=+t[r]);return s},qy=function(t,e,s){!s&&s!==0&&(s=Math.max(+t[t.length-1],+t[1]));var r=+t[0]*-1,n=-s,a=t.length,o=1/(+t[a-2]+r),h=-e||(Math.abs(+t[a-1]-+t[1])<.01*(+t[a-2]-+t[0])?Gy(t)+n:+t[a-1]+n),l;for(h?h=1/h:h=-o,l=0;l<a;l+=2)t[l]=(+t[l]+r)*o,t[l+1]=(+t[l+1]+n)*h},jy=function i(t,e,s,r,n,a,o,h,l,c,m){var d=(t+s)/2,p=(e+r)/2,f=(s+n)/2,u=(r+a)/2,g=(n+o)/2,_=(a+h)/2,y=(d+f)/2,v=(p+u)/2,w=(f+g)/2,b=(u+_)/2,x=(y+w)/2,E=(v+b)/2,T=o-t,A=h-e,M=Math.abs((s-o)*A-(r-h)*T),P=Math.abs((n-o)*A-(a-h)*T),S;return c||(c=[{x:t,y:e},{x:o,y:h}],m=1),c.splice(m||c.length-1,0,{x,y:E}),(M+P)*(M+P)>l*(T*T+A*A)&&(S=c.length,i(t,e,d,p,y,v,x,E,l,c,m),i(x,E,w,b,g,_,o,h,l,c,m+1+(c.length-S))),c},bi=function(){function i(e,s,r){Ah||Sa(),this.id=e,this.setData(s,r)}var t=i.prototype;return t.setData=function(s,r){r=r||{},s=s||"0,0,1,1";var n=s.match(Uy),a=1,o=[],h=[],l=r.precision||1,c=l<=1,m,d,p,f,u,g,_,y,v;if(this.data=s,(Vy.test(s)||~s.indexOf("M")&&s.indexOf("C")<0)&&(n=Fy(s)[0]),m=n.length,m===4)n.unshift(0,0),n.push(1,1),m=8;else if((m-2)%6)throw"Invalid CustomEase";for((+n[0]!=0||+n[m-2]!=1)&&qy(n,r.height,r.originY),this.segment=n,f=2;f<m;f+=6)d={x:+n[f-2],y:+n[f-1]},p={x:+n[f+4],y:+n[f+5]},o.push(d,p),jy(d.x,d.y,+n[f],+n[f+1],+n[f+2],+n[f+3],p.x,p.y,1/(l*2e5),o,o.length-1);for(m=o.length,f=0;f<m;f++)_=o[f],y=o[f-1]||_,(_.x>y.x||y.y!==_.y&&y.x===_.x||_===y)&&_.x<=1?(y.cx=_.x-y.x,y.cy=_.y-y.y,y.n=_,y.nx=_.x,c&&f>1&&Math.abs(y.cy/y.cx-o[f-2].cy/o[f-2].cx)>2&&(c=0),y.cx<a&&(y.cx?a=y.cx:(y.cx=.001,f===m-1&&(y.x-=.001,a=Math.min(a,.001),c=0)))):(o.splice(f--,1),m--);if(m=1/a+1|0,u=1/m,g=0,_=o[0],c){for(f=0;f<m;f++)v=f*u,_.nx<v&&(_=o[++g]),d=_.y+(v-_.x)/_.cx*_.cy,h[f]={x:v,cx:u,y:d,cy:0,nx:9},f&&(h[f-1].cy=d-h[f-1].y);h[m-1].cy=o[o.length-1].y-d}else{for(f=0;f<m;f++)_.nx<f*u&&(_=o[++g]),h[f]=_;g<o.length-1&&(h[f-1]=o[o.length-2])}return this.ease=function(w){var b=h[w*m|0]||h[m-1];return b.nx<w&&(b=b.n),b.y+(w-b.x)/b.cx*b.cy},this.ease.custom=this,this.id&&wt&&wt.registerEase(this.id,this.ease),this},t.getSVGData=function(s){return i.getSVGData(this,s)},i.create=function(s,r,n){return new i(s,r,n).ease},i.register=function(s){wt=s,Sa()},i.get=function(s){return wt.parseEase(s)},i.getSVGData=function(s,r){r=r||{};var n=r.width||100,a=r.height||100,o=r.x||0,h=(r.y||0)+a,l=wt.utils.toArray(r.path)[0],c,m,d,p,f,u,g,_,y,v;if(r.invert&&(a=-a,h=0),typeof s=="string"&&(s=wt.parseEase(s)),s.custom&&(s=s.custom),s instanceof i)c=Ny(Iy([s.segment],n,0,0,-a,o,h));else{for(c=[o,h],g=Math.max(5,(r.precision||1)*200),p=1/g,g+=2,_=5/g,y=Li(o+p*n),v=Li(h+s(p)*-a),m=(v-h)/(y-o),d=2;d<g;d++)f=Li(o+d*p*n),u=Li(h+s(d*p)*-a),(Math.abs((u-v)/(f-y)-m)>_||d===g-1)&&(c.push(y,v),m=(u-v)/(f-y)),y=f,v=u;c="M"+c.join(",")}return l&&l.setAttribute("d",c),c},i}();Eh()&&wt.registerPlugin(bi);bi.version="3.12.5";L.registerPlugin(bi);const ht=bi.create("default","0.77, 0, 0.175, 1"),Hy="cubic-bezier(0.77, 0, 0.175, 1)";function tt({element:i,expression:t=" ",append:e=!0}){const s=Yy(i.innerHTML.toString().trim(),t);let r="";at(s,a=>{if(a.indexOf("<br>")>-1){const o=a.split("<br>");at(o,(h,l)=>{r+=l>0?"<br>"+Ds(h):Ds(h)})}else r+=Ds(a)}),i.innerHTML=r;const n=i.querySelectorAll("span");return e&&at(n,a=>{const o=a.textContent.length===1,h=a.innerHTML.trim()!=="",l=a.textContent!=="&",c=a.textContent!=="-";o&&h&&l&&c&&(a.innerHTML=`${a.textContent}&nbsp;`)}),n}function si(i){const t=[];let e=[],s=i[0].offsetTop;return at(i,(r,n)=>{r.offsetTop===s&&e.push(r),r.offsetTop!==s&&(t.push(e),e=[],e.push(r),s=r.offsetTop),n+1===i.length&&t.push(e)}),t}function Yy(i,t){const e=i.split("<br>");let s=[];return at(e,(r,n)=>{n>0&&s.push("<br>"),s=s.concat(r.split(t));let a=!1,o="";const h=[];at(s,l=>{!a&&(l.includes("<a")||l.includes("<strong"))&&(o="",a=!0),a&&(o+=` ${l}`),a&&(l.includes("/a>")||l.includes("/strong>"))&&(h.push(o),o=""),!a&&o===""&&h.push(l),a&&(l.includes("/a>")||l.includes("/strong>"))&&(a=!1)}),s=h}),s}function Ds(i){return i=i.trim(),i===""||i===" "?i:i==="<br>"?"<br>":`<span>${i}</span>`+(i.length>1?" ":"")}class Wy extends Ee{constructor({element:t}){super({classes:{active:"detail--active"},element:t,elements:{media:".detail__media",collection:".detail__information__collection__text",title:".detail__information__title",titleSpans:[],size:".detail__information__highlight:first-of-type .detail__information__highlight__text",sizeIcon:".detail__information__highlight__icon--arrow",sizeIconPaths:".detail__information__highlight__icon--arrow path:nth-child(2), .detail__information__highlight__icon--arrow path:nth-child(3)",sizeIconLine:".detail__information__highlight__icon--arrow path:nth-child(1)",sizeSpans:[],star:".detail__information__highlight:last-of-type .detail__information__highlight__text",starIcon:".detail__information__highlight__icon--star",starIconPath:".detail__information__highlight__icon--star path:first-child",starSpans:[],info:".detail__information__item:first-of-type .detail__information__item__description",infoLabel:".detail__information__item:first-of-type .detail__information__item__title__text",infoSpans:[],disclaimer:".detail__information__item:last-of-type .detail__information__item__description",disclaimerLabel:".detail__information__item:last-of-type .detail__information__item__title__text",disclaimerSpans:[],link:".detail__information__link",close:".detail__button"}}),this.createTitle(),this.createSize(),this.createStar(),this.createInfo(),this.createDisclaimer(),this.onResize()}createTitle(){this.elements.titleSpans=tt({append:!0,element:this.elements.title,expression:"<br>"}),j(this.elements.titleSpans,t=>{tt({append:!1,element:t,expression:""})})}createSize(){tt({append:!0,element:this.elements.size,expression:" "}),tt({append:!1,element:this.elements.size,expression:" "}),this.elements.sizeSpans=this.elements.size.querySelectorAll("span span")}createStar(){tt({append:!0,element:this.elements.star,expression:" "}),tt({append:!1,element:this.elements.star,expression:" "}),this.elements.starSpans=this.elements.star.querySelectorAll("span span")}createInfo(){tt({append:!0,element:this.elements.info,expression:" "}),tt({append:!1,element:this.elements.info,expression:" "}),this.elements.infoSpans=this.elements.info.querySelectorAll("span span")}createDisclaimer(){tt({append:!0,element:this.elements.disclaimer,expression:" "}),tt({append:!1,element:this.elements.disclaimer,expression:" "}),this.elements.disclaimerSpans=this.elements.disclaimer.querySelectorAll("span span")}animateIn(){this.timelineIn=L.timeline({delay:.5}),this.timelineIn.call(t=>{this.element.classList.add(this.classes.active)}),this.timelineIn.fromTo(this.elements.collection,{y:"100%"},{duration:1,ease:ht,y:"0%"},"start"),j(this.elements.titleSpans,(t,e)=>{const s=t.querySelectorAll("span"),r=n=>{L.fromTo(s,{autoAlpha:0,display:"inline-block",y:"100%"},{autoAlpha:1,delay:.2,display:"inline-block",duration:1,ease:"back.inOut",stagger:.015,y:"0%"})};this.timelineIn.fromTo(t,{autoAlpha:0,y:"100%"},{autoAlpha:1,delay:.2*e,duration:1.5,onStart:r,ease:"expo.inOut",y:"0%"},"start")}),j(this.elements.sizeLines,(t,e)=>{this.timelineIn.fromTo(t,{y:"100%"},{delay:.05*e,duration:1,ease:ht,y:"0%"},"-=0.9")}),this.timelineIn.fromTo(this.elements.sizeIcon,{autoAlpha:0,rotation:45},{autoAlpha:1,duration:1,ease:ht,rotation:0},"-=0.9"),this.timelineIn.fromTo(this.elements.sizeIconPaths[0],{autoAlpha:0,transformOrigin:"50% 50%",x:"-50%"},{autoAlpha:1,duration:1.5,ease:ht,transformOrigin:"50% 50%",x:"0%"},"-=0.9"),this.timelineIn.fromTo(this.elements.sizeIconPaths[1],{autoAlpha:0,transformOrigin:"50% 50%",x:"50%"},{autoAlpha:1,duration:1.5,ease:ht,transformOrigin:"50% 50%",x:"0%"},"-=1.5"),this.timelineIn.fromTo(this.elements.sizeIconLine,{autoAlpha:0,scale:0,transformOrigin:"50% 50%"},{autoAlpha:1,duration:1.5,ease:ht,scale:1,transformOrigin:"50% 50%"},"-=1.5"),j(this.elements.starLines,(t,e)=>{this.timelineIn.fromTo(t,{y:"100%"},{delay:.05*e,duration:1,ease:ht,y:"0%"},"-=0.9")}),this.timelineIn.fromTo(this.elements.starIcon,{autoAlpha:0,rotation:360},{autoAlpha:1,duration:1,ease:ht,rotation:0},"-=0.9"),this.timelineIn.fromTo(this.elements.starIconPath,{autoAlpha:0,scale:.5,transformOrigin:"50% 50%"},{autoAlpha:1,duration:1,ease:ht,scale:1,transformOrigin:"50% 50%"},"-=0.9"),this.timelineIn.fromTo(this.elements.infoLabel,{y:"100%"},{duration:1,ease:ht,y:"0%"},"-=1.4"),j(this.elements.infoLines,(t,e)=>{this.timelineIn.fromTo(t,{y:"100%"},{delay:.05*e,duration:1,ease:ht,y:"0%"},"-=1")}),this.timelineIn.fromTo(this.elements.disclaimerLabel,{y:"100%"},{duration:1,ease:ht,y:"0%"},"-=0.95"),j(this.elements.disclaimerLines,(t,e)=>{this.timelineIn.fromTo(t,{y:"100%"},{delay:.05*e,duration:1,ease:ht,y:"0%"},"-=1")}),this.timelineIn.fromTo(this.elements.link,{y:"100%"},{duration:1,ease:ht,y:"0%"},"-=0.95")}animateOut(){this.element.classList.remove(this.classes.active)}onClose(){this.emit("close")}onResize(){this.bounds=this.elements.media.getBoundingClientRect(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{this.elements.sizeLines=si(this.elements.sizeSpans),this.elements.starLines=si(this.elements.starSpans),this.elements.infoLines=si(this.elements.infoSpans),this.elements.disclaimerLines=si(this.elements.disclaimerSpans)})})}addEventListeners(){this.elements.close.addEventListener("click",this.onClose)}}let Xy=class extends Ee{constructor({detail:t,element:e,geometry:s,gl:r,index:n,scene:a,sizes:o}){super({element:e,elements:{image:".collections__gallery__media__image"}}),this.detail=t,this.geometry=s,this.gl=r,this.index=n,this.scene=a,this.sizes=o,this.animation=0,this.group=new he,this.frame=0,this.opacity={current:0,target:0,lerp:.1,multiplier:0},this.createDetail(),this.createJewlery(),this.createModel(),this.createBounds({sizes:this.sizes}),this.original=-this.sizes.width/2+this.jewlery.scale.x/2+this.x*this.sizes.width,this.group.setParent(this.scene)}createDetail(){this.detailDOM=new Wy({element:this.detail}),this.detailDOM.on("close",this.animateOut.bind(this))}createJewlery(){const t=new Ui(this.gl,{fragment:Ea,vertex:Ta,uniforms:{uAlpha:{value:0},tMap:{value:window.TEXTURES[this.elements.image.getAttribute("data-src")]}}});this.jewlery=new Vi(this.gl,{geometry:this.geometry,program:t}),this.jewlery.index=this.index,this.jewlery.setParent(this.group)}createModel(){const t=new Ui(this.gl,{fragment:Ea,vertex:Ta,uniforms:{uAlpha:{value:0},tMap:{value:window.TEXTURES[this.elements.image.getAttribute("data-model-src")]}}});this.model=new Vi(this.gl,{geometry:this.geometry,program:t}),this.model.rotation.y=Math.PI,this.model.setParent(this.group)}createBounds({sizes:t}){this.sizes=t,this.collectionsBounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX()}show(){L.to(this.opacity,{delay:.5,multiplier:1})}hide(){L.to(this.opacity,{multiplier:0}),this.detailDOM.animateOut()}onResize(t,e){this.detailDOM.onResize(),this.createBounds(t),this.updateX(e&&e.x)}animateIn(){L.to(this,{animation:1,duration:2,ease:"expo.inOut"}),this.detailDOM.animateIn(),this.emit("open",this.index)}animateOut(){L.to(this,{animation:0,duration:2,ease:"expo.inOut"}),this.detailDOM.animateOut(),this.emit("close",this.index)}updateScale(){const t=L.utils.interpolate(this.collectionsBounds.height,this.detailDOM.bounds.height,this.animation),e=L.utils.interpolate(this.collectionsBounds.width,this.detailDOM.bounds.width,this.animation);this.height=t/window.innerHeight,this.width=e/window.innerWidth,this.jewlery.scale.x=this.sizes.width*this.width,this.jewlery.scale.y=this.sizes.height*this.height,this.model.scale.x=this.sizes.width*this.width,this.model.scale.y=this.sizes.height*this.height}updateX(t=0){const e=L.utils.interpolate(this.collectionsBounds.left+t,this.detailDOM.bounds.left,this.animation);this.x=e/window.innerWidth,this.group.position.x=-this.sizes.width/2+this.jewlery.scale.x/2+this.x*this.sizes.width,this.group.position.z=L.utils.interpolate(0,.1,this.animation),this.group.rotation.y=L.utils.interpolate(0,2*Math.PI,this.animation)}update(t,e){this.updateScale(),this.updateX(t);const s=500,r=.5,n=Math.sin(this.original/10*(Math.PI*2)+this.frame/s)*r,a=0;this.animation>.01?(this.jewlery.program.depthTest=!1,this.jewlery.program.depthWrite=!1,this.model.program.depthTest=!1,this.model.program.depthWrite=!1):(this.jewlery.program.depthTest=!0,this.jewlery.program.depthWrite=!0,this.model.program.depthTest=!0,this.model.program.depthWrite=!0),this.group.position.y=L.utils.interpolate(n,a,this.animation);const o=L.utils.mapRange(-this.sizes.width*.25,this.sizes.width*.25,this.group.position.y*.3,-this.group.position.y*.3,this.group.position.x),h=Math.PI*.01;this.group.rotation.z=L.utils.interpolate(o,h,this.animation),this.opacity.target=e===this.index?1:.4,this.opacity.current=L.utils.interpolate(this.opacity.current,this.opacity.target,this.opacity.lerp),this.jewlery.program.uniforms.uAlpha.value=this.opacity.multiplier*this.opacity.current,this.model.program.uniforms.uAlpha.value=this.opacity.multiplier*this.opacity.current,this.frame+=1}},Ky=class{constructor({camera:t,gl:e,renderer:s,scene:r,sizes:n,transition:a}){this.id="collections",this.camera=t,this.gl=e,this.renderer=s,this.scene=r,this.sizes=n,this.transition=a,this.transformPrefix=Ye("transform"),this.group=new he,this.galleryWrapperElement=document.querySelector(".collections__gallery__wrapper"),this.titlesElement=document.querySelector(".collections__titles"),this.titlesItemsElements=document.querySelectorAll(".collections__titles__wrapper:nth-child(2) .collections__titles__item"),this.collectionsElement=document.querySelector(".collections"),this.collectionsElements=document.querySelectorAll(".collections__article"),this.collectionsElementsLinks=document.querySelectorAll(".collections__gallery__link"),this.collectionsElementsActive="collections__article--active",this.detailsElements=document.querySelectorAll(".detail"),this.mediasElements=document.querySelectorAll(".collections__gallery__media"),this.mouse=new xe,this.scroll={current:0,start:0,target:0,lerp:.1,velocity:1},this.createRaycast(),this.createGeometry(),this.createGallery(),this.onResize({sizes:this.sizes})}createRaycast(){this.raycast=new Ef(this.gl)}createGeometry(){this.geometry=new yi(this.gl)}createGallery(){this.medias=j(this.mediasElements,(t,e)=>{const s=new Xy({detail:this.detailsElements[e],element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.group,sizes:this.sizes});return s.on("open",this.onOpen.bind(this)),s.on("close",this.onClose.bind(this)),s}),this.mediasMeshes=j(this.medias,t=>t.jewlery)}async show(){if(this.isVisible=!0,this.group.setParent(this.scene),this.transition){const{src:t}=this.transition.mesh.program.uniforms.tMap.value.image,e=window.TEXTURES[t],s=this.medias.find(n=>n.texture===e),r=-s.bounds.left-s.bounds.width/2+window.innerWidth/2;this.update(),this.transition.animate({position:{x:0,y:s.mesh.position.y,z:0},rotation:s.mesh.rotation,scale:s.mesh.scale},()=>{s.opacity.multiplier=1,j(this.medias,n=>{s!==n&&n.show()}),this.scroll.current=this.scroll.target=this.scroll.start=this.scroll.last=r})}else j(this.medias,t=>t.show())}hide(){document.body.style.cursor="",this.isVisible=!1,this.group.setParent(null),j(this.medias,t=>t.hide())}onOpen(t){this.isVisible=!1,this.collectionsElement.classList.add("collections--open"),j(this.medias,(e,s)=>{s===t?e.show():e.hide()})}onClose(){this.isVisible=!0,this.collectionsElement.classList.remove("collections--open"),j(this.medias,t=>{t.show()})}onResize(t){this.sizes=t.sizes,this.bounds=this.galleryWrapperElement.getBoundingClientRect(),this.scroll.last=this.scroll.target=0,j(this.medias,e=>e.onResize(t,this.scroll)),j(this.collectionsElementsLinks,(e,s)=>{e.bounds=Be(e)}),j(this.titlesItemsElements,e=>{e.bounds=Be(e)}),this.scroll.limit=this.bounds.width-this.medias[0].element.clientWidth}onTouchDown({x:t,y:e}){this.isVisible&&(this.isDown=!0,this.scroll.last=this.scroll.current)}onTouchMove({x:t,y:e}){if(!this.isVisible)return;this.mouse.set(2*(t.end/this.renderer.width)-1,2*(1-e.end/this.renderer.height)-1),this.raycast.castMouse(this.camera,this.mouse);const[s]=this.raycast.intersectBounds(this.mediasMeshes);if(this.hit=s?s.index:null,this.hit!==null&&this.index===this.hit?document.body.style.cursor="pointer":document.body.style.cursor="",!this.isDown)return;const r=t.start-t.end;this.scroll.target=this.scroll.last-r}onTouchUp({x:t,y:e}){this.isVisible&&(this.isDown=!1,this.hit!==null&&this.index===this.hit&&this.medias[this.hit].animateIn())}onWheel({pixelY:t}){this.isVisible&&(this.scroll.target+=t)}onChange(t){this.index=t;const e=parseInt(this.mediasElements[this.index].getAttribute("data-index"));j(this.collectionsElements,(s,r)=>{r===e?s.classList.add(this.collectionsElementsActive):s.classList.remove(this.collectionsElementsActive)})}onUpdateTitle(){const t={0:0,1:0,2:0,3:0,4:0};j(this.collectionsElementsLinks,(r,n)=>{const a=r.getAttribute("data-index");t[a]+=r.bounds.width});const e=[L.utils.clamp(0,1,L.utils.mapRange(0,t[0],0,1,-this.scroll.current)),L.utils.clamp(0,1,L.utils.mapRange(0,t[1],0,1,-this.scroll.current-t[0])),L.utils.clamp(0,1,L.utils.mapRange(0,t[2],0,1,-this.scroll.current-t[0]-t[1])),L.utils.clamp(0,1,L.utils.mapRange(0,t[3],0,1,-this.scroll.current-t[0]-t[1]-t[2]))];let s=0;j(this.titlesItemsElements,(r,n)=>{s+=r.bounds.height*e[n]}),this.titlesElement.style[this.transformPrefix]=`translateY(calc(-${s}px - 33.33% + ${window.innerHeight*.5}px))`}update(){this.scroll.target=L.utils.clamp(-this.scroll.limit,0,this.scroll.target),this.scroll.current=L.utils.interpolate(this.scroll.current,this.scroll.target,this.scroll.lerp),this.scroll.last<this.scroll.current?this.scroll.direction="right":this.scroll.last>this.scroll.current&&(this.scroll.direction="left"),this.scroll.last=this.scroll.current;const t=Math.floor(Math.abs((this.scroll.current-this.medias[0].collectionsBounds.width/2)/this.scroll.limit)*(this.medias.length-1));this.index!==t&&this.onChange(t),this.onUpdateTitle(),j(this.medias,(e,s)=>{e.update(this.scroll.current,this.index)})}destroy(){this.scene.removeChild(this.group)}};const Zy=`precision highp float;
#define GLSLIFY 1

uniform float uAlpha;
uniform sampler2D tMap;

varying vec2 vUv;

void main() {
  vec4 texture = texture2D(tMap, vUv);

  gl_FragColor = texture;
  gl_FragColor.a *= uAlpha;
}
`,Qy=`#define GLSLIFY 1
#define PI 3.1415926535897932384626433832795

attribute vec3 position;
attribute vec2 uv;

uniform float uSpeed;
uniform vec2 uViewportSizes;

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;

varying float speed;
varying vec2 vUv;

void main() {
  vUv = uv;

  vec4 newPosition = modelViewMatrix * vec4(position, 1.0);

  newPosition.z += (sin(newPosition.y / uViewportSizes.y * PI + PI / 2.0)) * uSpeed;

  gl_Position = projectionMatrix * newPosition;
}
`;class Jy{constructor({element:t,geometry:e,gl:s,index:r,scene:n,sizes:a}){this.element=t,this.geometry=e,this.gl=s,this.index=r,this.scene=n,this.sizes=a,this.extra={x:0,y:0},this.createTexture(),this.createProgram(),this.createMesh(),this.createBounds({sizes:this.sizes})}createTexture(){const t=this.element;this.texture=window.TEXTURES[t.getAttribute("data-src")]}createProgram(){this.program=new Ui(this.gl,{fragment:Zy,vertex:Qy,uniforms:{uAlpha:{value:0},uSpeed:{value:0},uViewportSizes:{value:[this.sizes.width,this.sizes.height]},tMap:{value:this.texture}}})}createMesh(){this.mesh=new Vi(this.gl,{geometry:this.geometry,program:this.program}),this.mesh.setParent(this.scene),this.mesh.rotation.z=L.utils.random(-Math.PI*.03,Math.PI*.03)}createBounds({sizes:t}){this.sizes=t,this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY()}show(t){const e=t?2.5:0;this.timelineIn=L.timeline({delay:L.utils.random(e,e+1.5)}),this.timelineIn.fromTo(this.program.uniforms.uAlpha,{value:0},{duration:2,ease:"expo.inOut",value:.4},"start"),this.timelineIn.fromTo(this.mesh.position,{z:L.utils.random(2,6)},{duration:2,ease:"expo.inOut",z:0},"start")}hide(){}onResize(t,e){this.extra={x:0,y:0},this.createBounds(t),this.updateX(e&&e.x),this.updateY(e&&e.y)}updateScale(){this.height=this.bounds.height/window.innerHeight,this.width=this.bounds.width/window.innerWidth,this.mesh.scale.x=this.sizes.width*this.width,this.mesh.scale.y=this.sizes.height*this.height}updateX(t=0){this.x=(this.bounds.left+t)/window.innerWidth,this.mesh.position.x=-this.sizes.width/2+this.mesh.scale.x/2+this.x*this.sizes.width+this.extra.x}updateY(t=0){this.y=(this.bounds.top+t)/window.innerHeight,this.mesh.position.y=this.sizes.height/2-this.mesh.scale.y/2-this.y*this.sizes.height+this.extra.y}update(t,e){this.updateX(),this.updateY(t.y),this.program.uniforms.uSpeed.value=e}}let tw=class{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.sizes=s,this.group=new he,this.galleryElement=document.querySelector(".home__gallery"),this.mediasElements=document.querySelectorAll(".home__gallery__media__image"),this.y={current:0,target:0,lerp:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.speed={current:0,target:0,lerp:.1},this.velocity=2,this.createGeometry(),this.createGallery(),this.onResize({sizes:this.sizes}),Ne&&this.createDebug()}createGeometry(){this.geometry=new yi(this.gl,{heightSegments:20,widthSegments:20})}createGallery(){this.medias=rt(this.mediasElements,(t,e)=>new Jy({element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.group,sizes:this.sizes}))}show(t){this.group.setParent(this.scene),rt(this.medias,e=>e.show(t))}hide(){this.group.setParent(null),rt(this.medias,t=>t.hide())}onResize(t){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=t.sizes,this.gallerySizes={height:this.galleryBounds.height/window.innerHeight*this.sizes.height,width:this.galleryBounds.width/window.innerWidth*this.sizes.width},this.scroll.y=this.y.target=0,rt(this.medias,e=>e.onResize(t,this.scroll))}onTouchDown(){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({y:t}){const e=t.start-t.end;this.y.target=this.scrollCurrent.y-e}onTouchUp(){}onWheel({pixelY:t}){this.y.target+=t,this.velocity=t>0?2:-2}createDebug(){const t=Ne.addFolder("Home");t.add(this,"velocity").min(0).max(10).step(.01),t.add(this.y,"lerp").min(0).max(1).step(.01).name("Y Lerp"),t.add(this.speed,"lerp").min(0).max(1).step(.01).name("Speed Lerp"),t.add(this,"show").name("Show Gallery"),t.add(this,"hide").name("Hide Gallery")}update(){this.y.target+=this.velocity,this.speed.target=(this.y.target-this.y.current)*.001,this.speed.current=L.utils.interpolate(this.speed.current,this.speed.target,this.speed.lerp),this.y.current=L.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),this.scroll.y=this.y.current,rt(this.medias,t=>{const e=this.sizes.height*.5,s=t.mesh.scale.y/2;this.y.direction==="top"?t.mesh.position.y+s<-e&&(t.extra.y+=this.gallerySizes.height):this.y.direction==="bottom"&&t.mesh.position.y-s>e&&(t.extra.y-=this.gallerySizes.height),t.update(this.scroll,this.speed.current)})}destroy(){this.scene.removeChild(this.group)}};class ew{constructor({template:t}){this.template=t,this.x={start:0,distance:0,end:0},this.y={start:0,distance:0,end:0},this.createRenderer(),this.createCamera(),this.createScene(),this.onResize()}createRenderer(){this.renderer=new Zu({alpha:!0,antialias:!0}),this.gl=this.renderer.gl,document.body.appendChild(this.gl.canvas)}createCamera(){this.camera=new Bd(this.gl),this.camera.position.z=5}createScene(){this.scene=new he}createHome(){this.home=new tw({gl:this.gl,scene:this.scene,sizes:this.sizes})}createAbout(){this.about=new by({gl:this.gl,scene:this.scene,sizes:this.sizes})}createCollections(){this.collections=new Ky({camera:this.camera,gl:this.gl,renderer:this.renderer,scene:this.scene,sizes:this.sizes,transition:this.transition})}onPreloaded(){this.createAbout(),this.createCollections(),this.createHome(),this.onChange(this.template,!0)}onChange(t,e){t==="/about"?this.about.show(e):this.about.hide(),t==="/collections"?this.collections.show(e):this.collections.hide(),t==="/"?this.home.show(e):this.home.hide(),this.template=t}onResize(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.perspective({aspect:window.innerWidth/window.innerHeight});const t=this.camera.fov*(Math.PI/180),e=2*Math.tan(t/2)*this.camera.position.z,s=e*this.camera.aspect;this.sizes={height:e,width:s};const r={sizes:this.sizes};this.about&&this.about.onResize(r),this.collections&&this.collections.onResize(r),this.home&&this.home.onResize(r)}onTouchDown(t){this.isDown=!0,this.x.start=t.touches?t.touches[0].clientX:t.clientX,this.y.start=t.touches?t.touches[0].clientY:t.clientY;const e={x:this.x,y:this.y};this.about&&this.about.onTouchDown(e),this.collections&&this.collections.onTouchDown(e),this.home&&this.home.onTouchDown(e)}onTouchMove(t){const e=t.touches?t.touches[0].clientX:t.clientX,s=t.touches?t.touches[0].clientY:t.clientY;this.x.end=e,this.y.end=s;const r={x:this.x,y:this.y};this.collections&&this.collections.onTouchMove(r),this.isDown&&(this.about&&this.about.onTouchMove(r),this.home&&this.home.onTouchMove(r))}onTouchUp(t){this.isDown=!1;const e=t.changedTouches?t.changedTouches[0].clientX:t.clientX,s=t.changedTouches?t.changedTouches[0].clientY:t.clientY;this.x.end=e,this.y.end=s;const r={x:this.x,y:this.y};this.about&&this.about.onTouchUp(r),this.collections&&this.collections.onTouchUp(r),this.home&&this.home.onTouchUp(r)}onWheel(t){this.collections&&this.collections.onWheel(t),this.home&&this.home.onWheel(t)}update(t){this.about&&this.about.update(t),this.collections&&this.collections.update(),this.home&&this.home.update(),this.renderer.render({camera:this.camera,scene:this.scene})}}class qr{constructor({element:t,elements:e}){Zi(this);const{animationDelay:s,animationTarget:r}=t.dataset;this.delay=s,this.element=t,this.elements=e,this.target=r?t.closest(r):t,this.transformPrefix=Ye("transform"),this.isVisible=!1,"IntersectionObserver"in window?(this.createObserver(),this.animateOut()):this.animateIn()}createObserver(){this.observer=new window.IntersectionObserver(t=>{t.forEach(e=>{!this.isVisible&&e.isIntersecting?this.animateIn():this.animateOut()})}).observe(this.target)}animateIn(){this.isVisible=!0}animateOut(){this.isVisible=!1}}class Th extends qr{constructor({element:t}){super({element:t,elements:{}});const{innerHTML:e}=this.element.querySelector("span");this.elements.text=document.createElement("div"),this.elements.text.innerHTML=e,this.elements.textSpans=tt({append:!1,element:this.elements.text,expression:""}),this.elements.hover=document.createElement("div"),this.elements.hover.innerHTML=e,this.elements.hoverSpans=tt({append:!1,element:this.elements.hover,expression:""}),this.element.innerHTML="",this.element.appendChild(this.elements.text),this.element.appendChild(this.elements.hover),this.element.getAttribute("data-animation-position")==="center"?L.set(this.elements.hover,{left:"50%",position:"absolute",top:"50%",x:"-50%",y:"-50%"}):L.set(this.elements.hover,{left:0,position:"absolute",top:0}),this.timeline=L.timeline({paused:!0}),this.timeline.to(this.elements.textSpans,{duration:.5,ease:"power2",transform:"rotate3d(1, 0.2, 0, -90deg)",stagger:.02},0),this.timeline.fromTo(this.elements.hoverSpans,{transform:"rotate3d(1, 0.2, 0, 90deg)"},{duration:.5,ease:"power2",transform:"rotate3d(0, 0, 0, 90deg)",stagger:.02},.05),this.addEventListener()}onMouseEnter(){this.timeline.play()}onMouseLeave(){this.timeline.reverse()}addEventListener(){this.element.addEventListener("mouseenter",this.onMouseEnter),this.element.addEventListener("mouseleave",this.onMouseLeave)}removeEventListener(){this.element.addEventListener("mouseenter",this.onMouseEnter),this.element.addEventListener("mouseleave",this.onMouseLeave)}}const iw="#37384C",sw="#F9F1E7";class rw extends Ee{constructor({template:t}){super({element:".navigation",elements:{items:".navigation__list__item",links:".navigation__list__link"}}),this.links=j(this.elements.links,e=>new Th({element:e})),this.onChange(t)}onChange(t){t==="/about"?(L.set(this.element,{color:iw}),L.set(this.elements.items[0],{autoAlpha:1}),L.set(this.elements.items[1],{autoAlpha:0})):(L.set(this.element,{color:sw}),L.set(this.elements.items[0],{autoAlpha:0}),L.set(this.elements.items[1],{autoAlpha:1}))}}class nw extends Ee{constructor({canvas:t}){super({element:".preloader",elements:{title:".preloader__text",number:".preloader__number",numberText:".preloader__number__text"}}),this.canvas=t,window.TEXTURES={},this.elements.titleSpans=tt({append:!0,element:this.elements.title,expression:"<br>"}),at(this.elements.titleSpans,e=>{tt({append:!1,element:e,expression:" "})}),this.length=0,this.createLoader()}createLoader(){this.animateIn=L.timeline(),this.animateIn.set(this.elements.title,{autoAlpha:1}),at(this.elements.titleSpans,(t,e)=>{const s=t.querySelectorAll("span"),r=()=>{L.fromTo(s,{autoAlpha:0,display:"inline-block",y:"100%"},{autoAlpha:1,delay:.2,display:"inline-block",duration:1,ease:"back.inOut",stagger:.015,y:"0%"})};this.animateIn.fromTo(t,{autoAlpha:0,y:"100%"},{autoAlpha:1,delay:.2*e,duration:1.5,onStart:r,ease:"expo.inOut",y:"0%"},"start")}),this.animateIn.call(()=>{window.ASSETS.forEach(t=>{const e=new tf(this.canvas.gl,{generateMipmaps:!1}),s=new window.Image;s.crossOrigin="anonymous",s.src=t,s.onload=()=>{e.image=s,this.onAssetLoaded()},window.TEXTURES[t]=e})})}onAssetLoaded(){this.length+=1;const t=this.length/window.ASSETS.length;this.elements.numberText.innerHTML=`${Math.round(t*100)}%`,t===1&&this.onLoaded()}onLoaded(){return new Promise(()=>{this.emit("completed"),this.animateOut=L.timeline({delay:1}),at(this.elements.titleSpans,(t,e)=>{const s=t.querySelectorAll("span"),r=()=>{L.to(s,{autoAlpha:0,delay:.2,display:"inline-block",duration:1,ease:"back.inOut",stagger:.015,y:"-100%"})};this.animateOut.to(t,{autoAlpha:0,delay:.2*e,duration:1.5,onStart:r,ease:"expo.inOut",y:"-100%"},"start")}),this.animateOut.to(this.elements.numberText,{autoAlpha:0,duration:1,ease:ht},"start"),this.animateOut.to(this.element,{autoAlpha:0,duration:1}),this.animateOut.call(()=>{this.destroy()})})}destroy(){this.element.parentNode.removeChild(this.element)}}class aw{constructor(){this.element=document.createElement("canvas"),this.element.className="transition",this.element.height=window.innerHeight*window.devicePixelRatio,this.element.width=window.innerWidth*window.devicePixelRatio,this.context=this.element.getContext("2d"),this.progress=0,document.body.appendChild(this.element)}show({color:t}){return this.color=t,new Promise(e=>{L.set(this.element,{rotation:0}),L.to(this,{duration:1.5,ease:"expo.inOut",onComplete:e,onUpdate:this.onUpdate.bind(this),progress:1})})}hide(){return new Promise(t=>{L.set(this.element,{rotation:180}),L.to(this,{duration:1.5,ease:"expo.inOut",onComplete:t,onUpdate:this.onUpdate.bind(this),progress:0})})}onUpdate(){this.context.clearRect(0,0,this.element.width,this.element.height),this.context.save(),this.context.beginPath(),this.widthSegments=Math.ceil(this.element.width/40),this.context.moveTo(this.element.width,this.element.height),this.context.lineTo(0,this.element.height);const t=(1-this.progress)*this.element.height,e=250*Math.sin(this.progress*Math.PI);this.context.lineTo(0,t);for(let s=0;s<=this.widthSegments;s++){const r=40*s,n=t-Math.sin(r/this.element.width*Math.PI)*e;this.context.lineTo(r,n)}this.context.fillStyle=this.color,this.context.fill(),this.context.restore()}}class ow extends Ee{constructor({element:t}){super({element:t}),this.createText(),this.createPath()}createText(){const t=this.element.textContent;this.elements.wrapper=this.element.querySelector("span"),this.elements.text=document.createElement("div"),this.elements.text.innerHTML=t,this.elements.textSpans=tt({append:!1,element:this.elements.text,expression:""}),this.elements.hover=document.createElement("div"),this.elements.hover.innerHTML=t,this.elements.hoverSpans=tt({append:!1,element:this.elements.hover,expression:""}),this.elements.wrapper.innerHTML="",this.elements.wrapper.appendChild(this.elements.text),this.elements.wrapper.appendChild(this.elements.hover),L.set(this.elements.hover,{left:0,position:"absolute",top:0}),this.timeline=L.timeline({paused:!0}),this.timeline.to(this.elements.textSpans,{duration:.5,ease:ht,transform:"rotate3d(1, 0.1, 0, -90deg)",stagger:.01},0),this.timeline.fromTo(this.elements.hoverSpans,{transform:"rotate3d(1, 0.1, 0, 90deg)"},{duration:.5,ease:ht,transform:"rotate3d(0, 0, 0, 90deg)",stagger:.01},.05)}createPath(){this.path=this.element.querySelector("path:last-child"),this.pathLength=this.path.getTotalLength(),this.pathValue=this.pathLength,L.set(this.path,{strokeDashoffset:this.pathLength,strokeDasharray:`${this.pathLength} ${this.pathLength}`})}onMouseEnter(){this.pathValue-=this.pathLength,L.to(this.path,{duration:1,ease:ht,strokeDashoffset:this.pathValue}),this.timeline.play()}onMouseLeave(){this.pathValue-=this.pathLength,L.to(this.path,{duration:1,ease:ht,strokeDashoffset:this.pathValue}),this.timeline.reverse()}addEventListeners(){this.onMouseEnterEvent=this.onMouseEnter.bind(this),this.onMouseLeaveEvent=this.onMouseLeave.bind(this),this.element.addEventListener("mouseenter",this.onMouseEnterEvent),this.element.addEventListener("mouseleave",this.onMouseLeaveEvent)}removeEventListeners(){this.element.removeEventListener("mouseenter",this.onMouseEnterEvent),this.element.removeEventListener("mouseleave",this.onMouseLeaveEvent)}}const Mh=813;function Sh(i,t,e){return L.utils.interpolate(i,t,e)}function fr(i,t,e,s,r){return L.utils.mapRange(t,e,s,r,i)}function pr(i,t,e){return L.utils.clamp(i,t,e)}class hw{constructor({element:t}){this.transform=Ye("transform"),this.element=t,this.media=t.querySelector("img"),this.media.onload=()=>{this.onResize()},this.isVisible=!1,this.parallax={current:-this.amount,target:-this.amount},this.scale={current:1.15,target:1.15},this.onResize()}onResize(){this.amount=window.innerWidth<Mh?10:50,this.offset=Be(this.element)}update(t){if(!this.offset)return;const{innerHeight:e}=window;t.current+e>=this.offset.top?(this.parallax=pr(-this.amount,this.amount,fr(this.offset.top-t.current,-this.offset.height,e,this.amount,-this.amount)),this.scale=pr(1,1.15,fr(this.offset.top-t.current,-this.offset.height,e,1,1.15)),this.media.style[this.transform]=`translate3d(0, ${this.parallax}px, 0) scale(${this.scale})`):this.media.style[this.transform]=`translate3d(0, -${this.amount}px, 0) scale(1.15)`}}class lw extends qr{constructor({element:t}){const e=[],s=t.querySelectorAll("h1, h2, p");s.length!==0?at(s,r=>{tt({element:r}),tt({element:r}),e.push(...r.querySelectorAll("span span"))}):(tt({element:t}),tt({element:t}),e.push(...t.querySelectorAll("span span"))),super({element:t,elements:{lines:e}}),this.onResize(),"IntersectionObserver"in window&&this.animateOut()}animateIn(){super.animateIn(),at(this.lines,(t,e)=>{at(t,s=>{s.style.transition=`transform 1.5s ${e*.1}s ${Hy}`,s.style[this.transformPrefix]="translateY(0)"})})}animateOut(){super.animateOut(),at(this.lines,t=>{at(t,e=>{e.style[this.transformPrefix]="translateY(100%)"})})}onResize(){this.lines=si(this.elements.lines)}}class cw extends qr{constructor({element:t}){super({element:t})}update(t){this.element.style[this.transformPrefix]=`rotate(${t.current*.25}deg)`}}class uw{constructor({element:t}){this.transform=Ye("transform"),this.element=t,this.targetElement=this.element.getAttribute("data-animation-target"),this.target=this.targetElement?t.parentNode.querySelector(this.targetElement):t,this.direction=this.element.getAttribute("data-animation-direction"),this.isVisible=!1,this.onResize(),this.parallax={current:-this.amount,target:-this.amount}}onResize(){this.amount=window.innerWidth<Mh?10:50,this.offset=Be(this.target)}update(t){if(this.isVideo)return;const{innerHeight:e}=window;t.current+e>=this.offset.top?(this.parallax=fr(this.offset.top-t.current,-this.offset.height,e,this.amount,-this.amount),this.direction==="left"?(this.parallax*=-1,this.parallax=Math.min(this.parallax,0)):this.parallax=Math.max(this.parallax,0),this.element.style[this.transform]=`translate3d(0, ${this.parallax}px, 0)`):this.element.style[this.transform]=`translate3d(0, ${this.amount}px, 0)`}}class dw extends Ee{constructor({element:e}){super({element:e});Lt(this,"observer");Lt(this,"element");this.element=e,this.createObserver()}createObserver(){this.observer=new window.IntersectionObserver(e=>{e.forEach(s=>{if(s.isIntersecting){const r=this.element.getAttribute("data-src");!this.element.src&&r&&(this.element.src=r,this.element.onload=()=>{this.element.classList.add("loaded"),this.observer.unobserve(this.element)})}})}),this.observer.observe(this.element)}}class hs extends xh{constructor({classes:t,element:e,elements:s,isScrollable:r=!0}){super(),Zi(this),this.classes={...t},this.selectors={element:e,elements:{preloaders:"[data-src]",animationsButtons:'[data-animation="button"]',animationsLinks:'[data-animation="link"]',animationsParallaxes:'[data-animation="parallax"]',animationsParagraphs:'[data-animation="paragraph"]',animationsRotations:'[data-animation="rotation"]',animationsTranslates:'[data-animation="translate"]',footer:".footer",footerCredits:".footer__credits",...s}},this.scroll={ease:.07,position:0,current:0,target:0,limit:0},this.isScrollable=r,this.transformPrefix=Ye("transform"),this.create()}create(){this.animations=[],this.element=document.querySelector(this.selectors.element),this.elements={},at(this.selectors.elements,(t,e)=>{t instanceof window.HTMLElement||t instanceof window.NodeList?this.elements[e]=t:Array.isArray(t)?this.elements[e]=t:(this.elements[e]=this.element.querySelectorAll(t),this.elements[e].length===0?this.elements[e]=null:this.elements[e].length===1&&(this.elements[e]=this.element.querySelector(t)))}),this.isScrollable&&(this.scroll={ease:.07,position:0,current:0,target:0,limit:this.elements.wrapper.clientHeight-window.innerHeight}),this.createAnimations(),this.createObserver(),this.createPreloaders()}createAnimations(){this.animationsButtons=j(this.elements.animationsButtons,t=>new ow({element:t})),this.animations.push(...this.animationsButtons),this.animationsLinks=j(this.elements.animationsLinks,t=>new Th({element:t})),this.animations.push(...this.animationsLinks),this.animationsParallaxes=j(this.elements.animationsParallaxes,t=>new hw({element:t})),this.animations.push(...this.animationsParallaxes),this.animationsRotations=j(this.elements.animationsRotations,t=>new cw({element:t})),this.animations.push(...this.animationsRotations),this.animationsParagraphs=j(this.elements.animationsParagraphs,t=>new lw({element:t})),this.animations.push(...this.animationsParagraphs),this.animationsTranslates=j(this.elements.animationsTranslates,t=>new uw({element:t})),this.animations.push(...this.animationsTranslates)}createObserver(){this.observer=new window.ResizeObserver(t=>{let e=!1;for(const s of t)if(s.target===this.elements.wrapper){e=!0;break}e&&window.requestAnimationFrame(()=>{this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight})}),this.observer.observe(this.elements.wrapper)}createPreloaders(){this.preloaders=j(this.elements.preloaders,t=>new dw({element:t}))}reset(){this.scroll={ease:.07,position:0,current:0,target:0,limit:0}}set(t){this.scroll.current=this.scroll.target=this.scroll.last=t,this.transform(this.elements.wrapper,this.scroll.current)}show(t){return this.reset(),this.isVisible=!0,this.addEventListeners(),L.set(document.documentElement,{backgroundColor:this.element.getAttribute("data-background"),color:this.element.getAttribute("data-color")}),Promise.resolve()}hide(t){return this.isVisible=!1,this.removeEventListeners(),Promise.resolve()}transform(t,e){t.style[this.transformPrefix]=`translate3d(0, ${-Math.round(e)}px, 0)`}onResize(){this.elements.wrapper&&window.requestAnimationFrame(()=>{this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight,this.animations.forEach(t=>{t.onResize&&t.onResize()})})}onTouchDown(t){ri.isMobile&&(this.isDown=!0,this.scroll.position=this.scroll.current,this.start=t.touches?t.touches[0].clientY:t.clientY)}onTouchMove(t){if(!ri.isMobile||!this.isDown)return;const e=t.touches?t.touches[0].clientY:t.clientY,s=(this.start-e)*3;this.scroll.target=this.scroll.position+s}onTouchUp(){ri.isMobile&&(this.isDown=!1)}onWheel(t){const e=t.pixelY;return this.scroll.target+=e,e}addEventListeners(){}removeEventListeners(){}update(){this.scroll.target=pr(0,this.scroll.limit,this.scroll.target),this.scroll.current=Sh(this.scroll.current,this.scroll.target,this.scroll.ease),this.scroll.current=Math.floor(this.scroll.current),this.scroll.current<.1&&(this.scroll.current=0),this.elements.wrapper&&this.transform(this.elements.wrapper,this.scroll.current),this.animations.forEach(t=>{t.update&&t.update(this.scroll)}),this.scroll.last=this.scroll.current}}class fw extends hs{constructor(){super({id:"unsupported-screen",classes:{disabled:"unsupported--disabled"},element:"#unsupported-screen",elements:{wrapper:".unsupported__wrapper"}}),this.show()}show(){this.element.classList.remove(this.classes.disabled)}hide(){this.element.classList.add(this.classes.disabled)}}class pw extends hs{constructor(){super({id:"about",classes:{active:"about--active"},element:".about",elements:{wrapper:".about__wrapper",navigation:document.querySelector(".navigation"),title:".about__title"}})}async show(t){return this.element.classList.add(this.classes.active),super.show(t)}async hide(t){return this.element.classList.remove(this.classes.active),super.hide(t)}}class mw extends hs{constructor(){super({id:"collections",classes:{active:"collections--active"},element:".collections",elements:{wrapper:".collections__wrapper",articlesDescriptions:".collections__article__description"}})}async show(t){return this.element.classList.add(this.classes.active),j(this.elements.articlesDescriptions,e=>{tt({element:e,expression:"<br>"}),tt({element:e,expression:"<br>"})}),super.show(t)}async hide(t){return this.element.classList.remove(this.classes.active),super.hide(t)}}class gw extends Ee{constructor({element:t,elements:e}){super({element:t,elements:e}),this.transformPrefix=Ye("transform"),this.speed=2,this.scroll={ease:.1,position:0,current:0,target:0,last:0,clamp:0},at(this.elements.items,s=>{const r=Be(s);s.extra=0,s.height=r.height,s.offset=r.top,s.position=0}),this.length=this.elements.items.length,this.height=this.elements.items[0].height,this.heightTotal=this.elements.list.getBoundingClientRect().height}enable(){this.isEnabled=!0,this.update()}disable(){this.isEnabled=!1}onTouchDown(t){this.isEnabled&&(this.isDown=!0,this.scroll.position=this.scroll.current,this.start=t.touches?t.touches[0].clientY:t.clientY)}onTouchMove(t){if(!this.isDown||!this.isEnabled)return;const e=t.touches?t.touches[0].clientY:t.clientY,s=(this.start-e)*2;this.scroll.target=this.scroll.position+s}onTouchUp(){this.isEnabled&&(this.isDown=!1)}onWheel(t){if(!this.isEnabled)return;const e=t.pixelY*.5;this.scroll.target+=e,this.speed=e>0?2:-2}transform(t,e){t.style[this.transformPrefix]=`translate3d(0, ${Math.floor(e)}px, 0)`}update(){if(!this.isEnabled)return;this.scroll.target+=this.speed,this.scroll.current=Sh(this.scroll.current,this.scroll.target,this.scroll.ease);const t=Math.round(this.scroll.current%this.heightTotal);this.scroll.current<this.scroll.last?this.direction="down":this.direction="up",at(this.elements.items,e=>{e.position=-this.scroll.current-e.extra;const s=e.position+e.offset+e.height;e.isBefore=s<0,e.isAfter=s>this.heightTotal,this.direction==="up"&&e.isBefore&&(e.extra=e.extra-this.heightTotal,e.isBefore=!1,e.isAfter=!1),this.direction==="down"&&e.isAfter&&(e.extra=e.extra+this.heightTotal,e.isBefore=!1,e.isAfter=!1),e.clamp=e.extra%t,this.transform(e,e.position)}),this.scroll.last=this.scroll.current,this.scroll.clamp=t}onResize(){at(this.elements.items,t=>{this.transform(t,0);const e=Be(t);t.extra=0,t.height=e.height,t.offset=e.top,t.position=0}),this.height=this.elements.items[0].getBoundingClientRect().height,this.heightTotal=this.elements.list.getBoundingClientRect().height,this.scroll={ease:.1,position:0,current:0,target:0,last:0}}}class _w extends hs{constructor(){super({id:"home",classes:{active:"home--active"},element:".home",elements:{wrapper:".home__wrapper",navigation:document.querySelector(".navigation"),link:".home__link",list:".home__titles",items:".home__titles__label, .home__titles__title"}})}create(){super.create(),this.titles=new gw({element:document.body,elements:{list:this.elements.list,items:this.elements.items}}),this.titles.enable()}async show(t){return this.element.classList.add(this.classes.active),super.show(t)}async hide(t){return this.element.classList.remove(this.classes.active),super.hide(t)}onResize(){super.onResize(),this.titles.onResize()}onTouchDown(t){this.titles.onTouchDown(t)}onTouchMove(t){this.titles.onTouchMove(t)}onTouchUp(t){this.titles.onTouchUp(t)}onWheel(t){this.titles.onWheel(t)}update(){super.update(),this.titles.update()}destroy(){super.destroy()}}class Ca{constructor(){this.template=window.location.pathname,this.mouse={x:window.innerWidth/2,y:window.innerHeight/2},Zi(this),ri.check({onErrorWebGL:this.createUnsupportedScreen,onSuccess:this.init})}init(){this.createCanvas(),this.createPreloader(),this.createTransition(),this.createNavigation(),this.createPages(),this.addEventListeners(),this.addLinkListeners(),this.onResize()}createNavigation(){this.navigation=new rw({template:this.template})}createPreloader(){this.preloader=new nw({canvas:this.canvas}),this.preloader.once("completed",this.onPreloaded)}createCanvas(){this.canvas=new ew({template:this.template})}createTransition(){this.transition=new aw}createPages(){this.about=new pw,this.collections=new mw,this.home=new _w,this.pages={"/":this.home,"/about":this.about,"/collections":this.collections},this.page=this.pages[this.template]}createUnsupportedScreen(){this.UnsupportedScreen=new fw}createStats(){this.stats=new Rh,document.body.appendChild(this.stats.dom)}createAnalytics(){}onPreloaded(){this.onResize(),this.createAnalytics(),this.update(),this.canvas.onPreloaded(),this.page.show()}onContextMenu(t){return t.preventDefault(),t.stopPropagation(),!1}onPopState(){this.onChange({url:window.location.pathname,push:!1})}async onChange({url:t,push:e=!0}){t=t.replace(window.location.origin,"");const s=this.pages[t];await this.transition.show({color:s.element.getAttribute("data-color")}),e&&window.history.pushState({},"",t),this.template=window.location.pathname,this.page.hide(),this.navigation.onChange(this.template),this.canvas.onChange(this.template),this.page=s,this.page.show(),this.onResize(),this.transition.hide()}onResize(){this.page&&this.page.onResize&&this.page.onResize(),window.requestAnimationFrame(()=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()})}onKeyDown(t){t.key==="Tab"&&t.preventDefault(),t.key==="ArrowDown"?this.page.scroll.target+=100:t.key==="ArrowUp"&&(this.page.scroll.target-=100)}onFocusIn(t){t.preventDefault()}onTouchDown(t){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(t),this.page&&this.page.onTouchDown&&this.page.onTouchDown(t)}onTouchMove(t){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(t),this.page&&this.page.onTouchDown&&this.page.onTouchMove(t)}onTouchUp(t){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(t),this.page&&this.page.onTouchDown&&this.page.onTouchUp(t)}onWheel(t){const e=jh(t);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(e),this.page&&this.page.onWheel&&this.page.onWheel(e)}update(){this.stats&&this.stats.begin(),this.page&&this.page.update(),this.canvas&&this.canvas.update(this.page.scroll),this.stats&&this.stats.end(),this.frame=window.requestAnimationFrame(this.update)}addEventListeners(){window.addEventListener("popstate",this.onPopState,{passive:!0}),window.addEventListener("resize",this.onResize,{passive:!0}),window.addEventListener("mousedown",this.onTouchDown,{passive:!0}),window.addEventListener("mousemove",this.onTouchMove,{passive:!0}),window.addEventListener("mouseup",this.onTouchUp,{passive:!0}),window.addEventListener("touchstart",this.onTouchDown,{passive:!0}),window.addEventListener("touchmove",this.onTouchMove,{passive:!0}),window.addEventListener("touchend",this.onTouchUp,{passive:!0}),window.addEventListener("wheel",this.onWheel,{passive:!0}),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("focusin",this.onFocusIn),window.oncontextmenu=this.onContextMenu}addLinkListeners(){const t=document.querySelectorAll("a");at(t,e=>{const s=e.href.indexOf(window.location.origin)>-1,r=e.href.indexOf("#")>-1,n=e.href.indexOf("mailto")===-1,a=e.href.indexOf("tel")===-1;s?e.onclick=o=>{o.preventDefault(),r||this.onChange({url:e.href})}:n&&a&&(e.rel="noopener",e.target="_blank")})}}const vw=new Xa("George X"),yw=new Xa("Suisse BP"),Oa=2e3;Promise.all([vw.load(null,Oa),yw.load(null,Oa)]).then(()=>{window.APP=new Ca}).catch(()=>{window.APP=new Ca});console.log("%c Rebuilt by Jose Felix - https://josefelix.work/ inspired by Bizarro's work - https://bizar.ro/","background: #000; color: #fff;");
